var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(V,ra,La,la){var x=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable;La.exports=function(){try{if(!Object.assign)return!1;var Pb=new String("abc");Pb[5]="de";if("5"===Object.getOwnPropertyNames(Pb)[0])return!1;var vc={};for(Pb=0;10>Pb;Pb++)vc["_"+String.fromCharCode(Pb)]=Pb;if("0123456789"!==Object.getOwnPropertyNames(vc).map(function(rb){return vc[rb]}).join(""))return!1;var Ec={};"abcdefghijklmnopqrst".split("").forEach(function(rb){Ec[rb]=
rb});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},Ec)).join("")?!1:!0}catch(rb){return!1}}()?Object.assign:function(Pb,vc){if(null===Pb||void 0===Pb)throw new TypeError("Object.assign cannot be called with null or undefined");var Ec=Object(Pb);for(var rb,Mc=1;Mc<arguments.length;Mc++){var Gb=Object(arguments[Mc]);for(var Ya in Gb)Oa.call(Gb,Ya)&&(Ec[Ya]=Gb[Ya]);if(x){rb=x(Gb);for(var Ub=0;Ub<rb.length;Ub++)Za.call(Gb,rb[Ub])&&(Ec[rb[Ub]]=Gb[rb[Ub]])}}return Ec}};
shadow$provide[1]=function(V,ra,La,la){function x(da){if(null===da||"object"!==typeof da)return null;da=bd&&da[bd]||da["@@iterator"];return"function"===typeof da?da:null}function Oa(da){for(var Aa="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+da,sa=1;sa<arguments.length;sa++)Aa+="\x26args[]\x3d"+encodeURIComponent(arguments[sa]);return"Minified React error #"+da+"; visit "+Aa+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}
function Za(da,Aa,sa){this.props=da;this.context=Aa;this.refs=Fc;this.updater=sa||Rb}function Pb(){}function vc(da,Aa,sa){this.props=da;this.context=Aa;this.refs=Fc;this.updater=sa||Rb}function Ec(da,Aa,sa){var Ea,Ga={},ab=null,lb=null;if(null!=Aa)for(Ea in void 0!==Aa.ref&&(lb=Aa.ref),void 0!==Aa.key&&(ab=""+Aa.key),Aa)Wf.call(Aa,Ea)&&!qc.hasOwnProperty(Ea)&&(Ga[Ea]=Aa[Ea]);var ub=arguments.length-2;if(1===ub)Ga.children=sa;else if(1<ub){for(var vb=Array(ub),ec=0;ec<ub;ec++)vb[ec]=arguments[ec+2];
Ga.children=vb}if(da&&da.defaultProps)for(Ea in ub=da.defaultProps,ub)void 0===Ga[Ea]&&(Ga[Ea]=ub[Ea]);return{$$typeof:Tc,type:da,key:ab,ref:lb,props:Ga,_owner:Gc.current}}function rb(da,Aa){return{$$typeof:Tc,type:da.type,key:Aa,ref:da.ref,props:da.props,_owner:da._owner}}function Mc(da){return"object"===typeof da&&null!==da&&da.$$typeof===Tc}function Gb(da){var Aa={"\x3d":"\x3d0",":":"\x3d2"};return"$"+da.replace(/[=:]/g,function(sa){return Aa[sa]})}function Ya(da,Aa){return"object"===typeof da&&
null!==da&&null!=da.key?Gb(""+da.key):Aa.toString(36)}function Ub(da,Aa,sa,Ea,Ga){var ab=typeof da;if("undefined"===ab||"boolean"===ab)da=null;var lb=!1;if(null===da)lb=!0;else switch(ab){case "string":case "number":lb=!0;break;case "object":switch(da.$$typeof){case Tc:case Ge:lb=!0}}if(lb)return lb=da,Ga=Ga(lb),da=""===Ea?"."+Ya(lb,0):Ea,Array.isArray(Ga)?(sa="",null!=da&&(sa=da.replace(Mb,"$\x26/")+"/"),Ub(Ga,Aa,sa,"",function(ec){return ec})):null!=Ga&&(Mc(Ga)&&(Ga=rb(Ga,sa+(!Ga.key||lb&&lb.key===
Ga.key?"":(""+Ga.key).replace(Mb,"$\x26/")+"/")+da)),Aa.push(Ga)),1;lb=0;Ea=""===Ea?".":Ea+":";if(Array.isArray(da))for(var ub=0;ub<da.length;ub++){ab=da[ub];var vb=Ea+Ya(ab,ub);lb+=Ub(ab,Aa,sa,vb,Ga)}else if(vb=x(da),"function"===typeof vb)for(da=vb.call(da),ub=0;!(ab=da.next()).done;)ab=ab.value,vb=Ea+Ya(ab,ub++),lb+=Ub(ab,Aa,sa,vb,Ga);else if("object"===ab)throw Aa=""+da,Error(Oa(31,"[object Object]"===Aa?"object with keys {"+Object.keys(da).join(", ")+"}":Aa));return lb}function Hc(da,Aa,sa){if(null==
da)return da;var Ea=[],Ga=0;Ub(da,Ea,"","",function(ab){return Aa.call(sa,ab,Ga++)});return Ea}function nf(da){if(-1===da._status){var Aa=da._result;Aa=Aa();da._status=0;da._result=Aa;Aa.then(function(sa){0===da._status&&(sa=sa.default,da._status=1,da._result=sa)},function(sa){0===da._status&&(da._status=2,da._result=sa)})}if(1===da._status)return da._result;throw da._result;}function Nb(){var da=sd.current;if(null===da)throw Error(Oa(321));return da}var bc=ra(0),Tc=60103,Ge=60106;la.Fragment=60107;
la.StrictMode=60108;la.Profiler=60114;var td=60109,ld=60110,Qb=60112;la.Suspense=60113;var Yc=60115,ud=60116;"function"===typeof Symbol&&Symbol.for&&(V=Symbol.for,Tc=V("react.element"),Ge=V("react.portal"),la.Fragment=V("react.fragment"),la.StrictMode=V("react.strict_mode"),la.Profiler=V("react.profiler"),td=V("react.provider"),ld=V("react.context"),Qb=V("react.forward_ref"),la.Suspense=V("react.suspense"),Yc=V("react.memo"),ud=V("react.lazy"));var bd="function"===typeof Symbol&&Symbol.iterator,Rb=
{isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fc={};Za.prototype.isReactComponent={};Za.prototype.setState=function(da,Aa){if("object"!==typeof da&&"function"!==typeof da&&null!=da)throw Error(Oa(85));this.updater.enqueueSetState(this,da,Aa,"setState")};Za.prototype.forceUpdate=function(da){this.updater.enqueueForceUpdate(this,da,"forceUpdate")};Pb.prototype=Za.prototype;V=vc.prototype=new Pb;V.constructor=vc;bc(V,Za.prototype);
V.isPureReactComponent=!0;var Gc={current:null},Wf=Object.prototype.hasOwnProperty,qc={key:!0,ref:!0,__self:!0,__source:!0},Mb=/\/+/g,sd={current:null};V={ReactCurrentDispatcher:sd,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Gc,IsSomeRendererActing:{current:!1},assign:bc};la.Children={map:Hc,forEach:function(da,Aa,sa){Hc(da,function(){Aa.apply(this,arguments)},sa)},count:function(da){var Aa=0;Hc(da,function(){Aa++});return Aa},toArray:function(da){return Hc(da,function(Aa){return Aa})||
[]},only:function(da){if(!Mc(da))throw Error(Oa(143));return da}};la.Component=Za;la.PureComponent=vc;la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V;la.cloneElement=function(da,Aa,sa){if(null===da||void 0===da)throw Error(Oa(267,da));var Ea=bc({},da.props),Ga=da.key,ab=da.ref,lb=da._owner;if(null!=Aa){void 0!==Aa.ref&&(ab=Aa.ref,lb=Gc.current);void 0!==Aa.key&&(Ga=""+Aa.key);if(da.type&&da.type.defaultProps)var ub=da.type.defaultProps;for(vb in Aa)Wf.call(Aa,vb)&&!qc.hasOwnProperty(vb)&&
(Ea[vb]=void 0===Aa[vb]&&void 0!==ub?ub[vb]:Aa[vb])}var vb=arguments.length-2;if(1===vb)Ea.children=sa;else if(1<vb){ub=Array(vb);for(var ec=0;ec<vb;ec++)ub[ec]=arguments[ec+2];Ea.children=ub}return{$$typeof:Tc,type:da.type,key:Ga,ref:ab,props:Ea,_owner:lb}};la.createContext=function(da,Aa){void 0===Aa&&(Aa=null);da={$$typeof:ld,_calculateChangedBits:Aa,_currentValue:da,_currentValue2:da,_threadCount:0,Provider:null,Consumer:null};da.Provider={$$typeof:td,_context:da};return da.Consumer=da};la.createElement=
Ec;la.createFactory=function(da){var Aa=Ec.bind(null,da);Aa.type=da;return Aa};la.createRef=function(){return{current:null}};la.forwardRef=function(da){return{$$typeof:Qb,render:da}};la.isValidElement=Mc;la.lazy=function(da){return{$$typeof:ud,_payload:{_status:-1,_result:da},_init:nf}};la.memo=function(da,Aa){return{$$typeof:Yc,type:da,compare:void 0===Aa?null:Aa}};la.useCallback=function(da,Aa){return Nb().useCallback(da,Aa)};la.useContext=function(da,Aa){return Nb().useContext(da,Aa)};la.useDebugValue=
function(){};la.useEffect=function(da,Aa){return Nb().useEffect(da,Aa)};la.useImperativeHandle=function(da,Aa,sa){return Nb().useImperativeHandle(da,Aa,sa)};la.useLayoutEffect=function(da,Aa){return Nb().useLayoutEffect(da,Aa)};la.useMemo=function(da,Aa){return Nb().useMemo(da,Aa)};la.useReducer=function(da,Aa,sa){return Nb().useReducer(da,Aa,sa)};la.useRef=function(da){return Nb().useRef(da)};la.useState=function(da){return Nb().useState(da)};la.version="17.0.2"};
shadow$provide[3]=function(V,ra,La,la){La.exports=ra(1)};
shadow$provide[4]=function(V,ra,La,la){function x(sa,Ea){var Ga=sa.length;sa.push(Ea);a:for(;;){var ab=Ga-1>>>1,lb=sa[ab];if(void 0!==lb&&0<Pb(lb,Ea))sa[ab]=Ea,sa[Ga]=lb,Ga=ab;else break a}}function Oa(sa){sa=sa[0];return void 0===sa?null:sa}function Za(sa){var Ea=sa[0];if(void 0!==Ea){var Ga=sa.pop();if(Ga!==Ea){sa[0]=Ga;var ab=0,lb=sa.length;a:for(;ab<lb;){var ub=2*(ab+1)-1,vb=sa[ub],ec=ub+1,Md=sa[ec];if(void 0!==vb&&0>Pb(vb,Ga))void 0!==Md&&0>Pb(Md,vb)?(sa[ab]=Md,sa[ec]=Ga,ab=ec):(sa[ab]=vb,sa[ub]=
Ga,ab=ub);else if(void 0!==Md&&0>Pb(Md,Ga))sa[ab]=Md,sa[ec]=Ga,ab=ec;else break a}}return Ea}return null}function Pb(sa,Ea){var Ga=sa.sortIndex-Ea.sortIndex;return 0!==Ga?Ga:sa.id-Ea.id}function vc(sa){for(var Ea=Oa(Gc);null!==Ea;){if(null===Ea.callback)Za(Gc);else if(Ea.startTime<=sa)Za(Gc),Ea.sortIndex=Ea.expirationTime,x(Fc,Ea);else break;Ea=Oa(Gc)}}function Ec(sa){Aa=!1;vc(sa);if(!da)if(null!==Oa(Fc))da=!0,Nb(rb);else{var Ea=Oa(Gc);null!==Ea&&bc(Ec,Ea.startTime-sa)}}function rb(sa,Ea){da=!1;Aa&&
(Aa=!1,Tc());sd=!0;var Ga=Mb;try{vc(Ea);for(qc=Oa(Fc);null!==qc&&(!(qc.expirationTime>Ea)||sa&&!la.unstable_shouldYield());){var ab=qc.callback;if("function"===typeof ab){qc.callback=null;Mb=qc.priorityLevel;var lb=ab(qc.expirationTime<=Ea);Ea=la.unstable_now();"function"===typeof lb?qc.callback=lb:qc===Oa(Fc)&&Za(Fc);vc(Ea)}else Za(Fc);qc=Oa(Fc)}if(null!==qc)var ub=!0;else{var vb=Oa(Gc);null!==vb&&bc(Ec,vb.startTime-Ea);ub=!1}return ub}finally{qc=null,Mb=Ga,sd=!1}}if("object"===typeof performance&&
"function"===typeof performance.now){var Mc=performance;la.unstable_now=function(){return Mc.now()}}else{var Gb=Date,Ya=Gb.now();la.unstable_now=function(){return Gb.now()-Ya}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var Ub=null,Hc=null,nf=function(){if(null!==Ub)try{var sa=la.unstable_now();Ub(!0,sa);Ub=null}catch(Ea){throw setTimeout(nf,0),Ea;}};var Nb=function(sa){null!==Ub?setTimeout(Nb,0,sa):(Ub=sa,setTimeout(nf,0))};var bc=function(sa,Ea){Hc=setTimeout(sa,Ea)};var Tc=
function(){clearTimeout(Hc)};la.unstable_shouldYield=function(){return!1};V=la.unstable_forceFrameRate=function(){}}else{var Ge=window.setTimeout,td=window.clearTimeout;"undefined"!==typeof console&&(V=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof V&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));
var ld=!1,Qb=null,Yc=-1,ud=5,bd=0;la.unstable_shouldYield=function(){return la.unstable_now()>=bd};V=function(){};la.unstable_forceFrameRate=function(sa){0>sa||125<sa?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ud=0<sa?Math.floor(1E3/sa):5};ra=new MessageChannel;var Rb=ra.port2;ra.port1.onmessage=function(){if(null!==Qb){var sa=la.unstable_now();bd=sa+ud;try{Qb(!0,sa)?Rb.postMessage(null):(ld=!1,Qb=null)}catch(Ea){throw Rb.postMessage(null),
Ea;}}else ld=!1};Nb=function(sa){Qb=sa;ld||(ld=!0,Rb.postMessage(null))};bc=function(sa,Ea){Yc=Ge(function(){sa(la.unstable_now())},Ea)};Tc=function(){td(Yc);Yc=-1}}var Fc=[],Gc=[],Wf=1,qc=null,Mb=3,sd=!1,da=!1,Aa=!1;la.unstable_IdlePriority=5;la.unstable_ImmediatePriority=1;la.unstable_LowPriority=4;la.unstable_NormalPriority=3;la.unstable_Profiling=null;la.unstable_UserBlockingPriority=2;la.unstable_cancelCallback=function(sa){sa.callback=null};la.unstable_continueExecution=function(){da||sd||(da=
!0,Nb(rb))};la.unstable_getCurrentPriorityLevel=function(){return Mb};la.unstable_getFirstCallbackNode=function(){return Oa(Fc)};la.unstable_next=function(sa){switch(Mb){case 1:case 2:case 3:var Ea=3;break;default:Ea=Mb}var Ga=Mb;Mb=Ea;try{return sa()}finally{Mb=Ga}};la.unstable_pauseExecution=function(){};la.unstable_requestPaint=V;la.unstable_runWithPriority=function(sa,Ea){switch(sa){case 1:case 2:case 3:case 4:case 5:break;default:sa=3}var Ga=Mb;Mb=sa;try{return Ea()}finally{Mb=Ga}};la.unstable_scheduleCallback=
function(sa,Ea,Ga){var ab=la.unstable_now();"object"===typeof Ga&&null!==Ga?(Ga=Ga.delay,Ga="number"===typeof Ga&&0<Ga?ab+Ga:ab):Ga=ab;switch(sa){case 1:var lb=-1;break;case 2:lb=250;break;case 5:lb=1073741823;break;case 4:lb=1E4;break;default:lb=5E3}lb=Ga+lb;sa={id:Wf++,callback:Ea,priorityLevel:sa,startTime:Ga,expirationTime:lb,sortIndex:-1};Ga>ab?(sa.sortIndex=Ga,x(Gc,sa),null===Oa(Fc)&&sa===Oa(Gc)&&(Aa?Tc():Aa=!0,bc(Ec,Ga-ab))):(sa.sortIndex=lb,x(Fc,sa),da||sd||(da=!0,Nb(rb)));return sa};la.unstable_wrapCallback=
function(sa){var Ea=Mb;return function(){var Ga=Mb;Mb=Ea;try{return sa.apply(this,arguments)}finally{Mb=Ga}}}};
shadow$provide[6]=function(V,ra,La,la){La.exports=ra(4)};
shadow$provide[7]=function(V,ra,La,la){function x(e){for(var g="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+e,k=1;k<arguments.length;k++)g+="\x26args[]\x3d"+encodeURIComponent(arguments[k]);return"Minified React error #"+e+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Oa(e,g){Za(e,g);Za(e+"Capture",g)}function Za(e,g){Nd[e]=g;for(e=0;e<g.length;e++)wc.add(g[e])}function Pb(e){if(Yg.call(zj,e))return!0;
if(Yg.call(xc,e))return!1;if(Od.test(e))return zj[e]=!0;xc[e]=!0;return!1}function vc(e,g,k,q){if(null!==k&&0===k.type)return!1;switch(typeof g){case "function":case "symbol":return!0;case "boolean":if(q)return!1;if(null!==k)return!k.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function Ec(e,g,k,q){if(null===g||"undefined"===typeof g||vc(e,g,k,q))return!0;if(q)return!1;if(null!==k)switch(k.type){case 3:return!g;case 4:return!1===g;case 5:return isNaN(g);
case 6:return isNaN(g)||1>g}return!1}function rb(e,g,k,q,u,y,D){this.acceptsBooleans=2===g||3===g||4===g;this.attributeName=q;this.attributeNamespace=u;this.mustUseProperty=k;this.propertyName=e;this.type=g;this.sanitizeURL=y;this.removeEmptyString=D}function Mc(e){return e[1].toUpperCase()}function Gb(e,g,k,q){var u=fc.hasOwnProperty(g)?fc[g]:null;(null!==u?0===u.type:q?0:2<g.length&&("o"===g[0]||"O"===g[0])&&("n"===g[1]||"N"===g[1]))||(Ec(g,k,u,q)&&(k=null),q||null===u?Pb(g)&&(null===k?e.removeAttribute(g):
e.setAttribute(g,""+k)):u.mustUseProperty?e[u.propertyName]=null===k?3===u.type?!1:"":k:(g=u.attributeName,q=u.attributeNamespace,null===k?e.removeAttribute(g):(u=u.type,k=3===u||4===u&&!0===k?"":""+k,q?e.setAttributeNS(q,g,k):e.setAttribute(g,k))))}function Ya(e){if(null===e||"object"!==typeof e)return null;e=Aj&&e[Aj]||e["@@iterator"];return"function"===typeof e?e:null}function Ub(e){if(void 0===Zg)try{throw Error();}catch(k){var g=k.stack.trim().match(/\n( *(at )?)/);Zg=g&&g[1]||""}return"\n"+
Zg+e}function Hc(e,g){if(!e||ki)return"";ki=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error();},Object.defineProperty(g.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(g,[])}catch(N){var q=N}Reflect.construct(e,[],g)}else{try{g.call()}catch(N){q=N}e.call(g.prototype)}else{try{throw Error();}catch(N){q=N}e()}}catch(N){if(N&&q&&"string"===typeof N.stack){for(var u=N.stack.split("\n"),
y=q.stack.split("\n"),D=u.length-1,H=y.length-1;1<=D&&0<=H&&u[D]!==y[H];)H--;for(;1<=D&&0<=H;D--,H--)if(u[D]!==y[H]){if(1!==D||1!==H){do if(D--,H--,0>H||u[D]!==y[H])return"\n"+u[D].replace(" at new "," at ");while(1<=D&&0<=H)}break}}}finally{ki=!1,Error.prepareStackTrace=k}return(e=e?e.displayName||e.name:"")?Ub(e):""}function nf(e){switch(e.tag){case 5:return Ub(e.type);case 16:return Ub("Lazy");case 13:return Ub("Suspense");case 19:return Ub("SuspenseList");case 0:case 2:case 15:return e=Hc(e.type,
!1),e;case 11:return e=Hc(e.type.render,!1),e;case 22:return e=Hc(e.type._render,!1),e;case 1:return e=Hc(e.type,!0),e;default:return""}}function Nb(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Uc:return"Fragment";case of:return"Portal";case He:return"Profiler";case ie:return"StrictMode";case Da:return"Suspense";case Zc:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Xf:return(e.displayName||
"Context")+".Consumer";case Yf:return(e._context.displayName||"Context")+".Provider";case gb:var g=e.render;g=g.displayName||g.name||"";return e.displayName||(""!==g?"ForwardRef("+g+")":"ForwardRef");case pf:return Nb(e.type);case li:return Nb(e._render);case Zf:g=e._payload;e=e._init;try{return Nb(e(g))}catch(k){}}return null}function bc(e){switch(typeof e){case "boolean":case "number":case "object":case "string":case "undefined":return e;default:return""}}function Tc(e){var g=e.type;return(e=e.nodeName)&&
"input"===e.toLowerCase()&&("checkbox"===g||"radio"===g)}function Ge(e){var g=Tc(e)?"checked":"value",k=Object.getOwnPropertyDescriptor(e.constructor.prototype,g),q=""+e[g];if(!e.hasOwnProperty(g)&&"undefined"!==typeof k&&"function"===typeof k.get&&"function"===typeof k.set){var u=k.get,y=k.set;Object.defineProperty(e,g,{configurable:!0,get:function(){return u.call(this)},set:function(D){q=""+D;y.call(this,D)}});Object.defineProperty(e,g,{enumerable:k.enumerable});return{getValue:function(){return q},
setValue:function(D){q=""+D},stopTracking:function(){e._valueTracker=null;delete e[g]}}}}function td(e){e._valueTracker||(e._valueTracker=Ge(e))}function ld(e){if(!e)return!1;var g=e._valueTracker;if(!g)return!0;var k=g.getValue(),q="";e&&(q=Tc(e)?e.checked?"true":"false":e.value);e=q;return e!==k?(g.setValue(e),!0):!1}function Qb(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(g){return e.body}}function Yc(e,g){var k=
g.checked;return Jb({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=k?k:e._wrapperState.initialChecked})}function ud(e,g){var k=null==g.defaultValue?"":g.defaultValue,q=null!=g.checked?g.checked:g.defaultChecked;k=bc(null!=g.value?g.value:k);e._wrapperState={initialChecked:q,initialValue:k,controlled:"checkbox"===g.type||"radio"===g.type?null!=g.checked:null!=g.value}}function bd(e,g){g=g.checked;null!=g&&Gb(e,"checked",g,!1)}function Rb(e,g){bd(e,g);var k=bc(g.value),q=
g.type;if(null!=k)if("number"===q){if(0===k&&""===e.value||e.value!=k)e.value=""+k}else e.value!==""+k&&(e.value=""+k);else if("submit"===q||"reset"===q){e.removeAttribute("value");return}g.hasOwnProperty("value")?Gc(e,g.type,k):g.hasOwnProperty("defaultValue")&&Gc(e,g.type,bc(g.defaultValue));null==g.checked&&null!=g.defaultChecked&&(e.defaultChecked=!!g.defaultChecked)}function Fc(e,g,k){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var q=g.type;if(!("submit"!==q&&"reset"!==q||
void 0!==g.value&&null!==g.value))return;g=""+e._wrapperState.initialValue;k||g===e.value||(e.value=g);e.defaultValue=g}k=e.name;""!==k&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==k&&(e.name=k)}function Gc(e,g,k){if("number"!==g||Qb(e.ownerDocument)!==e)null==k?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+k&&(e.defaultValue=""+k)}function Wf(e){var g="";$g.Children.forEach(e,function(k){null!=k&&(g+=k)});return g}function qc(e,g){e=Jb({children:void 0},
g);if(g=Wf(g.children))e.children=g;return e}function Mb(e,g,k,q){e=e.options;if(g){g={};for(var u=0;u<k.length;u++)g["$"+k[u]]=!0;for(k=0;k<e.length;k++)u=g.hasOwnProperty("$"+e[k].value),e[k].selected!==u&&(e[k].selected=u),u&&q&&(e[k].defaultSelected=!0)}else{k=""+bc(k);g=null;for(u=0;u<e.length;u++){if(e[u].value===k){e[u].selected=!0;q&&(e[u].defaultSelected=!0);return}null!==g||e[u].disabled||(g=e[u])}null!==g&&(g.selected=!0)}}function sd(e,g){if(null!=g.dangerouslySetInnerHTML)throw Error(x(91));
return Jb({},g,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function da(e,g){var k=g.value;if(null==k){k=g.children;g=g.defaultValue;if(null!=k){if(null!=g)throw Error(x(92));if(Array.isArray(k)){if(!(1>=k.length))throw Error(x(93));k=k[0]}g=k}null==g&&(g="");k=g}e._wrapperState={initialValue:bc(k)}}function Aa(e,g){var k=bc(g.value),q=bc(g.defaultValue);null!=k&&(k=""+k,k!==e.value&&(e.value=k),null==g.defaultValue&&e.defaultValue!==k&&(e.defaultValue=k));null!=q&&
(e.defaultValue=""+q)}function sa(e){var g=e.textContent;g===e._wrapperState.initialValue&&""!==g&&null!==g&&(e.value=g)}function Ea(e){switch(e){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(e,g){return null==e||"http://www.w3.org/1999/xhtml"===e?Ea(g):"http://www.w3.org/2000/svg"===e&&"foreignObject"===g?"http://www.w3.org/1999/xhtml":e}function ab(e,g){if(g){var k=e.firstChild;if(k&&
k===e.lastChild&&3===k.nodeType){k.nodeValue=g;return}}e.textContent=g}function lb(e,g,k){return null==g||"boolean"===typeof g||""===g?"":k||"number"!==typeof g||0===g||$f.hasOwnProperty(e)&&$f[e]?(""+g).trim():g+"px"}function ub(e,g){e=e.style;for(var k in g)if(g.hasOwnProperty(k)){var q=0===k.indexOf("--"),u=lb(k,g[k],q);"float"===k&&(k="cssFloat");q?e.setProperty(k,u):e[k]=u}}function vb(e,g){if(g){if(Gk[e]&&(null!=g.children||null!=g.dangerouslySetInnerHTML))throw Error(x(137,e));if(null!=g.dangerouslySetInnerHTML){if(null!=
g.children)throw Error(x(60));if(!("object"===typeof g.dangerouslySetInnerHTML&&"__html"in g.dangerouslySetInnerHTML))throw Error(x(61));}if(null!=g.style&&"object"!==typeof g.style)throw Error(x(62));}}function ec(e,g){if(-1===e.indexOf("-"))return"string"===typeof g.is;switch(e){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function Md(e){e=e.target||
e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function Hk(e){if(e=ah(e)){if("function"!==typeof mi)throw Error(x(280));var g=e.stateNode;g&&(g=ag(g),mi(e.stateNode,e.type,g))}}function Ik(e){qf?bg?bg.push(e):bg=[e]:qf=e}function Jk(){if(qf){var e=qf,g=bg;bg=qf=null;Hk(e);if(g)for(e=0;e<g.length;e++)Hk(g[e])}}function Bj(e,g){return e(g)}function Kk(e,g,k,q,u){return e(g,k,q,u)}function Cj(){}function Ie(){if(null!==qf||null!==bg)Cj(),
Jk()}function rc(e,g,k){if(bh)return e(g,k);bh=!0;try{return Lk(e,g,k)}finally{bh=!1,Ie()}}function Vb(e,g){var k=e.stateNode;if(null===k)return null;var q=ag(k);if(null===q)return null;k=q[g];a:switch(g){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(q=!q.disabled)||(e=e.type,q=!("button"===e||"input"===e||"select"===
e||"textarea"===e));e=!q;break a;default:e=!1}if(e)return null;if(k&&"function"!==typeof k)throw Error(x(231,g,typeof k));return k}function ni(e,g,k,q,u,y,D,H,N){var ha=Array.prototype.slice.call(arguments,3);try{g.apply(k,ha)}catch(Ia){this.onError(Ia)}}function Wl(e,g,k,q,u,y,D,H,N){rf=!1;oi=null;ni.apply(Xl,arguments)}function Yl(e,g,k,q,u,y,D,H,N){Wl.apply(this,arguments);if(rf){if(rf){var ha=oi;rf=!1;oi=null}else throw Error(x(198));ch||(ch=!0,Dj=ha)}}function sf(e){var g=e,k=e;if(e.alternate)for(;g.return;)g=
g.return;else{e=g;do g=e,0!==(g.flags&1026)&&(k=g.return),e=g.return;while(e)}return 3===g.tag?k:null}function Mk(e){if(13===e.tag){var g=e.memoizedState;null===g&&(e=e.alternate,null!==e&&(g=e.memoizedState));if(null!==g)return g.dehydrated}return null}function Nk(e){if(sf(e)!==e)throw Error(x(188));}function Zl(e){var g=e.alternate;if(!g){g=sf(e);if(null===g)throw Error(x(188));return g!==e?null:e}for(var k=e,q=g;;){var u=k.return;if(null===u)break;var y=u.alternate;if(null===y){q=u.return;if(null!==
q){k=q;continue}break}if(u.child===y.child){for(y=u.child;y;){if(y===k)return Nk(u),e;if(y===q)return Nk(u),g;y=y.sibling}throw Error(x(188));}if(k.return!==q.return)k=u,q=y;else{for(var D=!1,H=u.child;H;){if(H===k){D=!0;k=u;q=y;break}if(H===q){D=!0;q=u;k=y;break}H=H.sibling}if(!D){for(H=y.child;H;){if(H===k){D=!0;k=y;q=u;break}if(H===q){D=!0;q=y;k=u;break}H=H.sibling}if(!D)throw Error(x(189));}}if(k.alternate!==q)throw Error(x(190));}if(3!==k.tag)throw Error(x(188));return k.stateNode.current===
k?e:g}function Ok(e){e=Zl(e);if(!e)return null;for(var g=e;;){if(5===g.tag||6===g.tag)return g;if(g.child)g.child.return=g,g=g.child;else{if(g===e)break;for(;!g.sibling;){if(!g.return||g.return===e)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}}return null}function Pk(e,g){for(var k=e.alternate;null!==g;){if(g===e||g===k)return!0;g=g.return}return!1}function Ej(e,g,k,q,u){return{blockedOn:e,domEventName:g,eventSystemFlags:k|16,nativeEvent:u,targetContainers:[q]}}function Qk(e,g){switch(e){case "focusin":case "focusout":Pd=
null;break;case "dragenter":case "dragleave":Qd=null;break;case "mouseover":case "mouseout":je=null;break;case "pointerover":case "pointerout":Rd.delete(g.pointerId);break;case "gotpointercapture":case "lostpointercapture":dh.delete(g.pointerId)}}function eh(e,g,k,q,u,y){if(null===e||e.nativeEvent!==y)return e=Ej(g,k,q,u,y),null!==g&&(g=ah(g),null!==g&&Rk(g)),e;e.eventSystemFlags|=q;g=e.targetContainers;null!==u&&-1===g.indexOf(u)&&g.push(u);return e}function $l(e,g,k,q,u){switch(g){case "focusin":return Pd=
eh(Pd,e,g,k,q,u),!0;case "dragenter":return Qd=eh(Qd,e,g,k,q,u),!0;case "mouseover":return je=eh(je,e,g,k,q,u),!0;case "pointerover":var y=u.pointerId;Rd.set(y,eh(Rd.get(y)||null,e,g,k,q,u));return!0;case "gotpointercapture":return y=u.pointerId,dh.set(y,eh(dh.get(y)||null,e,g,k,q,u)),!0}return!1}function am(e){var g=vd(e.target);if(null!==g){var k=sf(g);if(null!==k)if(g=k.tag,13===g){if(g=Mk(k),null!==g){e.blockedOn=g;bm(e.lanePriority,function(){gc.unstable_runWithPriority(e.priority,function(){tf(k)})});
return}}else if(3===g&&k.stateNode.hydrate){e.blockedOn=3===k.tag?k.stateNode.containerInfo:null;return}}e.blockedOn=null}function pi(e){if(null!==e.blockedOn)return!1;for(var g=e.targetContainers;0<g.length;){var k=Fj(e.domEventName,e.eventSystemFlags,g[0],e.nativeEvent);if(null!==k)return g=ah(k),null!==g&&Rk(g),e.blockedOn=k,!1;g.shift()}return!0}function Sk(e,g,k){pi(e)&&k.delete(g)}function cm(){for(Gj=!1;0<Sd.length;){var e=Sd[0];if(null!==e.blockedOn){e=ah(e.blockedOn);null!==e&&Tk(e);break}for(var g=
e.targetContainers;0<g.length;){var k=Fj(e.domEventName,e.eventSystemFlags,g[0],e.nativeEvent);if(null!==k){e.blockedOn=k;break}g.shift()}null===e.blockedOn&&Sd.shift()}null!==Pd&&pi(Pd)&&(Pd=null);null!==Qd&&pi(Qd)&&(Qd=null);null!==je&&pi(je)&&(je=null);Rd.forEach(Sk);dh.forEach(Sk)}function fh(e,g){e.blockedOn===g&&(e.blockedOn=null,Gj||(Gj=!0,gc.unstable_scheduleCallback(gc.unstable_NormalPriority,cm)))}function Uk(e){function g(u){return fh(u,e)}if(0<Sd.length){fh(Sd[0],e);for(var k=1;k<Sd.length;k++){var q=
Sd[k];q.blockedOn===e&&(q.blockedOn=null)}}null!==Pd&&fh(Pd,e);null!==Qd&&fh(Qd,e);null!==je&&fh(je,e);Rd.forEach(g);dh.forEach(g);for(k=0;k<uf.length;k++)q=uf[k],q.blockedOn===e&&(q.blockedOn=null);for(;0<uf.length&&(k=uf[0],null===k.blockedOn);)am(k),null===k.blockedOn&&uf.shift()}function qi(e,g){var k={};k[e.toLowerCase()]=g.toLowerCase();k["Webkit"+e]="webkit"+g;k["Moz"+e]="moz"+g;return k}function ri(e){if(si[e])return si[e];if(!cg[e])return e;var g=cg[e],k;for(k in g)if(g.hasOwnProperty(k)&&
k in Hj)return si[e]=g[k];return e}function Ij(e,g){for(var k=0;k<e.length;k+=2){var q=e[k],u=e[k+1];u="on"+(u[0].toUpperCase()+u.slice(1));Je.set(q,g);Nc.set(q,u);Oa(u,[q])}}function dg(e){if(0!==(1&e))return Bb=15,1;if(0!==(2&e))return Bb=14,2;if(0!==(4&e))return Bb=13,4;var g=24&e;if(0!==g)return Bb=12,g;if(0!==(e&32))return Bb=11,32;g=192&e;if(0!==g)return Bb=10,g;if(0!==(e&256))return Bb=9,256;g=3584&e;if(0!==g)return Bb=8,g;if(0!==(e&4096))return Bb=7,4096;g=4186112&e;if(0!==g)return Bb=6,g;
g=62914560&e;if(0!==g)return Bb=5,g;if(e&67108864)return Bb=4,67108864;if(0!==(e&134217728))return Bb=3,134217728;g=805306368&e;if(0!==g)return Bb=2,g;if(0!==(1073741824&e))return Bb=1,1073741824;Bb=8;return e}function dm(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function em(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;
case 0:return 90;default:throw Error(x(358,e));}}function gh(e,g){var k=e.pendingLanes;if(0===k)return Bb=0;var q=0,u=0,y=e.expiredLanes,D=e.suspendedLanes,H=e.pingedLanes;if(0!==y)q=y,u=Bb=15;else if(y=k&134217727,0!==y){var N=y&~D;0!==N?(q=dg(N),u=Bb):(H&=y,0!==H&&(q=dg(H),u=Bb))}else y=k&~D,0!==y?(q=dg(y),u=Bb):0!==H&&(q=dg(H),u=Bb);if(0===q)return 0;q=31-cd(q);q=k&((0>q?0:1<<q)<<1)-1;if(0!==g&&g!==q&&0===(g&D)){dg(g);if(u<=Bb)return g;Bb=u}g=e.entangledLanes;if(0!==g)for(e=e.entanglements,g&=
q;0<g;)k=31-cd(g),u=1<<k,q|=e[k],g&=~u;return q}function Vk(e){e=e.pendingLanes&-1073741825;return 0!==e?e:e&1073741824?1073741824:0}function ti(e,g){switch(e){case 15:return 1;case 14:return 2;case 12:return e=eg(24&~g),0===e?ti(10,g):e;case 10:return e=eg(192&~g),0===e?ti(8,g):e;case 8:return e=eg(3584&~g),0===e&&(e=eg(4186112&~g),0===e&&(e=512)),e;case 2:return g=eg(805306368&~g),0===g&&(g=268435456),g}throw Error(x(358,e));}function eg(e){return e&-e}function Jj(e){for(var g=[],k=0;31>k;k++)g.push(e);
return g}function ui(e,g,k){e.pendingLanes|=g;var q=g-1;e.suspendedLanes&=q;e.pingedLanes&=q;e=e.eventTimes;g=31-cd(g);e[g]=k}function fm(e){return 0===e?32:31-(fg(e)/gg|0)|0}function gm(e,g,k,q){vf||Cj();var u=Kj,y=vf;vf=!0;try{Kk(u,e,g,k,q)}finally{(vf=y)||Ie()}}function hm(e,g,k,q){Wk(hh,Kj.bind(null,e,g,k,q))}function Kj(e,g,k,q){if(wf){var u;if((u=0===(g&4))&&0<Sd.length&&-1<Lj.indexOf(e))e=Ej(null,e,g,k,q),Sd.push(e);else{var y=Fj(e,g,k,q);if(null===y)u&&Qk(e,q);else{if(u){if(-1<Lj.indexOf(e)){e=
Ej(y,e,g,k,q);Sd.push(e);return}if($l(y,e,g,k,q))return;Qk(e,q)}Xk(e,g,q,null,k)}}}}function Fj(e,g,k,q){var u=Md(q);u=vd(u);if(null!==u){var y=sf(u);if(null===y)u=null;else{var D=y.tag;if(13===D){u=Mk(y);if(null!==u)return u;u=null}else if(3===D){if(y.stateNode.hydrate)return 3===y.tag?y.stateNode.containerInfo:null;u=null}else y!==u&&(u=null)}}Xk(e,g,q,u,k);return null}function Yk(){if(ih)return ih;var e,g=hg,k=g.length,q,u="value"in md?md.value:md.textContent,y=u.length;for(e=0;e<k&&g[e]===u[e];e++);
var D=k-e;for(q=1;q<=D&&g[k-q]===u[y-q];q++);return ih=u.slice(e,1<q?1-q:void 0)}function vi(e){var g=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===g&&(e=13)):e=g;10===e&&(e=13);return 32<=e||13===e?e:0}function wi(){return!0}function Zk(){return!1}function dd(e){function g(k,q,u,y,D){this._reactName=k;this._targetInst=u;this.type=q;this.nativeEvent=y;this.target=D;this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(k=e[H],this[H]=k?k(y):y[H]);this.isDefaultPrevented=(null!=y.defaultPrevented?
y.defaultPrevented:!1===y.returnValue)?wi:Zk;this.isPropagationStopped=Zk;return this}Jb(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():"unknown"!==typeof k.returnValue&&(k.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():"unknown"!==typeof k.cancelBubble&&(k.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi});
return g}function $k(e){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(e):(e=ig[e])?!!g[e]:!1}function xi(){return $k}function al(e,g){switch(e){case "keyup":return-1!==bl.indexOf(g.keyCode);case "keydown":return 229!==g.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function cl(e){e=e.detail;return"object"===typeof e&&"data"in e?e.data:null}function im(e,g){switch(e){case "compositionend":return cl(g);case "keypress":if(32!==g.which)return null;
Mj=!0;return Nj;case "textInput":return e=g.data,e===Nj&&Mj?null:e;default:return null}}function jh(e,g){if(Vc)return"compositionend"===e||!yi&&al(e,g)?(e=Yk(),ih=hg=md=null,Vc=!1,e):null;switch(e){case "paste":return null;case "keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case "compositionend":return ke&&"ko"!==g.locale?null:g.data;default:return null}}function Oj(e){var g=
e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===g?!!dl[e.type]:"textarea"===g?!0:!1}function Pj(e,g,k,q){Ik(q);g=zi(g,"onChange");0<g.length&&(k=new Ai("onChange","change",null,k,q),e.push({event:k,listeners:g}))}function Qj(e){el(e,0)}function kh(e){var g=jg(e);if(ld(g))return e}function fl(e,g){if("change"===e)return g}function gl(){xf&&(xf.detachEvent("onpropertychange",hl),kg=xf=null)}function hl(e){if("value"===e.propertyName&&kh(kg)){var g=[];Pj(g,kg,e,Md(e));e=Qj;if(vf)e(g);else{vf=
!0;try{Bj(e,g)}finally{vf=!1,Ie()}}}}function jm(e,g,k){"focusin"===e?(gl(),xf=g,kg=k,xf.attachEvent("onpropertychange",hl)):"focusout"===e&&gl()}function km(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return kh(kg)}function lm(e,g){if("click"===e)return kh(g)}function mm(e,g){if("input"===e||"change"===e)return kh(g)}function nm(e,g){return e===g&&(0!==e||1/e===1/g)||e!==e&&g!==g}function lh(e,g){if(nd(e,g))return!0;if("object"!==typeof e||null===e||"object"!==typeof g||null===g)return!1;
var k=Object.keys(e),q=Object.keys(g);if(k.length!==q.length)return!1;for(q=0;q<k.length;q++)if(!om.call(g,k[q])||!nd(e[k[q]],g[k[q]]))return!1;return!0}function il(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rj(e,g){var k=il(e);e=0;for(var q;k;){if(3===k.nodeType){q=e+k.textContent.length;if(e<=g&&q>=g)return{node:k,offset:g-e};e=q}a:{for(;k;){if(k.nextSibling){k=k.nextSibling;break a}k=k.parentNode}k=void 0}k=il(k)}}function Sj(e,g){return e&&g?e===g?!0:e&&3===e.nodeType?!1:g&&3===
g.nodeType?Sj(e,g.parentNode):"contains"in e?e.contains(g):e.compareDocumentPosition?!!(e.compareDocumentPosition(g)&16):!1:!1}function jl(){for(var e=window,g=Qb();g instanceof e.HTMLIFrameElement;){try{var k="string"===typeof g.contentWindow.location.href}catch(q){k=!1}if(k)e=g.contentWindow;else break;g=Qb(e.document)}return g}function Tj(e){var g=e&&e.nodeName&&e.nodeName.toLowerCase();return g&&("input"===g&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||
"textarea"===g||"true"===e.contentEditable)}function kl(e,g,k){var q=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;ed||null==lg||lg!==Qb(q)||(q=lg,"selectionStart"in q&&Tj(q)?q={start:q.selectionStart,end:q.selectionEnd}:(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset}),mh&&lh(mh,q)||(mh=q,q=zi(Uj,"onSelect"),0<q.length&&(g=new Ai("onSelect","select",null,g,k),
e.push({event:g,listeners:q}),g.target=lg)))}function ll(e,g,k){var q=e.type||"unknown-event";e.currentTarget=k;Yl(q,g,void 0,e);e.currentTarget=null}function el(e,g){g=0!==(g&4);for(var k=0;k<e.length;k++){var q=e[k],u=q.event;q=q.listeners;a:{var y=void 0;if(g)for(var D=q.length-1;0<=D;D--){var H=q[D],N=H.instance,ha=H.currentTarget;H=H.listener;if(N!==y&&u.isPropagationStopped())break a;ll(u,H,ha);y=N}else for(D=0;D<q.length;D++){H=q[D];N=H.instance;ha=H.currentTarget;H=H.listener;if(N!==y&&u.isPropagationStopped())break a;
ll(u,H,ha);y=N}}}if(ch)throw e=Dj,ch=!1,Dj=null,e;}function Ob(e,g){var k=yf(g),q=e+"__bubble";k.has(q)||(ml(g,e,2,!1),k.add(q))}function nl(e){e[Bi]||(e[Bi]=!0,wc.forEach(function(g){Ci.has(g)||ol(g,!1,e,null);ol(g,!0,e,null)}))}function ol(e,g,k,q){var u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,y=k;"selectionchange"===e&&9!==k.nodeType&&(y=k.ownerDocument);if(null!==q&&!g&&Ci.has(e)){if("scroll"!==e)return;u|=2;y=q}var D=yf(y),H=e+"__"+(g?"capture":"bubble");D.has(H)||(g&&(u|=4),
ml(y,e,u,g),D.add(H))}function ml(e,g,k,q){var u=Je.get(g);switch(void 0===u?2:u){case 0:u=gm;break;case 1:u=hm;break;default:u=Kj}k=u.bind(null,g,k,e);u=void 0;!mg||"touchstart"!==g&&"touchmove"!==g&&"wheel"!==g||(u=!0);q?void 0!==u?e.addEventListener(g,k,{capture:!0,passive:u}):e.addEventListener(g,k,!0):void 0!==u?e.addEventListener(g,k,{passive:u}):e.addEventListener(g,k,!1)}function Xk(e,g,k,q,u){var y=q;if(0===(g&1)&&0===(g&2)&&null!==q)a:for(;;){if(null===q)return;var D=q.tag;if(3===D||4===
D){var H=q.stateNode.containerInfo;if(H===u||8===H.nodeType&&H.parentNode===u)break;if(4===D)for(D=q.return;null!==D;){var N=D.tag;if(3===N||4===N)if(N=D.stateNode.containerInfo,N===u||8===N.nodeType&&N.parentNode===u)return;D=D.return}for(;null!==H;){D=vd(H);if(null===D)return;N=D.tag;if(5===N||6===N){q=y=D;continue a}H=H.parentNode}}q=q.return}rc(function(){var ha=y,Ia=Md(k),fb=[];a:{var ia=Nc.get(e);if(void 0!==ia){var Va=Ai,cb=e;switch(e){case "keypress":if(0===vi(k))break a;case "keydown":case "keyup":Va=
pl;break;case "focusin":cb="focus";Va=nh;break;case "focusout":cb="blur";Va=nh;break;case "beforeblur":case "afterblur":Va=nh;break;case "click":if(2===k.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Va=Vj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Va=ql;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Va=
oh;break;case Di:case Ei:case Wj:Va=Xj;break;case ph:Va=rl;break;case "scroll":Va=Fi;break;case "wheel":Va=sl;break;case "copy":case "cut":case "paste":Va=Yj;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Va=Zj}var bb=0!==(g&4),Y=!bb&&"scroll"===e,R=bb?null!==ia?ia+"Capture":null:ia;bb=[];for(var W=ha,qa;null!==W;){qa=W;var ua=qa.stateNode;5===qa.tag&&null!==ua&&(qa=ua,null!==
R&&(ua=Vb(W,R),null!=ua&&bb.push(ng(W,ua,qa))));if(Y)break;W=W.return}0<bb.length&&(ia=new Va(ia,cb,null,k,Ia),fb.push({event:ia,listeners:bb}))}}if(0===(g&7)){ia="mouseover"===e||"pointerover"===e;Va="mouseout"===e||"pointerout"===e;if(!ia||0!==(g&16)||!(cb=k.relatedTarget||k.fromElement)||!vd(cb)&&!cb[Ke])if(Va||ia){ia=Ia.window===Ia?Ia:(ia=Ia.ownerDocument)?ia.defaultView||ia.parentWindow:window;if(Va){if(cb=k.relatedTarget||k.toElement,Va=ha,cb=cb?vd(cb):null,null!==cb&&(Y=sf(cb),cb!==Y||5!==
cb.tag&&6!==cb.tag))cb=null}else Va=null,cb=ha;if(Va!==cb){bb=Vj;ua="onMouseLeave";R="onMouseEnter";W="mouse";if("pointerout"===e||"pointerover"===e)bb=Zj,ua="onPointerLeave",R="onPointerEnter",W="pointer";Y=null==Va?ia:jg(Va);qa=null==cb?ia:jg(cb);ia=new bb(ua,W+"leave",Va,k,Ia);ia.target=Y;ia.relatedTarget=qa;ua=null;vd(Ia)===ha&&(bb=new bb(R,W+"enter",cb,k,Ia),bb.target=qa,bb.relatedTarget=Y,ua=bb);Y=ua;if(Va&&cb)b:{bb=Va;R=cb;W=0;for(qa=bb;qa;qa=og(qa))W++;qa=0;for(ua=R;ua;ua=og(ua))qa++;for(;0<
W-qa;)bb=og(bb),W--;for(;0<qa-W;)R=og(R),qa--;for(;W--;){if(bb===R||null!==R&&bb===R.alternate)break b;bb=og(bb);R=og(R)}bb=null}else bb=null;null!==Va&&qh(fb,ia,Va,bb,!1);null!==cb&&null!==Y&&qh(fb,Y,cb,bb,!0)}}ia=ha?jg(ha):window;Va=ia.nodeName&&ia.nodeName.toLowerCase();if("select"===Va||"input"===Va&&"file"===ia.type)var hb=fl;else if(Oj(ia))if(Gi)hb=mm;else{hb=km;var Qa=jm}else(Va=ia.nodeName)&&"input"===Va.toLowerCase()&&("checkbox"===ia.type||"radio"===ia.type)&&(hb=lm);hb&&(hb=hb(e,ha))?Pj(fb,
hb,k,Ia):(Qa&&Qa(e,ia,ha),"focusout"===e&&(Qa=ia._wrapperState)&&Qa.controlled&&"number"===ia.type&&Gc(ia,"number",ia.value));Qa=ha?jg(ha):window;switch(e){case "focusin":if(Oj(Qa)||"true"===Qa.contentEditable)lg=Qa,Uj=ha,mh=null;break;case "focusout":mh=Uj=lg=null;break;case "mousedown":ed=!0;break;case "contextmenu":case "mouseup":case "dragend":ed=!1;kl(fb,k,Ia);break;case "selectionchange":if(Hi)break;case "keydown":case "keyup":kl(fb,k,Ia)}var ib;if(yi)a:{switch(e){case "compositionstart":var qb=
"onCompositionStart";break a;case "compositionend":qb="onCompositionEnd";break a;case "compositionupdate":qb="onCompositionUpdate";break a}qb=void 0}else Vc?al(e,k)&&(qb="onCompositionEnd"):"keydown"===e&&229===k.keyCode&&(qb="onCompositionStart");qb&&(ke&&"ko"!==k.locale&&(Vc||"onCompositionStart"!==qb?"onCompositionEnd"===qb&&Vc&&(ib=Yk()):(md=Ia,hg="value"in md?md.value:md.textContent,Vc=!0)),Qa=zi(ha,qb),0<Qa.length&&(qb=new ak(qb,e,null,k,Ia),fb.push({event:qb,listeners:Qa}),ib?qb.data=ib:(ib=
cl(k),null!==ib&&(qb.data=ib))));if(ib=rh?im(e,k):jh(e,k))ha=zi(ha,"onBeforeInput"),0<ha.length&&(Ia=new ak("onBeforeInput","beforeinput",null,k,Ia),fb.push({event:Ia,listeners:ha}),Ia.data=ib)}el(fb,g)})}function ng(e,g,k){return{instance:e,listener:g,currentTarget:k}}function zi(e,g){for(var k=g+"Capture",q=[];null!==e;){var u=e,y=u.stateNode;5===u.tag&&null!==y&&(u=y,y=Vb(e,k),null!=y&&q.unshift(ng(e,y,u)),y=Vb(e,g),null!=y&&q.push(ng(e,y,u)));e=e.return}return q}function og(e){if(null===e)return null;
do e=e.return;while(e&&5!==e.tag);return e?e:null}function qh(e,g,k,q,u){for(var y=g._reactName,D=[];null!==k&&k!==q;){var H=k,N=H.alternate,ha=H.stateNode;if(null!==N&&N===q)break;5===H.tag&&null!==ha&&(H=ha,u?(N=Vb(k,y),null!=N&&D.unshift(ng(k,N,H))):u||(N=Vb(k,y),null!=N&&D.push(ng(k,N,H))));k=k.return}0!==D.length&&e.push({event:g,listeners:D})}function sh(){}function Ii(e,g){switch(e){case "button":case "input":case "select":case "textarea":return!!g.autoFocus}return!1}function Ji(e,g){return"textarea"===
e||"option"===e||"noscript"===e||"string"===typeof g.children||"number"===typeof g.children||"object"===typeof g.dangerouslySetInnerHTML&&null!==g.dangerouslySetInnerHTML&&null!=g.dangerouslySetInnerHTML.__html}function zf(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(e=e.body,null!=e&&(e.textContent=""))}function Td(e){for(;null!=e;e=e.nextSibling){var g=e.nodeType;if(1===g||3===g)break}return e}function bk(e){e=e.previousSibling;for(var g=0;e;){if(8===e.nodeType){var k=e.data;if("$"===k||
"$!"===k||"$?"===k){if(0===g)return e;g--}else"/$"===k&&g++}e=e.previousSibling}return null}function Af(e){return{$$typeof:th,toString:e,valueOf:e}}function vd(e){var g=e[Ud];if(g)return g;for(var k=e.parentNode;k;){if(g=k[Ke]||k[Ud]){k=g.alternate;if(null!==g.child||null!==k&&null!==k.child)for(e=bk(e);null!==e;){if(k=e[Ud])return k;e=bk(e)}return g}e=k;k=e.parentNode}return null}function ah(e){e=e[Ud]||e[Ke];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jg(e){if(5===e.tag||
6===e.tag)return e.stateNode;throw Error(x(33));}function ag(e){return e[pg]||null}function yf(e){var g=e[uh];void 0===g&&(g=e[uh]=new Set);return g}function Cb(e){return{current:e}}function Hb(e){0>Vd||(e.current=Ki[Vd],Ki[Vd]=null,Vd--)}function Wb(e,g){Vd++;Ki[Vd]=e.current;e.current=g}function le(e,g){var k=e.type.contextTypes;if(!k)return wd;var q=e.stateNode;if(q&&q.__reactInternalMemoizedUnmaskedChildContext===g)return q.__reactInternalMemoizedMaskedChildContext;var u={},y;for(y in k)u[y]=
g[y];q&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=u);return u}function Ic(e){e=e.childContextTypes;return null!==e&&void 0!==e}function Le(){Hb(Oc);Hb(yc)}function ck(e,g,k){if(yc.current!==wd)throw Error(x(168));Wb(yc,g);Wb(Oc,k)}function dk(e,g,k){var q=e.stateNode;e=g.childContextTypes;if("function"!==typeof q.getChildContext)return k;q=q.getChildContext();for(var u in q)if(!(u in e))throw Error(x(108,Nb(g)||"Unknown",u));return Jb({},
k,q)}function Me(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wd;xd=yc.current;Wb(yc,e);Wb(Oc,Oc.current);return!0}function Li(e,g,k){var q=e.stateNode;if(!q)throw Error(x(169));k?(e=dk(e,g,xd),q.__reactInternalMemoizedMergedChildContext=e,Hb(Oc),Hb(yc),Wb(yc,e)):Hb(Oc);Wb(Oc,k)}function Bf(){switch(Cf()){case Mi:return 99;case Wd:return 98;case Ni:return 97;case tl:return 96;case Oi:return 95;default:throw Error(x(332));}}function ek(e){switch(e){case 99:return Mi;case 98:return Wd;
case 97:return Ni;case 96:return tl;case 95:return Oi;default:throw Error(x(332));}}function Ne(e,g){e=ek(e);return fk(e,g)}function yd(e,g,k){e=ek(e);return qg(e,g,k)}function zd(){if(null!==Df){var e=Df;Df=null;rg(e)}gk()}function gk(){if(!vh&&null!==Ad){vh=!0;var e=0;try{var g=Ad;Ne(99,function(){for(;e<g.length;e++){var k=g[e];do k=k(!0);while(null!==k)}});Ad=null}catch(k){throw null!==Ad&&(Ad=Ad.slice(e+1)),qg(Mi,zd),k;}finally{vh=!1}}}function fd(e,g){if(e&&e.defaultProps){g=Jb({},g);e=e.defaultProps;
for(var k in e)void 0===g[k]&&(g[k]=e[k])}return g}function wh(e){var g=xh.current;Hb(xh);e.type._context._currentValue=g}function ul(e,g){for(;null!==e;){var k=e.alternate;if((e.childLanes&g)===g)if(null===k||(k.childLanes&g)===g)break;else k.childLanes|=g;else e.childLanes|=g,null!==k&&(k.childLanes|=g);e=e.return}}function Ef(e,g){Ff=e;Gf=me=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(0!==(e.lanes&g)&&(sc=!0),e.firstContext=null)}function gd(e,g){if(Gf!==e&&!1!==g&&0!==g){if("number"!==
typeof g||1073741823===g)Gf=e,g=1073741823;g={context:e,observedBits:g,next:null};if(null===me){if(null===Ff)throw Error(x(308));me=g;Ff.dependencies={lanes:0,firstContext:g,responders:null}}else me=me.next=g}return e._currentValue}function yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function hk(e,g){e=e.updateQueue;g.updateQueue===e&&(g.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,
shared:e.shared,effects:e.effects})}function Ib(e,g){return{eventTime:e,lane:g,tag:0,payload:null,callback:null,next:null}}function Pc(e,g){e=e.updateQueue;if(null!==e){e=e.shared;var k=e.pending;null===k?g.next=g:(g.next=k.next,k.next=g);e.pending=g}}function Jc(e,g){var k=e.updateQueue,q=e.alternate;if(null!==q&&(q=q.updateQueue,k===q)){var u=null,y=null;k=k.firstBaseUpdate;if(null!==k){do{var D={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};null===
y?u=y=D:y=y.next=D;k=k.next}while(null!==k);null===y?u=y=g:y=y.next=g}else u=y=g;k={baseState:q.baseState,firstBaseUpdate:u,lastBaseUpdate:y,shared:q.shared,effects:q.effects};e.updateQueue=k}else e=k.lastBaseUpdate,null===e?k.firstBaseUpdate=g:e.next=g,k.lastBaseUpdate=g}function sg(e,g,k,q){var u=e.updateQueue;Xd=!1;var y=u.firstBaseUpdate,D=u.lastBaseUpdate,H=u.shared.pending;if(null!==H){u.shared.pending=null;var N=H,ha=N.next;N.next=null;null===D?y=ha:D.next=ha;D=N;var Ia=e.alternate;if(null!==
Ia){Ia=Ia.updateQueue;var fb=Ia.lastBaseUpdate;fb!==D&&(null===fb?Ia.firstBaseUpdate=ha:fb.next=ha,Ia.lastBaseUpdate=N)}}if(null!==y){fb=u.baseState;D=0;Ia=ha=N=null;do{H=y.lane;var ia=y.eventTime;if((q&H)===H){null!==Ia&&(Ia=Ia.next={eventTime:ia,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});a:{var Va=e,cb=y;H=g;ia=k;switch(cb.tag){case 1:Va=cb.payload;if("function"===typeof Va){fb=Va.call(ia,fb,H);break a}fb=Va;break a;case 3:Va.flags=Va.flags&-4097|64;case 0:Va=cb.payload;
H="function"===typeof Va?Va.call(ia,fb,H):Va;if(null===H||void 0===H)break a;fb=Jb({},fb,H);break a;case 2:Xd=!0}}null!==y.callback&&(e.flags|=32,H=u.effects,null===H?u.effects=[y]:H.push(y))}else ia={eventTime:ia,lane:H,tag:y.tag,payload:y.payload,callback:y.callback,next:null},null===Ia?(ha=Ia=ia,N=fb):Ia=Ia.next=ia,D|=H;y=y.next;if(null===y)if(H=u.shared.pending,null===H)break;else y=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}while(1);null===Ia&&(N=fb);u.baseState=N;u.firstBaseUpdate=
ha;u.lastBaseUpdate=Ia;zh|=D;e.lanes=D;e.memoizedState=fb}}function Oe(e,g,k){e=g.effects;g.effects=null;if(null!==e)for(g=0;g<e.length;g++){var q=e[g],u=q.callback;if(null!==u){q.callback=null;q=k;if("function"!==typeof u)throw Error(x(191,u));u.call(q)}}}function ne(e,g,k,q){g=e.memoizedState;k=k(q,g);k=null===k||void 0===k?g:Jb({},g,k);e.memoizedState=k;0===e.lanes&&(e.updateQueue.baseState=k)}function vl(e,g,k,q,u,y,D){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(q,
y,D):g.prototype&&g.prototype.isPureReactComponent?!lh(k,q)||!lh(u,y):!0}function va(e,g,k){var q=!1,u=wd,y=g.contextType;"object"===typeof y&&null!==y?y=gd(y):(u=Ic(g)?xd:yc.current,q=g.contextTypes,y=(q=null!==q&&void 0!==q)?le(e,u):wd);g=new g(k,y);e.memoizedState=null!==g.state&&void 0!==g.state?g.state:null;g.updater=Ah;e.stateNode=g;g._reactInternals=e;q&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=y);return g}function nb(e,g,k,
q){e=g.state;"function"===typeof g.componentWillReceiveProps&&g.componentWillReceiveProps(k,q);"function"===typeof g.UNSAFE_componentWillReceiveProps&&g.UNSAFE_componentWillReceiveProps(k,q);g.state!==e&&Ah.enqueueReplaceState(g,g.state,null)}function Bh(e,g,k,q){var u=e.stateNode;u.props=k;u.state=e.memoizedState;u.refs=ik;yh(e);var y=g.contextType;"object"===typeof y&&null!==y?u.context=gd(y):(y=Ic(g)?xd:yc.current,u.context=le(e,y));sg(e,k,u,q);u.state=e.memoizedState;y=g.getDerivedStateFromProps;
"function"===typeof y&&(ne(e,g,y,k),u.state=e.memoizedState);"function"===typeof g.getDerivedStateFromProps||"function"===typeof u.getSnapshotBeforeUpdate||"function"!==typeof u.UNSAFE_componentWillMount&&"function"!==typeof u.componentWillMount||(g=u.state,"function"===typeof u.componentWillMount&&u.componentWillMount(),"function"===typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount(),g!==u.state&&Ah.enqueueReplaceState(u,u.state,null),sg(e,k,u,q),u.state=e.memoizedState);"function"===
typeof u.componentDidMount&&(e.flags|=4)}function Yd(e,g,k){e=k.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(k._owner){if(k=k._owner){if(1!==k.tag)throw Error(x(309));var q=k.stateNode}if(!q)throw Error(x(147,e));var u=""+e;if(null!==g&&null!==g.ref&&"function"===typeof g.ref&&g.ref._stringRef===u)return g.ref;g=function(y){var D=q.refs;D===ik&&(D=q.refs={});null===y?delete D[u]:D[u]=y};g._stringRef=u;return g}if("string"!==typeof e)throw Error(x(284));if(!k._owner)throw Error(x(290,
e));}return e}function Ch(e,g){if("textarea"!==e.type)throw Error(x(31,"[object Object]"===Object.prototype.toString.call(g)?"object with keys {"+Object.keys(g).join(", ")+"}":g));}function jk(e){function g(Y,R){if(e){var W=Y.lastEffect;null!==W?(W.nextEffect=R,Y.lastEffect=R):Y.firstEffect=Y.lastEffect=R;R.nextEffect=null;R.flags=8}}function k(Y,R){if(!e)return null;for(;null!==R;)g(Y,R),R=R.sibling;return null}function q(Y,R){for(Y=new Map;null!==R;)null!==R.key?Y.set(R.key,R):Y.set(R.index,R),
R=R.sibling;return Y}function u(Y,R){Y=mc(Y,R);Y.index=0;Y.sibling=null;return Y}function y(Y,R,W){Y.index=W;if(!e)return R;W=Y.alternate;if(null!==W)return W=W.index,W<R?(Y.flags=2,R):W;Y.flags=2;return R}function D(Y){e&&null===Y.alternate&&(Y.flags=2);return Y}function H(Y,R,W,qa){if(null===R||6!==R.tag)return R=Pi(W,Y.mode,qa),R.return=Y,R;R=u(R,W);R.return=Y;return R}function N(Y,R,W,qa){if(null!==R&&R.elementType===W.type)return qa=u(R,W.props),qa.ref=Yd(Y,R,W),qa.return=Y,qa;qa=Pe(W.type,W.key,
W.props,null,Y.mode,qa);qa.ref=Yd(Y,R,W);qa.return=Y;return qa}function ha(Y,R,W,qa){if(null===R||4!==R.tag||R.stateNode.containerInfo!==W.containerInfo||R.stateNode.implementation!==W.implementation)return R=oe(W,Y.mode,qa),R.return=Y,R;R=u(R,W.children||[]);R.return=Y;return R}function Ia(Y,R,W,qa,ua){if(null===R||7!==R.tag)return R=Xb(W,Y.mode,qa,ua),R.return=Y,R;R=u(R,W);R.return=Y;return R}function fb(Y,R,W){if("string"===typeof R||"number"===typeof R)return R=Pi(""+R,Y.mode,W),R.return=Y,R;
if("object"===typeof R&&null!==R){switch(R.$$typeof){case Dh:return W=Pe(R.type,R.key,R.props,null,Y.mode,W),W.ref=Yd(Y,null,R),W.return=Y,W;case of:return R=oe(R,Y.mode,W),R.return=Y,R}if(Eh(R)||Ya(R))return R=Xb(R,Y.mode,W,null),R.return=Y,R;Ch(Y,R)}return null}function ia(Y,R,W,qa){var ua=null!==R?R.key:null;if("string"===typeof W||"number"===typeof W)return null!==ua?null:H(Y,R,""+W,qa);if("object"===typeof W&&null!==W){switch(W.$$typeof){case Dh:return W.key===ua?W.type===Uc?Ia(Y,R,W.props.children,
qa,ua):N(Y,R,W,qa):null;case of:return W.key===ua?ha(Y,R,W,qa):null}if(Eh(W)||Ya(W))return null!==ua?null:Ia(Y,R,W,qa,null);Ch(Y,W)}return null}function Va(Y,R,W,qa,ua){if("string"===typeof qa||"number"===typeof qa)return Y=Y.get(W)||null,H(R,Y,""+qa,ua);if("object"===typeof qa&&null!==qa){switch(qa.$$typeof){case Dh:return Y=Y.get(null===qa.key?W:qa.key)||null,qa.type===Uc?Ia(R,Y,qa.props.children,ua,qa.key):N(R,Y,qa,ua);case of:return Y=Y.get(null===qa.key?W:qa.key)||null,ha(R,Y,qa,ua)}if(Eh(qa)||
Ya(qa))return Y=Y.get(W)||null,Ia(R,Y,qa,ua,null);Ch(R,qa)}return null}function cb(Y,R,W,qa){for(var ua=null,hb=null,Qa=R,ib=R=0,qb=null;null!==Qa&&ib<W.length;ib++){Qa.index>ib?(qb=Qa,Qa=null):qb=Qa.sibling;var jb=ia(Y,Qa,W[ib],qa);if(null===jb){null===Qa&&(Qa=qb);break}e&&Qa&&null===jb.alternate&&g(Y,Qa);R=y(jb,R,ib);null===hb?ua=jb:hb.sibling=jb;hb=jb;Qa=qb}if(ib===W.length)return k(Y,Qa),ua;if(null===Qa){for(;ib<W.length;ib++)Qa=fb(Y,W[ib],qa),null!==Qa&&(R=y(Qa,R,ib),null===hb?ua=Qa:hb.sibling=
Qa,hb=Qa);return ua}for(Qa=q(Y,Qa);ib<W.length;ib++)qb=Va(Qa,Y,ib,W[ib],qa),null!==qb&&(e&&null!==qb.alternate&&Qa.delete(null===qb.key?ib:qb.key),R=y(qb,R,ib),null===hb?ua=qb:hb.sibling=qb,hb=qb);e&&Qa.forEach(function(Qe){return g(Y,Qe)});return ua}function bb(Y,R,W,qa){var ua=Ya(W);if("function"!==typeof ua)throw Error(x(150));W=ua.call(W);if(null==W)throw Error(x(151));for(var hb=ua=null,Qa=R,ib=R=0,qb=null,jb=W.next();null!==Qa&&!jb.done;ib++,jb=W.next()){Qa.index>ib?(qb=Qa,Qa=null):qb=Qa.sibling;
var Qe=ia(Y,Qa,jb.value,qa);if(null===Qe){null===Qa&&(Qa=qb);break}e&&Qa&&null===Qe.alternate&&g(Y,Qa);R=y(Qe,R,ib);null===hb?ua=Qe:hb.sibling=Qe;hb=Qe;Qa=qb}if(jb.done)return k(Y,Qa),ua;if(null===Qa){for(;!jb.done;ib++,jb=W.next())jb=fb(Y,jb.value,qa),null!==jb&&(R=y(jb,R,ib),null===hb?ua=jb:hb.sibling=jb,hb=jb);return ua}for(Qa=q(Y,Qa);!jb.done;ib++,jb=W.next())jb=Va(Qa,Y,ib,jb.value,qa),null!==jb&&(e&&null!==jb.alternate&&Qa.delete(null===jb.key?ib:jb.key),R=y(jb,R,ib),null===hb?ua=jb:hb.sibling=
jb,hb=jb);e&&Qa.forEach(function(wl){return g(Y,wl)});return ua}return function(Y,R,W,qa){var ua="object"===typeof W&&null!==W&&W.type===Uc&&null===W.key;ua&&(W=W.props.children);var hb="object"===typeof W&&null!==W;if(hb)switch(W.$$typeof){case Dh:a:{hb=W.key;for(ua=R;null!==ua;){if(ua.key===hb){switch(ua.tag){case 7:if(W.type===Uc){k(Y,ua.sibling);R=u(ua,W.props.children);R.return=Y;Y=R;break a}break;default:if(ua.elementType===W.type){k(Y,ua.sibling);R=u(ua,W.props);R.ref=Yd(Y,ua,W);R.return=Y;
Y=R;break a}}k(Y,ua);break}else g(Y,ua);ua=ua.sibling}W.type===Uc?(R=Xb(W.props.children,Y.mode,qa,W.key),R.return=Y,Y=R):(qa=Pe(W.type,W.key,W.props,null,Y.mode,qa),qa.ref=Yd(Y,R,W),qa.return=Y,Y=qa)}return D(Y);case of:a:{for(ua=W.key;null!==R;){if(R.key===ua)if(4===R.tag&&R.stateNode.containerInfo===W.containerInfo&&R.stateNode.implementation===W.implementation){k(Y,R.sibling);R=u(R,W.children||[]);R.return=Y;Y=R;break a}else{k(Y,R);break}else g(Y,R);R=R.sibling}R=oe(W,Y.mode,qa);R.return=Y;Y=
R}return D(Y)}if("string"===typeof W||"number"===typeof W)return W=""+W,null!==R&&6===R.tag?(k(Y,R.sibling),R=u(R,W),R.return=Y,Y=R):(k(Y,R),R=Pi(W,Y.mode,qa),R.return=Y,Y=R),D(Y);if(Eh(W))return cb(Y,R,W,qa);if(Ya(W))return bb(Y,R,W,qa);hb&&Ch(Y,W);if("undefined"===typeof W&&!ua)switch(Y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(x(152,Nb(Y.type)||"Component"));}return k(Y,R)}}function Re(e){if(e===tg)throw Error(x(174));return e}function ug(e,g){Wb(pe,g);Wb(Fh,e);Wb(Bd,tg);e=g.nodeType;
switch(e){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Ga(null,"");break;default:e=8===e?g.parentNode:g,g=e.namespaceURI||null,e=e.tagName,g=Ga(g,e)}Hb(Bd);Wb(Bd,g)}function vg(){Hb(Bd);Hb(Fh);Hb(pe)}function Db(e){Re(pe.current);var g=Re(Bd.current),k=Ga(g,e.type);g!==k&&(Wb(Fh,e),Wb(Bd,k))}function Se(e){Fh.current===e&&(Hb(Bd),Hb(Fh))}function wg(e){for(var g=e;null!==g;){if(13===g.tag){var k=g.memoizedState;if(null!==k&&(k=k.dehydrated,null===k||"$?"===k.data||"$!"===k.data))return g}else if(19===
g.tag&&void 0!==g.memoizedProps.revealOrder){if(0!==(g.flags&64))return g}else if(null!==g.child){g.child.return=g;g=g.child;continue}if(g===e)break;for(;null===g.sibling;){if(null===g.return||g.return===e)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}return null}function xl(e,g){var k=Yb(5,null,null,0);k.elementType="DELETED";k.type="DELETED";k.stateNode=g;k.return=e;k.flags=8;null!==e.lastEffect?(e.lastEffect.nextEffect=k,e.lastEffect=k):e.firstEffect=e.lastEffect=k}function Te(e,
g){switch(e.tag){case 5:var k=e.type;g=1!==g.nodeType||k.toLowerCase()!==g.nodeName.toLowerCase()?null:g;return null!==g?(e.stateNode=g,!0):!1;case 6:return g=""===e.pendingProps||3!==g.nodeType?null:g,null!==g?(e.stateNode=g,!0):!1;case 13:return!1;default:return!1}}function kk(e){if(cc){var g=Cd;if(g){var k=g;if(!Te(e,g)){g=Td(k.nextSibling);if(!g||!Te(e,g)){e.flags=e.flags&-1025|2;cc=!1;hd=e;return}xl(hd,k)}hd=e;Cd=Td(g.firstChild)}else e.flags=e.flags&-1025|2,cc=!1,hd=e}}function hc(e){for(e=
e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hd=e}function Ab(e){if(e!==hd)return!1;if(!cc)return hc(e),cc=!0,!1;var g=e.type;if(5!==e.tag||"head"!==g&&"body"!==g&&!Ji(g,e.memoizedProps))for(g=Cd;g;)xl(e,g),g=Td(g.nextSibling);hc(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(x(317));a:{e=e.nextSibling;for(g=0;e;){if(8===e.nodeType){var k=e.data;if("/$"===k){if(0===g){Cd=Td(e.nextSibling);break a}g--}else"$"!==k&&"$!"!==k&&"$?"!==k||g++}e=e.nextSibling}Cd=
null}}else Cd=hd?Td(e.stateNode.nextSibling):null;return!0}function Qi(){for(var e=0;e<od.length;e++)od[e]._workInProgressVersionPrimary=null;od.length=0}function Sb(){throw Error(x(321));}function xg(e,g){if(null===g)return!1;for(var k=0;k<g.length&&k<e.length;k++)if(!nd(e[k],g[k]))return!1;return!0}function lk(e,g,k,q,u,y){yg=y;Eb=g;g.memoizedState=null;g.updateQueue=null;g.lanes=0;Hf.current=null===e||null===e.memoizedState?yl:$c;e=k(q,u);if(Dd){y=0;do{Dd=!1;if(!(25>y))throw Error(x(301));y+=1;
ic=dc=null;g.updateQueue=null;Hf.current=qe;e=k(q,u)}while(Dd)}Hf.current=zg;g=null!==dc&&null!==dc.next;yg=0;ic=dc=Eb=null;Ue=!1;if(g)throw Error(x(300));return e}function re(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===ic?Eb.memoizedState=ic=e:ic=ic.next=e;return ic}function If(){if(null===dc){var e=Eb.alternate;e=null!==e?e.memoizedState:null}else e=dc.next;var g=null===ic?Eb.memoizedState:ic.next;if(null!==g)ic=g,dc=e;else{if(null===e)throw Error(x(310));
dc=e;e={memoizedState:dc.memoizedState,baseState:dc.baseState,baseQueue:dc.baseQueue,queue:dc.queue,next:null};null===ic?Eb.memoizedState=ic=e:ic=ic.next=e}return ic}function Zd(e,g){return"function"===typeof g?g(e):g}function zc(e){var g=If(),k=g.queue;if(null===k)throw Error(x(311));k.lastRenderedReducer=e;var q=dc,u=q.baseQueue,y=k.pending;if(null!==y){if(null!==u){var D=u.next;u.next=y.next;y.next=D}q.baseQueue=u=y;k.pending=null}if(null!==u){u=u.next;q=q.baseState;var H=D=y=null,N=u;do{var ha=
N.lane;if((yg&ha)===ha)null!==H&&(H=H.next={lane:0,action:N.action,eagerReducer:N.eagerReducer,eagerState:N.eagerState,next:null}),q=N.eagerReducer===e?N.eagerState:e(q,N.action);else{var Ia={lane:ha,action:N.action,eagerReducer:N.eagerReducer,eagerState:N.eagerState,next:null};null===H?(D=H=Ia,y=q):H=H.next=Ia;Eb.lanes|=ha;zh|=ha}N=N.next}while(null!==N&&N!==u);null===H?y=q:H.next=D;nd(q,g.memoizedState)||(sc=!0);g.memoizedState=q;g.baseState=y;g.baseQueue=H;k.lastRenderedState=q}return[g.memoizedState,
k.dispatch]}function I(e){var g=If(),k=g.queue;if(null===k)throw Error(x(311));k.lastRenderedReducer=e;var q=k.dispatch,u=k.pending,y=g.memoizedState;if(null!==u){k.pending=null;var D=u=u.next;do y=e(y,D.action),D=D.next;while(D!==u);nd(y,g.memoizedState)||(sc=!0);g.memoizedState=y;null===g.baseQueue&&(g.baseState=y);k.lastRenderedState=y}return[y,q]}function Ri(e,g,k){var q=g._getVersion;q=q(g._source);var u=g._workInProgressVersionPrimary;if(null!==u)e=u===q;else if(e=e.mutableReadLanes,e=(yg&e)===
e)g._workInProgressVersionPrimary=q,od.push(g);if(e)return k(g._source);od.push(g);throw Error(x(350));}function mk(e,g,k,q){var u=Kc;if(null===u)throw Error(x(349));var y=g._getVersion,D=y(g._source),H=Hf.current,N=H.useState(function(){return Ri(u,g,k)}),ha=N[1],Ia=N[0];N=ic;var fb=e.memoizedState,ia=fb.refs,Va=ia.getSnapshot,cb=fb.source;fb=fb.subscribe;var bb=Eb;e.memoizedState={refs:ia,source:g,subscribe:q};H.useEffect(function(){ia.getSnapshot=k;ia.setSnapshot=ha;var Y=y(g._source);if(!nd(D,
Y)){Y=k(g._source);nd(Ia,Y)||(ha(Y),Y=se(bb),u.mutableReadLanes|=Y&u.pendingLanes);Y=u.mutableReadLanes;u.entangledLanes|=Y;for(var R=u.entanglements,W=Y;0<W;){var qa=31-cd(W),ua=1<<qa;R[qa]|=Y;W&=~ua}}},[k,g,q]);H.useEffect(function(){return q(g._source,function(){var Y=ia.getSnapshot,R=ia.setSnapshot;try{R(Y(g._source));var W=se(bb);u.mutableReadLanes|=W&u.pendingLanes}catch(qa){R(function(){throw qa;})}})},[g,q]);nd(Va,k)&&nd(cb,g)&&nd(fb,q)||(e={pending:null,dispatch:null,lastRenderedReducer:Zd,
lastRenderedState:Ia},e.dispatch=ha=Gh.bind(null,Eb,e),N.queue=e,N.baseQueue=null,Ia=Ri(u,g,k),N.memoizedState=N.baseState=Ia);return Ia}function Ed(e,g,k){var q=If();return mk(q,e,g,k)}function id(e){var g=re();"function"===typeof e&&(e=e());g.memoizedState=g.baseState=e;e=g.queue={pending:null,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:e};e=e.dispatch=Gh.bind(null,Eb,e);return[g.memoizedState,e]}function pd(e,g,k,q){e={tag:e,create:g,destroy:k,deps:q,next:null};g=Eb.updateQueue;null===
g?(g={lastEffect:null},Eb.updateQueue=g,g.lastEffect=e.next=e):(k=g.lastEffect,null===k?g.lastEffect=e.next=e:(q=k.next,k.next=e,e.next=q,g.lastEffect=e));return e}function Jf(e){var g=re();e={current:e};return g.memoizedState=e}function te(){return If().memoizedState}function Ve(e,g,k,q){var u=re();Eb.flags|=e;u.memoizedState=pd(1|g,k,void 0,void 0===q?null:q)}function We(e,g,k,q){var u=If();q=void 0===q?null:q;var y=void 0;if(null!==dc){var D=dc.memoizedState;y=D.destroy;if(null!==q&&xg(q,D.deps)){pd(g,
k,y,q);return}}Eb.flags|=e;u.memoizedState=pd(1|g,k,y,q)}function ue(e,g){return Ve(516,4,e,g)}function Fd(e,g){return We(516,4,e,g)}function Xe(e,g){return We(4,2,e,g)}function Ag(e,g){if("function"===typeof g)return e=e(),g(e),function(){g(null)};if(null!==g&&void 0!==g)return e=e(),g.current=e,function(){g.current=null}}function Hh(e,g,k){k=null!==k&&void 0!==k?k.concat([e]):null;return We(4,2,Ag.bind(null,g,e),k)}function Bg(){}function Ye(e,g){var k=If();g=void 0===g?null:g;var q=k.memoizedState;
if(null!==q&&null!==g&&xg(g,q[1]))return q[0];k.memoizedState=[e,g];return e}function zl(e,g){var k=If();g=void 0===g?null:g;var q=k.memoizedState;if(null!==q&&null!==g&&xg(g,q[1]))return q[0];e=e();k.memoizedState=[e,g];return e}function Ih(e,g){var k=Bf();Ne(98>k?98:k,function(){e(!0)});Ne(97<k?97:k,function(){var q=Qc.transition;Qc.transition=1;try{e(!1),g()}finally{Qc.transition=q}})}function Gh(e,g,k){var q=Ac(),u=se(e),y={lane:u,action:k,eagerReducer:null,eagerState:null,next:null},D=g.pending;
null===D?y.next=y:(y.next=D.next,D.next=y);g.pending=y;D=e.alternate;if(e===Eb||null!==D&&D===Eb)Dd=Ue=!0;else{if(0===e.lanes&&(null===D||0===D.lanes)&&(D=g.lastRenderedReducer,null!==D))try{var H=g.lastRenderedState,N=D(H,k);y.eagerReducer=D;y.eagerState=N;if(nd(N,H))return}catch(ha){}finally{}$d(e,u,q)}}function Tb(e,g,k,q){g.child=null===e?nk(g,null,k,q):Jh(g,e.child,k,q)}function ae(e,g,k,q,u){k=k.render;var y=g.ref;Ef(g,u);q=lk(e,g,k,q,y,u);if(null!==e&&!sc)return g.updateQueue=e.updateQueue,
g.flags&=-517,e.lanes&=~u,be(e,g,u);g.flags|=1;Tb(e,g,q,u);return g.child}function Si(e,g,k,q,u,y){if(null===e){var D=k.type;if("function"===typeof D&&!Kh(D)&&void 0===D.defaultProps&&null===k.compare&&void 0===k.defaultProps)return g.tag=15,g.type=D,Lh(e,g,D,q,u,y);e=Pe(k.type,null,q,g,g.mode,y);e.ref=g.ref;e.return=g;return g.child=e}D=e.child;if(0===(u&y)&&(u=D.memoizedProps,k=k.compare,k=null!==k?k:lh,k(u,q)&&e.ref===g.ref))return be(e,g,y);g.flags|=1;e=mc(D,q);e.ref=g.ref;e.return=g;return g.child=
e}function Lh(e,g,k,q,u,y){if(null!==e&&lh(e.memoizedProps,q)&&e.ref===g.ref)if(sc=!1,0!==(y&u))0!==(e.flags&16384)&&(sc=!0);else return g.lanes=e.lanes,be(e,g,y);return Cg(e,g,k,q,y)}function ce(e,g,k){var q=g.pendingProps,u=q.children,y=null!==e?e.memoizedState:null;if("hidden"===q.mode||"unstable-defer-without-hiding"===q.mode)if(0===(g.mode&4))g.memoizedState={baseLanes:0},Kf(g,k);else if(0!==(k&1073741824))g.memoizedState={baseLanes:0},Kf(g,null!==y?y.baseLanes:k);else return e=null!==y?y.baseLanes|
k:k,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:e},Kf(g,e),null;else null!==y?(q=y.baseLanes|k,g.memoizedState=null):q=k,Kf(g,q);Tb(e,g,u,k);return g.child}function Ti(e,g){var k=g.ref;if(null===e&&null!==k||null!==e&&e.ref!==k)g.flags|=128}function Cg(e,g,k,q,u){var y=Ic(k)?xd:yc.current;y=le(g,y);Ef(g,u);k=lk(e,g,k,q,y,u);if(null!==e&&!sc)return g.updateQueue=e.updateQueue,g.flags&=-517,e.lanes&=~u,be(e,g,u);g.flags|=1;Tb(e,g,k,u);return g.child}function Ui(e,g,k,q,u){if(Ic(k)){var y=
!0;Me(g)}else y=!1;Ef(g,u);if(null===g.stateNode)null!==e&&(e.alternate=null,g.alternate=null,g.flags|=2),va(g,k,q),Bh(g,k,q,u),q=!0;else if(null===e){var D=g.stateNode,H=g.memoizedProps;D.props=H;var N=D.context,ha=k.contextType;"object"===typeof ha&&null!==ha?ha=gd(ha):(ha=Ic(k)?xd:yc.current,ha=le(g,ha));var Ia=k.getDerivedStateFromProps,fb="function"===typeof Ia||"function"===typeof D.getSnapshotBeforeUpdate;fb||"function"!==typeof D.UNSAFE_componentWillReceiveProps&&"function"!==typeof D.componentWillReceiveProps||
(H!==q||N!==ha)&&nb(g,D,q,ha);Xd=!1;var ia=g.memoizedState;D.state=ia;sg(g,q,D,u);N=g.memoizedState;H!==q||ia!==N||Oc.current||Xd?("function"===typeof Ia&&(ne(g,k,Ia,q),N=g.memoizedState),(H=Xd||vl(g,k,H,q,ia,N,ha))?(fb||"function"!==typeof D.UNSAFE_componentWillMount&&"function"!==typeof D.componentWillMount||("function"===typeof D.componentWillMount&&D.componentWillMount(),"function"===typeof D.UNSAFE_componentWillMount&&D.UNSAFE_componentWillMount()),"function"===typeof D.componentDidMount&&(g.flags|=
4)):("function"===typeof D.componentDidMount&&(g.flags|=4),g.memoizedProps=q,g.memoizedState=N),D.props=q,D.state=N,D.context=ha,q=H):("function"===typeof D.componentDidMount&&(g.flags|=4),q=!1)}else{D=g.stateNode;hk(e,g);H=g.memoizedProps;ha=g.type===g.elementType?H:fd(g.type,H);D.props=ha;fb=g.pendingProps;ia=D.context;N=k.contextType;"object"===typeof N&&null!==N?N=gd(N):(N=Ic(k)?xd:yc.current,N=le(g,N));var Va=k.getDerivedStateFromProps;(Ia="function"===typeof Va||"function"===typeof D.getSnapshotBeforeUpdate)||
"function"!==typeof D.UNSAFE_componentWillReceiveProps&&"function"!==typeof D.componentWillReceiveProps||(H!==fb||ia!==N)&&nb(g,D,q,N);Xd=!1;ia=g.memoizedState;D.state=ia;sg(g,q,D,u);var cb=g.memoizedState;H!==fb||ia!==cb||Oc.current||Xd?("function"===typeof Va&&(ne(g,k,Va,q),cb=g.memoizedState),(ha=Xd||vl(g,k,ha,q,ia,cb,N))?(Ia||"function"!==typeof D.UNSAFE_componentWillUpdate&&"function"!==typeof D.componentWillUpdate||("function"===typeof D.componentWillUpdate&&D.componentWillUpdate(q,cb,N),"function"===
typeof D.UNSAFE_componentWillUpdate&&D.UNSAFE_componentWillUpdate(q,cb,N)),"function"===typeof D.componentDidUpdate&&(g.flags|=4),"function"===typeof D.getSnapshotBeforeUpdate&&(g.flags|=256)):("function"!==typeof D.componentDidUpdate||H===e.memoizedProps&&ia===e.memoizedState||(g.flags|=4),"function"!==typeof D.getSnapshotBeforeUpdate||H===e.memoizedProps&&ia===e.memoizedState||(g.flags|=256),g.memoizedProps=q,g.memoizedState=cb),D.props=q,D.state=cb,D.context=N,q=ha):("function"!==typeof D.componentDidUpdate||
H===e.memoizedProps&&ia===e.memoizedState||(g.flags|=4),"function"!==typeof D.getSnapshotBeforeUpdate||H===e.memoizedProps&&ia===e.memoizedState||(g.flags|=256),q=!1)}return Ze(e,g,k,q,y,u)}function Ze(e,g,k,q,u,y){Ti(e,g);var D=0!==(g.flags&64);if(!q&&!D)return u&&Li(g,k,!1),be(e,g,y);q=g.stateNode;pm.current=g;var H=D&&"function"!==typeof k.getDerivedStateFromError?null:q.render();g.flags|=1;null!==e&&D?(g.child=Jh(g,e.child,null,y),g.child=Jh(g,null,H,y)):Tb(e,g,H,y);g.memoizedState=q.state;u&&
Li(g,k,!0);return g.child}function kb(e){var g=e.stateNode;g.pendingContext?ck(e,g.pendingContext,g.pendingContext!==g.context):g.context&&ck(e,g.context,!1);ug(e,g.containerInfo)}function Lf(e,g,k){var q=g.pendingProps,u=Zb.current,y=!1,D;(D=0!==(g.flags&64))||(D=null!==e&&null===e.memoizedState?!1:0!==(u&2));D?(y=!0,g.flags&=-65):null!==e&&null===e.memoizedState||void 0===q.fallback||!0===q.unstable_avoidThisFallback||(u|=1);Wb(Zb,u&1);if(null===e){void 0!==q.fallback&&kk(g);e=q.children;u=q.fallback;
if(y)return e=jc(g,e,u,k),g.child.memoizedState={baseLanes:k},g.memoizedState=Vi,e;if("number"===typeof q.unstable_expectedLoadTime)return e=jc(g,e,u,k),g.child.memoizedState={baseLanes:k},g.memoizedState=Vi,g.lanes=33554432,e;k=ob({mode:"visible",children:e},g.mode,k,null);k.return=g;return g.child=k}if(null!==e.memoizedState){if(y)return q=Al(e,g,q.children,q.fallback,k),y=g.child,u=e.child.memoizedState,y.memoizedState=null===u?{baseLanes:k}:{baseLanes:u.baseLanes|k},y.childLanes=e.childLanes&
~k,g.memoizedState=Vi,q;k=Bl(e,g,q.children,k);g.memoizedState=null;return k}if(y)return q=Al(e,g,q.children,q.fallback,k),y=g.child,u=e.child.memoizedState,y.memoizedState=null===u?{baseLanes:k}:{baseLanes:u.baseLanes|k},y.childLanes=e.childLanes&~k,g.memoizedState=Vi,q;k=Bl(e,g,q.children,k);g.memoizedState=null;return k}function jc(e,g,k,q){var u=e.mode,y=e.child;g={mode:"hidden",children:g};0===(u&2)&&null!==y?(y.childLanes=0,y.pendingProps=g):y=ob(g,u,0,null);k=Xb(k,u,q,null);y.return=e;k.return=
e;y.sibling=k;e.child=y;return k}function Bl(e,g,k,q){var u=e.child;e=u.sibling;k=mc(u,{mode:"visible",children:k});0===(g.mode&2)&&(k.lanes=q);k.return=g;k.sibling=null;null!==e&&(e.nextEffect=null,e.flags=8,g.firstEffect=g.lastEffect=e);return g.child=k}function Al(e,g,k,q,u){var y=g.mode,D=e.child;e=D.sibling;var H={mode:"hidden",children:k};0===(y&2)&&g.child!==D?(k=g.child,k.childLanes=0,k.pendingProps=H,D=k.lastEffect,null!==D?(g.firstEffect=k.firstEffect,g.lastEffect=D,D.nextEffect=null):g.firstEffect=
g.lastEffect=null):k=mc(D,H);null!==e?q=mc(e,q):(q=Xb(q,y,u,null),q.flags|=2);q.return=g;k.return=g;k.sibling=q;g.child=k;return q}function ve(e,g){e.lanes|=g;var k=e.alternate;null!==k&&(k.lanes|=g);ul(e.return,g)}function Dg(e,g,k,q,u,y){var D=e.memoizedState;null===D?e.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:q,tail:k,tailMode:u,lastEffect:y}:(D.isBackwards=g,D.rendering=null,D.renderingStartTime=0,D.last=q,D.tail=k,D.tailMode=u,D.lastEffect=y)}function Rc(e,g,k){var q=
g.pendingProps,u=q.revealOrder,y=q.tail;Tb(e,g,q.children,k);q=Zb.current;if(0!==(q&2))q=q&1|2,g.flags|=64;else{if(null!==e&&0!==(e.flags&64))a:for(e=g.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ve(e,k);else if(19===e.tag)ve(e,k);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===g)break a;for(;null===e.sibling;){if(null===e.return||e.return===g)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}q&=1}Wb(Zb,q);if(0===(g.mode&2))g.memoizedState=null;else switch(u){case "forwards":k=
g.child;for(u=null;null!==k;)e=k.alternate,null!==e&&null===wg(e)&&(u=k),k=k.sibling;k=u;null===k?(u=g.child,g.child=null):(u=k.sibling,k.sibling=null);Dg(g,!1,u,k,y,g.lastEffect);break;case "backwards":k=null;u=g.child;for(g.child=null;null!==u;){e=u.alternate;if(null!==e&&null===wg(e)){g.child=u;break}e=u.sibling;u.sibling=k;k=u;u=e}Dg(g,!0,k,null,y,g.lastEffect);break;case "together":Dg(g,!1,null,null,void 0,g.lastEffect);break;default:g.memoizedState=null}return g.child}function be(e,g,k){null!==
e&&(g.dependencies=e.dependencies);zh|=g.lanes;if(0!==(k&g.childLanes)){if(null!==e&&g.child!==e.child)throw Error(x(153));if(null!==g.child){e=g.child;k=mc(e,e.pendingProps);g.child=k;for(k.return=g;null!==e.sibling;)e=e.sibling,k=k.sibling=mc(e,e.pendingProps),k.return=g;k.sibling=null}return g.child}return null}function Eg(e,g){if(!cc)switch(e.tailMode){case "hidden":g=e.tail;for(var k=null;null!==g;)null!==g.alternate&&(k=g),g=g.sibling;null===k?e.tail=null:k.sibling=null;break;case "collapsed":k=
e.tail;for(var q=null;null!==k;)null!==k.alternate&&(q=k),k=k.sibling;null===q?g||null===e.tail?e.tail=null:e.tail.sibling=null:q.sibling=null}}function Wi(e,g,k){var q=g.pendingProps;switch(g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ic(g.type)&&Le(),null;case 3:vg();Hb(Oc);Hb(yc);Qi();q=g.stateNode;q.pendingContext&&(q.context=q.pendingContext,q.pendingContext=null);if(null===e||null===e.child)Ab(g)?g.flags|=4:q.hydrate||(g.flags|=
256);Fg(g);return null;case 5:Se(g);var u=Re(pe.current);k=g.type;if(null!==e&&null!=g.stateNode)qm(e,g,k,q,u),e.ref!==g.ref&&(g.flags|=128);else{if(!q){if(null===g.stateNode)throw Error(x(166));return null}e=Re(Bd.current);if(Ab(g)){q=g.stateNode;k=g.type;var y=g.memoizedProps;q[Ud]=g;q[pg]=y;switch(k){case "dialog":Ob("cancel",q);Ob("close",q);break;case "iframe":case "object":case "embed":Ob("load",q);break;case "video":case "audio":for(e=0;e<$e.length;e++)Ob($e[e],q);break;case "source":Ob("error",
q);break;case "img":case "image":case "link":Ob("error",q);Ob("load",q);break;case "details":Ob("toggle",q);break;case "input":ud(q,y);Ob("invalid",q);break;case "select":q._wrapperState={wasMultiple:!!y.multiple};Ob("invalid",q);break;case "textarea":da(q,y),Ob("invalid",q)}vb(k,y);e=null;for(var D in y)y.hasOwnProperty(D)&&(u=y[D],"children"===D?"string"===typeof u?q.textContent!==u&&(e=["children",u]):"number"===typeof u&&q.textContent!==""+u&&(e=["children",""+u]):Nd.hasOwnProperty(D)&&null!=
u&&"onScroll"===D&&Ob("scroll",q));switch(k){case "input":td(q);Fc(q,y,!0);break;case "textarea":td(q);sa(q);break;case "select":case "option":break;default:"function"===typeof y.onClick&&(q.onclick=sh)}q=e;g.updateQueue=q;null!==q&&(g.flags|=4)}else{D=9===u.nodeType?u:u.ownerDocument;e===Xi.html&&(e=Ea(k));e===Xi.html?"script"===k?(e=D.createElement("div"),e.innerHTML="\x3cscript\x3e\x3c/script\x3e",e=e.removeChild(e.firstChild)):"string"===typeof q.is?e=D.createElement(k,{is:q.is}):(e=D.createElement(k),
"select"===k&&(D=e,q.multiple?D.multiple=!0:q.size&&(D.size=q.size))):e=D.createElementNS(e,k);e[Ud]=g;e[pg]=q;rm(e,g,!1,!1);g.stateNode=e;D=ec(k,q);switch(k){case "dialog":Ob("cancel",e);Ob("close",e);u=q;break;case "iframe":case "object":case "embed":Ob("load",e);u=q;break;case "video":case "audio":for(u=0;u<$e.length;u++)Ob($e[u],e);u=q;break;case "source":Ob("error",e);u=q;break;case "img":case "image":case "link":Ob("error",e);Ob("load",e);u=q;break;case "details":Ob("toggle",e);u=q;break;case "input":ud(e,
q);u=Yc(e,q);Ob("invalid",e);break;case "option":u=qc(e,q);break;case "select":e._wrapperState={wasMultiple:!!q.multiple};u=Jb({},q,{value:void 0});Ob("invalid",e);break;case "textarea":da(e,q);u=sd(e,q);Ob("invalid",e);break;default:u=q}vb(k,u);var H=u;for(y in H)if(H.hasOwnProperty(y)){var N=H[y];"style"===y?ub(e,N):"dangerouslySetInnerHTML"===y?(N=N?N.__html:void 0,null!=N&&ok(e,N)):"children"===y?"string"===typeof N?("textarea"!==k||""!==N)&&ab(e,N):"number"===typeof N&&ab(e,""+N):"suppressContentEditableWarning"!==
y&&"suppressHydrationWarning"!==y&&"autoFocus"!==y&&(Nd.hasOwnProperty(y)?null!=N&&"onScroll"===y&&Ob("scroll",e):null!=N&&Gb(e,y,N,D))}switch(k){case "input":td(e);Fc(e,q,!1);break;case "textarea":td(e);sa(e);break;case "option":null!=q.value&&e.setAttribute("value",""+bc(q.value));break;case "select":e.multiple=!!q.multiple;y=q.value;null!=y?Mb(e,!!q.multiple,y,!1):null!=q.defaultValue&&Mb(e,!!q.multiple,q.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=sh)}Ii(k,q)&&(g.flags|=
4)}null!==g.ref&&(g.flags|=128)}return null;case 6:if(e&&null!=g.stateNode)sm(e,g,e.memoizedProps,q);else{if("string"!==typeof q&&null===g.stateNode)throw Error(x(166));k=Re(pe.current);Re(Bd.current);Ab(g)?(q=g.stateNode,k=g.memoizedProps,q[Ud]=g,q.nodeValue!==k&&(g.flags|=4)):(q=(9===k.nodeType?k:k.ownerDocument).createTextNode(q),q[Ud]=g,g.stateNode=q)}return null;case 13:Hb(Zb);q=g.memoizedState;if(0!==(g.flags&64))return g.lanes=k,g;q=null!==q;k=!1;null===e?void 0!==g.memoizedProps.fallback&&
Ab(g):k=null!==e.memoizedState;if(q&&!k&&0!==(g.mode&2))if(null===e&&!0!==g.memoizedProps.unstable_avoidThisFallback||0!==(Zb.current&1))0===tc&&(tc=3);else{if(0===tc||3===tc)tc=4;null===Kc||0===(zh&134217727)&&0===(Mf&134217727)||Bc(Kc,Lc)}if(q||k)g.flags|=4;return null;case 4:return vg(),Fg(g),null===e&&nl(g.stateNode.containerInfo),null;case 10:return wh(g),null;case 17:return Ic(g.type)&&Le(),null;case 19:Hb(Zb);q=g.memoizedState;if(null===q)return null;y=0!==(g.flags&64);D=q.rendering;if(null===
D)if(y)Eg(q,!1);else{if(0!==tc||null!==e&&0!==(e.flags&64))for(e=g.child;null!==e;){D=wg(e);if(null!==D){g.flags|=64;Eg(q,!1);y=D.updateQueue;null!==y&&(g.updateQueue=y,g.flags|=4);null===q.lastEffect&&(g.firstEffect=null);g.lastEffect=q.lastEffect;q=k;for(k=g.child;null!==k;)y=k,e=q,y.flags&=2,y.nextEffect=null,y.firstEffect=null,y.lastEffect=null,D=y.alternate,null===D?(y.childLanes=0,y.lanes=e,y.child=null,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=
null):(y.childLanes=D.childLanes,y.lanes=D.lanes,y.child=D.child,y.memoizedProps=D.memoizedProps,y.memoizedState=D.memoizedState,y.updateQueue=D.updateQueue,y.type=D.type,e=D.dependencies,y.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),k=k.sibling;Wb(Zb,Zb.current&1|2);return g.child}e=e.sibling}null!==q.tail&&Cc()>Yi&&(g.flags|=64,y=!0,Eg(q,!1),g.lanes=33554432)}else{if(!y)if(e=wg(D),null!==e){if(g.flags|=64,y=!0,k=e.updateQueue,null!==k&&(g.updateQueue=k,g.flags|=4),Eg(q,
!0),null===q.tail&&"hidden"===q.tailMode&&!D.alternate&&!cc)return g=g.lastEffect=q.lastEffect,null!==g&&(g.nextEffect=null),null}else 2*Cc()-q.renderingStartTime>Yi&&1073741824!==k&&(g.flags|=64,y=!0,Eg(q,!1),g.lanes=33554432);q.isBackwards?(D.sibling=g.child,g.child=D):(k=q.last,null!==k?k.sibling=D:g.child=D,q.last=D)}return null!==q.tail?(k=q.tail,q.rendering=k,q.tail=k.sibling,q.lastEffect=g.lastEffect,q.renderingStartTime=Cc(),k.sibling=null,g=Zb.current,Wb(Zb,y?g&1|2:g&1),k):null;case 23:case 24:return Ma(),
null!==e&&null!==e.memoizedState!==(null!==g.memoizedState)&&"unstable-defer-without-hiding"!==q.mode&&(g.flags|=4),null}throw Error(x(156,g.tag));}function Zi(e){switch(e.tag){case 1:Ic(e.type)&&Le();var g=e.flags;return g&4096?(e.flags=g&-4097|64,e):null;case 3:vg();Hb(Oc);Hb(yc);Qi();g=e.flags;if(0!==(g&64))throw Error(x(285));e.flags=g&-4097|64;return e;case 5:return Se(e),null;case 13:return Hb(Zb),g=e.flags,g&4096?(e.flags=g&-4097|64,e):null;case 19:return Hb(Zb),null;case 4:return vg(),null;
case 10:return wh(e),null;case 23:case 24:return Ma(),null;default:return null}}function pk(e,g){try{var k="",q=g;do k+=nf(q),q=q.return;while(q)}catch(u){k="\nError generating stack: "+u.message+"\n"+u.stack}return{value:e,source:g,stack:k}}function $i(e,g){try{console.error(g.value)}catch(k){setTimeout(function(){throw k;})}}function Nf(e,g,k){k=Ib(-1,k);k.tag=3;k.payload={element:null};var q=g.value;k.callback=function(){Gg||(Gg=!0,aj=q);$i(e,g)};return k}function de(e,g,k){k=Ib(-1,k);k.tag=3;
var q=e.type.getDerivedStateFromError;if("function"===typeof q){var u=g.value;k.payload=function(){$i(e,g);return q(u)}}var y=e.stateNode;null!==y&&"function"===typeof y.componentDidCatch&&(k.callback=function(){"function"!==typeof q&&(null===Gd?Gd=new Set([this]):Gd.add(this),$i(e,g));var D=g.stack;this.componentDidCatch(g.value,{componentStack:null!==D?D:""})});return k}function Mh(e){var g=e.ref;if(null!==g)if("function"===typeof g)try{g(null)}catch(k){af(e,k)}else g.current=null}function Nh(e,
g){switch(g.tag){case 0:case 11:case 15:case 22:return;case 1:if(g.flags&256&&null!==e){var k=e.memoizedProps,q=e.memoizedState;e=g.stateNode;g=e.getSnapshotBeforeUpdate(g.elementType===g.type?k:fd(g.type,k),q);e.__reactInternalSnapshotBeforeUpdate=g}return;case 3:g.flags&256&&zf(g.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(x(163));}function tm(e,g,k){switch(k.tag){case 0:case 11:case 15:case 22:g=k.updateQueue;g=null!==g?g.lastEffect:null;if(null!==g){e=g=g.next;
do{if(3===(e.tag&3)){var q=e.create;e.destroy=q()}e=e.next}while(e!==g)}g=k.updateQueue;g=null!==g?g.lastEffect:null;if(null!==g){e=g=g.next;do{var u=e;q=u.next;u=u.tag;0!==(u&4)&&0!==(u&1)&&(bj(k,e),um(k,e));e=q}while(e!==g)}return;case 1:e=k.stateNode;k.flags&4&&(null===g?e.componentDidMount():(q=k.elementType===k.type?g.memoizedProps:fd(k.type,g.memoizedProps),e.componentDidUpdate(q,g.memoizedState,e.__reactInternalSnapshotBeforeUpdate)));g=k.updateQueue;null!==g&&Oe(k,g,e);return;case 3:g=k.updateQueue;
if(null!==g){e=null;if(null!==k.child)switch(k.child.tag){case 5:e=k.child.stateNode;break;case 1:e=k.child.stateNode}Oe(k,g,e)}return;case 5:e=k.stateNode;null===g&&k.flags&4&&Ii(k.type,k.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===k.memoizedState&&(k=k.alternate,null!==k&&(k=k.memoizedState,null!==k&&(k=k.dehydrated,null!==k&&Uk(k))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(x(163));}function Cl(e,g){for(var k=e;;){if(5===
k.tag){var q=k.stateNode;if(g)q=q.style,"function"===typeof q.setProperty?q.setProperty("display","none","important"):q.display="none";else{q=k.stateNode;var u=k.memoizedProps.style;u=void 0!==u&&null!==u&&u.hasOwnProperty("display")?u.display:null;q.style.display=lb("display",u)}}else if(6===k.tag)k.stateNode.nodeValue=g?"":k.memoizedProps;else if((23!==k.tag&&24!==k.tag||null===k.memoizedState||k===e)&&null!==k.child){k.child.return=k;k=k.child;continue}if(k===e)break;for(;null===k.sibling;){if(null===
k.return||k.return===e)return;k=k.return}k.sibling.return=k.return;k=k.sibling}}function qk(e,g){if(jd&&"function"===typeof jd.onCommitFiberUnmount)try{jd.onCommitFiberUnmount(Oh,g)}catch(y){}switch(g.tag){case 0:case 11:case 14:case 15:case 22:e=g.updateQueue;if(null!==e&&(e=e.lastEffect,null!==e)){var k=e=e.next;do{var q=k,u=q.destroy;q=q.tag;if(void 0!==u)if(0!==(q&4))bj(g,k);else{q=g;try{u()}catch(y){af(q,y)}}k=k.next}while(k!==e)}break;case 1:Mh(g);e=g.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=
g.memoizedProps,e.state=g.memoizedState,e.componentWillUnmount()}catch(y){af(g,y)}break;case 5:Mh(g);break;case 4:qd(e,g)}}function rk(e){e.alternate=null;e.child=null;e.dependencies=null;e.firstEffect=null;e.lastEffect=null;e.memoizedProps=null;e.memoizedState=null;e.pendingProps=null;e.return=null;e.updateQueue=null}function sk(e){return 5===e.tag||3===e.tag||4===e.tag}function Dl(e){a:{for(var g=e.return;null!==g;){if(sk(g))break a;g=g.return}throw Error(x(160));}var k=g;g=k.stateNode;switch(k.tag){case 5:var q=
!1;break;case 3:g=g.containerInfo;q=!0;break;case 4:g=g.containerInfo;q=!0;break;default:throw Error(x(161));}k.flags&16&&(ab(g,""),k.flags&=-17);k=e;a:b:for(;;){for(;null===k.sibling;){if(null===k.return||sk(k.return)){k=null;break a}k=k.return}k.sibling.return=k.return;for(k=k.sibling;5!==k.tag&&6!==k.tag&&18!==k.tag;){if(k.flags&2)continue b;if(null===k.child||4===k.tag)continue b;else k.child.return=k,k=k.child}if(!(k.flags&2)){k=k.stateNode;break a}}q?tk(e,k,g):wb(e,k,g)}function tk(e,g,k){var q=
e.tag,u=5===q||6===q;if(u)e=u?e.stateNode:e.stateNode.instance,g?8===k.nodeType?k.parentNode.insertBefore(e,g):k.insertBefore(e,g):(8===k.nodeType?(g=k.parentNode,g.insertBefore(e,k)):(g=k,g.appendChild(e)),k=k._reactRootContainer,null!==k&&void 0!==k||null!==g.onclick||(g.onclick=sh));else if(4!==q&&(e=e.child,null!==e))for(tk(e,g,k),e=e.sibling;null!==e;)tk(e,g,k),e=e.sibling}function wb(e,g,k){var q=e.tag,u=5===q||6===q;if(u)e=u?e.stateNode:e.stateNode.instance,g?k.insertBefore(e,g):k.appendChild(e);
else if(4!==q&&(e=e.child,null!==e))for(wb(e,g,k),e=e.sibling;null!==e;)wb(e,g,k),e=e.sibling}function qd(e,g){for(var k=g,q=!1,u,y;;){if(!q){q=k.return;a:for(;;){if(null===q)throw Error(x(160));u=q.stateNode;switch(q.tag){case 5:y=!1;break a;case 3:u=u.containerInfo;y=!0;break a;case 4:u=u.containerInfo;y=!0;break a}q=q.return}q=!0}if(5===k.tag||6===k.tag){var D=e,H=k,N=H;a:for(;;)if(qk(D,N),null!==N.child&&4!==N.tag)N.child.return=N,N=N.child;else{if(N===H)break a;for(;null===N.sibling;){if(null===
N.return||N.return===H)break a;N=N.return}N.sibling.return=N.return;N=N.sibling}y?(D=u,H=k.stateNode,8===D.nodeType?D.parentNode.removeChild(H):D.removeChild(H)):u.removeChild(k.stateNode)}else if(4===k.tag){if(null!==k.child){u=k.stateNode.containerInfo;y=!0;k.child.return=k;k=k.child;continue}}else if(qk(e,k),null!==k.child){k.child.return=k;k=k.child;continue}if(k===g)break;for(;null===k.sibling;){if(null===k.return||k.return===g)return;k=k.return;4===k.tag&&(q=!1)}k.sibling.return=k.return;k=
k.sibling}}function Hd(e,g){switch(g.tag){case 0:case 11:case 14:case 15:case 22:var k=g.updateQueue;k=null!==k?k.lastEffect:null;if(null!==k){var q=k=k.next;do 3===(q.tag&3)&&(e=q.destroy,q.destroy=void 0,void 0!==e&&e()),q=q.next;while(q!==k)}return;case 1:return;case 5:k=g.stateNode;if(null!=k){q=g.memoizedProps;var u=null!==e?e.memoizedProps:q;e=g.type;var y=g.updateQueue;g.updateQueue=null;if(null!==y){k[pg]=q;"input"===e&&"radio"===q.type&&null!=q.name&&bd(k,q);ec(e,u);g=ec(e,q);for(u=0;u<y.length;u+=
2){var D=y[u],H=y[u+1];"style"===D?ub(k,H):"dangerouslySetInnerHTML"===D?ok(k,H):"children"===D?ab(k,H):Gb(k,D,H,g)}switch(e){case "input":Rb(k,q);break;case "textarea":Aa(k,q);break;case "select":e=k._wrapperState.wasMultiple,k._wrapperState.wasMultiple=!!q.multiple,y=q.value,null!=y?Mb(k,!!q.multiple,y,!1):e!==!!q.multiple&&(null!=q.defaultValue?Mb(k,!!q.multiple,q.defaultValue,!0):Mb(k,!!q.multiple,q.multiple?[]:"",!1))}}}return;case 6:if(null===g.stateNode)throw Error(x(162));g.stateNode.nodeValue=
g.memoizedProps;return;case 3:k=g.stateNode;k.hydrate&&(k.hydrate=!1,Uk(k.containerInfo));return;case 12:return;case 13:null!==g.memoizedState&&(cj=Cc(),Cl(g.child,!0));dj(g);return;case 19:dj(g);return;case 17:return;case 23:case 24:Cl(g,null!==g.memoizedState);return}throw Error(x(163));}function dj(e){var g=e.updateQueue;if(null!==g){e.updateQueue=null;var k=e.stateNode;null===k&&(k=e.stateNode=new bf);g.forEach(function(q){var u=vm.bind(null,e,q);k.has(q)||(k.add(q),q.then(u,u))})}}function we(e,
g){return null!==e&&(e=e.memoizedState,null===e||null!==e.dehydrated)?(g=g.memoizedState,null!==g&&null===g.dehydrated):!1}function Id(){Yi=Cc()+500}function Ac(){return 0!==(db&48)?Cc():-1!==Ph?Ph:Ph=Cc()}function se(e){e=e.mode;if(0===(e&2))return 1;if(0===(e&4))return 99===Bf()?1:2;0===ee&&(ee=Of);if(0!==uk.transition){0!==fe&&(fe=null!==ej?ej.pendingLanes:0);e=ee;var g=4186112&~fe;g&=-g;0===g&&(e=4186112&~e,g=e&-e,0===g&&(g=8192));return g}e=Bf();0!==(db&4)&&98===e?e=ti(12,ee):(e=dm(e),e=ti(e,
ee));return e}function $d(e,g,k){if(50<Pf)throw Pf=0,vk=null,Error(x(185));e=Hg(e,g);if(null===e)return null;ui(e,g,k);e===Kc&&(Mf|=g,4===tc&&Bc(e,Lc));var q=Bf();1===g?0!==(db&8)&&0===(db&48)?wk(e):(ad(e,k),0===db&&(Id(),zd())):(0===(db&4)||98!==q&&99!==q||(null===rd?rd=new Set([e]):rd.add(e)),ad(e,k));ej=e}function Hg(e,g){e.lanes|=g;var k=e.alternate;null!==k&&(k.lanes|=g);k=e;for(e=e.return;null!==e;)e.childLanes|=g,k=e.alternate,null!==k&&(k.childLanes|=g),k=e,e=e.return;return 3===k.tag?k.stateNode:
null}function ad(e,g){for(var k=e.callbackNode,q=e.suspendedLanes,u=e.pingedLanes,y=e.expirationTimes,D=e.pendingLanes;0<D;){var H=31-cd(D),N=1<<H,ha=y[H];if(-1===ha){if(0===(N&q)||0!==(N&u)){ha=g;dg(N);var Ia=Bb;y[H]=10<=Ia?ha+250:6<=Ia?ha+5E3:-1}}else ha<=g&&(e.expiredLanes|=N);D&=~N}q=gh(e,e===Kc?Lc:0);g=Bb;if(0===q)null!==k&&(k!==Ig&&rg(k),e.callbackNode=null,e.callbackPriority=0);else{if(null!==k){if(e.callbackPriority===g)return;k!==Ig&&rg(k)}15===g?(k=wk.bind(null,e),null===Ad?(Ad=[k],Df=qg(Mi,
gk)):Ad.push(k),k=Ig):14===g?k=yd(99,wk.bind(null,e)):(k=em(g),k=yd(k,Qh.bind(null,e)));e.callbackPriority=g;e.callbackNode=k}}function Qh(e){Ph=-1;fe=ee=0;if(0!==(db&48))throw Error(x(327));var g=e.callbackNode;if(cf()&&e.callbackNode!==g)return null;var k=gh(e,e===Kc?Lc:0);if(0===k)return null;var q=k,u=db;db|=16;var y=ge();if(Kc!==e||Lc!==q)Id(),kc(e,q);do try{for(;null!==uc&&!xk();)lc(uc);break}catch(H){xe(e,H)}while(1);Gf=me=Ff=null;Jg.current=y;db=u;null!==uc?q=0:(Kc=null,Lc=0,q=tc);if(0!==
(Of&Mf))kc(e,0);else if(0!==q){2===q&&(db|=64,e.hydrate&&(e.hydrate=!1,zf(e.containerInfo)),k=Vk(e),0!==k&&(q=Rh(e,k)));if(1===q)throw g=fj,kc(e,0),Bc(e,k),ad(e,Cc()),g;e.finishedWork=e.current.alternate;e.finishedLanes=k;switch(q){case 0:case 1:throw Error(x(345));case 2:xb(e);break;case 3:Bc(e,k);if((k&62914560)===k&&(q=cj+500-Cc(),10<q)){if(0!==gh(e,0))break;u=e.suspendedLanes;if((u&k)!==k){Ac();e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=gj(xb.bind(null,e),q);break}xb(e);break;case 4:Bc(e,
k);if((k&4186112)===k)break;q=e.eventTimes;for(u=-1;0<k;){var D=31-cd(k);y=1<<D;D=q[D];D>u&&(u=D);k&=~y}k=u;k=Cc()-k;k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3E3>k?3E3:4320>k?4320:1960*El(k/1960))-k;if(10<k){e.timeoutHandle=gj(xb.bind(null,e),k);break}xb(e);break;case 5:xb(e);break;default:throw Error(x(329));}}ad(e,Cc());return e.callbackNode===g?Qh.bind(null,e):null}function Bc(e,g){g&=~hj;g&=~Mf;e.suspendedLanes|=g;e.pingedLanes&=~g;for(e=e.expirationTimes;0<g;){var k=31-cd(g),q=1<<k;e[k]=
-1;g&=~q}}function wk(e){if(0!==(db&48))throw Error(x(327));cf();if(e===Kc&&0!==(e.expiredLanes&Lc)){var g=Lc,k=Rh(e,g);0!==(Of&Mf)&&(g=gh(e,g),k=Rh(e,g))}else g=gh(e,0),k=Rh(e,g);0!==e.tag&&2===k&&(db|=64,e.hydrate&&(e.hydrate=!1,zf(e.containerInfo)),g=Vk(e),0!==g&&(k=Rh(e,g)));if(1===k)throw k=fj,kc(e,0),Bc(e,g),ad(e,Cc()),k;e.finishedWork=e.current.alternate;e.finishedLanes=g;xb(e);ad(e,Cc());return null}function Sc(){if(null!==rd){var e=rd;rd=null;e.forEach(function(g){g.expiredLanes|=24&g.pendingLanes;
ad(g,Cc())})}zd()}function yk(e,g){var k=db;db|=1;try{return e(g)}finally{db=k,0===db&&(Id(),zd())}}function ye(e,g){var k=db;db&=-2;db|=8;try{return e(g)}finally{db=k,0===db&&(Id(),zd())}}function Kf(e,g){Wb(Qf,df);df|=g;Of|=g}function Ma(){df=Qf.current;Hb(Qf)}function kc(e,g){e.finishedWork=null;e.finishedLanes=0;var k=e.timeoutHandle;-1!==k&&(e.timeoutHandle=-1,Fl(k));if(null!==uc)for(k=uc.return;null!==k;){var q=k;switch(q.tag){case 1:q=q.type.childContextTypes;null!==q&&void 0!==q&&Le();break;
case 3:vg();Hb(Oc);Hb(yc);Qi();break;case 5:Se(q);break;case 4:vg();break;case 13:Hb(Zb);break;case 19:Hb(Zb);break;case 10:wh(q);break;case 23:case 24:Ma()}k=k.return}Kc=e;uc=mc(e.current,null);Lc=df=Of=g;tc=0;fj=null;hj=Mf=zh=0}function xe(e,g){do{var k=uc;try{Gf=me=Ff=null;Hf.current=zg;if(Ue){for(var q=Eb.memoizedState;null!==q;){var u=q.queue;null!==u&&(u.pending=null);q=q.next}Ue=!1}yg=0;ic=dc=Eb=null;Dd=!1;ij.current=null;if(null===k||null===k.return){tc=1;fj=g;uc=null;break}a:{var y=e,D=k.return,
H=k,N=g;g=Lc;H.flags|=2048;H.firstEffect=H.lastEffect=null;if(null!==N&&"object"===typeof N&&"function"===typeof N.then){var ha=N;if(0===(H.mode&2)){var Ia=H.alternate;Ia?(H.updateQueue=Ia.updateQueue,H.memoizedState=Ia.memoizedState,H.lanes=Ia.lanes):(H.updateQueue=null,H.memoizedState=null)}var fb=0!==(Zb.current&1),ia=D;do{var Va;if(Va=13===ia.tag){var cb=ia.memoizedState;if(null!==cb)Va=null!==cb.dehydrated?!0:!1;else{var bb=ia.memoizedProps;Va=void 0===bb.fallback?!1:!0!==bb.unstable_avoidThisFallback?
!0:fb?!1:!0}}if(Va){var Y=ia.updateQueue;if(null===Y){var R=new Set;R.add(ha);ia.updateQueue=R}else Y.add(ha);if(0===(ia.mode&2)){ia.flags|=64;H.flags|=16384;H.flags&=-2981;if(1===H.tag)if(null===H.alternate)H.tag=17;else{var W=Ib(-1,1);W.tag=2;Pc(H,W)}H.lanes|=1;break a}N=void 0;H=g;var qa=y.pingCache;null===qa?(qa=y.pingCache=new wm,N=new Set,qa.set(ha,N)):(N=qa.get(ha),void 0===N&&(N=new Set,qa.set(ha,N)));if(!N.has(H)){N.add(H);var ua=Sa.bind(null,y,ha,H);ha.then(ua,ua)}ia.flags|=4096;ia.lanes=
g;break a}ia=ia.return}while(null!==ia);N=Error((Nb(H.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==tc&&(tc=2);N=pk(N,H);ia=D;do{switch(ia.tag){case 3:y=N;ia.flags|=4096;g&=-g;ia.lanes|=g;var hb=Nf(ia,y,g);Jc(ia,hb);break a;case 1:y=N;var Qa=ia.type,ib=ia.stateNode;if(0===(ia.flags&64)&&("function"===typeof Qa.getDerivedStateFromError||
null!==ib&&"function"===typeof ib.componentDidCatch&&(null===Gd||!Gd.has(ib)))){ia.flags|=4096;g&=-g;ia.lanes|=g;var qb=de(ia,y,g);Jc(ia,qb);break a}}ia=ia.return}while(null!==ia)}Sh(k)}catch(jb){g=jb;uc===k&&null!==k&&(uc=k.return);continue}break}while(1)}function ge(){var e=Jg.current;Jg.current=zg;return null===e?zg:e}function Rh(e,g){var k=db;db|=16;var q=ge();Kc===e&&Lc===g||kc(e,g);do try{for(;null!==uc;)lc(uc);break}catch(u){xe(e,u)}while(1);Gf=me=Ff=null;db=k;Jg.current=q;if(null!==uc)throw Error(x(261));
Kc=null;Lc=0;return tc}function lc(e){var g=Rf(e.alternate,e,df);e.memoizedProps=e.pendingProps;null===g?Sh(e):uc=g;ij.current=null}function Sh(e){var g=e;do{var k=g.alternate;e=g.return;if(0===(g.flags&2048)){k=Wi(k,g,df);if(null!==k){uc=k;return}k=g;if(24!==k.tag&&23!==k.tag||null===k.memoizedState||0!==(df&1073741824)||0===(k.mode&4)){for(var q=0,u=k.child;null!==u;)q|=u.lanes|u.childLanes,u=u.sibling;k.childLanes=q}null!==e&&0===(e.flags&2048)&&(null===e.firstEffect&&(e.firstEffect=g.firstEffect),
null!==g.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=g.firstEffect),e.lastEffect=g.lastEffect),1<g.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=g:e.firstEffect=g,e.lastEffect=g))}else{k=Zi(g);if(null!==k){k.flags&=2047;uc=k;return}null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}g=g.sibling;if(null!==g){uc=g;return}uc=g=e}while(null!==g);0===tc&&(tc=5)}function xb(e){var g=Bf();Ne(99,xm.bind(null,e,g));return null}function xm(e,g){do cf();while(null!==Th);if(0!==(db&
48))throw Error(x(327));var k=e.finishedWork;if(null===k)return null;e.finishedWork=null;e.finishedLanes=0;if(k===e.current)throw Error(x(177));e.callbackNode=null;var q=k.lanes|k.childLanes,u=q,y=e.pendingLanes&~u;e.pendingLanes=u;e.suspendedLanes=0;e.pingedLanes=0;e.expiredLanes&=u;e.mutableReadLanes&=u;e.entangledLanes&=u;u=e.entanglements;for(var D=e.eventTimes,H=e.expirationTimes;0<y;){var N=31-cd(y),ha=1<<N;u[N]=0;D[N]=-1;H[N]=-1;y&=~ha}null!==rd&&0===(q&24)&&rd.has(e)&&rd.delete(e);e===Kc&&
(uc=Kc=null,Lc=0);1<k.flags?null!==k.lastEffect?(k.lastEffect.nextEffect=k,q=k.firstEffect):q=k:q=k.firstEffect;if(null!==q){u=db;db|=32;ij.current=null;Uh=wf;D=jl();if(Tj(D)){if("selectionStart"in D)H={start:D.selectionStart,end:D.selectionEnd};else a:if(H=(H=D.ownerDocument)&&H.defaultView||window,(ha=H.getSelection&&H.getSelection())&&0!==ha.rangeCount){H=ha.anchorNode;y=ha.anchorOffset;N=ha.focusNode;ha=ha.focusOffset;try{H.nodeType,N.nodeType}catch(jb){H=null;break a}var Ia=0,fb=-1,ia=-1,Va=
0,cb=0,bb=D,Y=null;b:for(;;){for(var R;;){bb!==H||0!==y&&3!==bb.nodeType||(fb=Ia+y);bb!==N||0!==ha&&3!==bb.nodeType||(ia=Ia+ha);3===bb.nodeType&&(Ia+=bb.nodeValue.length);if(null===(R=bb.firstChild))break;Y=bb;bb=R}for(;;){if(bb===D)break b;Y===H&&++Va===y&&(fb=Ia);Y===N&&++cb===ha&&(ia=Ia);if(null!==(R=bb.nextSibling))break;bb=Y;Y=bb.parentNode}bb=R}H=-1===fb||-1===ia?null:{start:fb,end:ia}}else H=null;H=H||{start:0,end:0}}else H=null;jj={focusedElem:D,selectionRange:H};wf=!1;Vh=null;Wh=!1;Ha=q;
do try{ym()}catch(jb){if(null===Ha)throw Error(x(330));af(Ha,jb);Ha=Ha.nextEffect}while(null!==Ha);Vh=null;Ha=q;do try{for(D=e;null!==Ha;){var W=Ha.flags;W&16&&ab(Ha.stateNode,"");if(W&128){var qa=Ha.alternate;if(null!==qa){var ua=qa.ref;null!==ua&&("function"===typeof ua?ua(null):ua.current=null)}}switch(W&1038){case 2:Dl(Ha);Ha.flags&=-3;break;case 6:Dl(Ha);Ha.flags&=-3;Hd(Ha.alternate,Ha);break;case 1024:Ha.flags&=-1025;break;case 1028:Ha.flags&=-1025;Hd(Ha.alternate,Ha);break;case 4:Hd(Ha.alternate,
Ha);break;case 8:H=Ha;qd(D,H);var hb=H.alternate;rk(H);null!==hb&&rk(hb)}Ha=Ha.nextEffect}}catch(jb){if(null===Ha)throw Error(x(330));af(Ha,jb);Ha=Ha.nextEffect}while(null!==Ha);ua=jj;qa=jl();W=ua.focusedElem;D=ua.selectionRange;if(qa!==W&&W&&W.ownerDocument&&Sj(W.ownerDocument.documentElement,W)){null!==D&&Tj(W)&&(qa=D.start,ua=D.end,void 0===ua&&(ua=qa),"selectionStart"in W?(W.selectionStart=qa,W.selectionEnd=Math.min(ua,W.value.length)):(ua=(qa=W.ownerDocument||document)&&qa.defaultView||window,
ua.getSelection&&(ua=ua.getSelection(),H=W.textContent.length,hb=Math.min(D.start,H),D=void 0===D.end?hb:Math.min(D.end,H),!ua.extend&&hb>D&&(H=D,D=hb,hb=H),H=Rj(W,hb),y=Rj(W,D),H&&y&&(1!==ua.rangeCount||ua.anchorNode!==H.node||ua.anchorOffset!==H.offset||ua.focusNode!==y.node||ua.focusOffset!==y.offset)&&(qa=qa.createRange(),qa.setStart(H.node,H.offset),ua.removeAllRanges(),hb>D?(ua.addRange(qa),ua.extend(y.node,y.offset)):(qa.setEnd(y.node,y.offset),ua.addRange(qa))))));qa=[];for(ua=W;ua=ua.parentNode;)1===
ua.nodeType&&qa.push({element:ua,left:ua.scrollLeft,top:ua.scrollTop});"function"===typeof W.focus&&W.focus();for(W=0;W<qa.length;W++)ua=qa[W],ua.element.scrollLeft=ua.left,ua.element.scrollTop=ua.top}wf=!!Uh;jj=Uh=null;e.current=k;Ha=q;do try{for(W=e;null!==Ha;){var Qa=Ha.flags;Qa&36&&tm(W,Ha.alternate,Ha);if(Qa&128){qa=void 0;var ib=Ha.ref;if(null!==ib){var qb=Ha.stateNode;switch(Ha.tag){case 5:qa=qb;break;default:qa=qb}"function"===typeof ib?ib(qa):ib.current=qa}}Ha=Ha.nextEffect}}catch(jb){if(null===
Ha)throw Error(x(330));af(Ha,jb);Ha=Ha.nextEffect}while(null!==Ha);Ha=null;zk();db=u}else e.current=k;if(ef)ef=!1,Th=e,Kg=g;else for(Ha=q;null!==Ha;)g=Ha.nextEffect,Ha.nextEffect=null,Ha.flags&8&&(Qa=Ha,Qa.sibling=null,Qa.stateNode=null),Ha=g;q=e.pendingLanes;0===q&&(Gd=null);1===q?e===vk?Pf++:(Pf=0,vk=e):Pf=0;k=k.stateNode;if(jd&&"function"===typeof jd.onCommitFiberRoot)try{jd.onCommitFiberRoot(Oh,k,void 0,64===(k.current.flags&64))}catch(jb){}ad(e,Cc());if(Gg)throw Gg=!1,e=aj,aj=null,e;if(0!==(db&
8))return null;zd();return null}function ym(){for(;null!==Ha;){var e=Ha.alternate;Wh||null===Vh||(0!==(Ha.flags&8)?Pk(Ha,Vh)&&(Wh=!0):13===Ha.tag&&we(e,Ha)&&Pk(Ha,Vh)&&(Wh=!0));var g=Ha.flags;0!==(g&256)&&Nh(e,Ha);0===(g&512)||ef||(ef=!0,yd(97,function(){cf();return null}));Ha=Ha.nextEffect}}function cf(){if(90!==Kg){var e=97<Kg?97:Kg;Kg=90;return Ne(e,zm)}return!1}function um(e,g){kj.push(g,e);ef||(ef=!0,yd(97,function(){cf();return null}))}function bj(e,g){Ak.push(g,e);ef||(ef=!0,yd(97,function(){cf();
return null}))}function zm(){if(null===Th)return!1;var e=Th;Th=null;if(0!==(db&48))throw Error(x(331));var g=db;db|=32;var k=Ak;Ak=[];for(var q=0;q<k.length;q+=2){var u=k[q],y=k[q+1],D=u.destroy;u.destroy=void 0;if("function"===typeof D)try{D()}catch(N){if(null===y)throw Error(x(330));af(y,N)}}k=kj;kj=[];for(q=0;q<k.length;q+=2){u=k[q];y=k[q+1];try{var H=u.create;u.destroy=H()}catch(N){if(null===y)throw Error(x(330));af(y,N)}}for(H=e.current.firstEffect;null!==H;)e=H.nextEffect,H.nextEffect=null,
H.flags&8&&(H.sibling=null,H.stateNode=null),H=e;db=g;zd();return!0}function lj(e,g,k){g=pk(k,g);g=Nf(e,g,1);Pc(e,g);g=Ac();e=Hg(e,1);null!==e&&(ui(e,1,g),ad(e,g))}function af(e,g){if(3===e.tag)lj(e,e,g);else for(var k=e.return;null!==k;){if(3===k.tag){lj(k,e,g);break}else if(1===k.tag){var q=k.stateNode;if("function"===typeof k.type.getDerivedStateFromError||"function"===typeof q.componentDidCatch&&(null===Gd||!Gd.has(q))){e=pk(g,e);var u=de(k,e,1);Pc(k,u);u=Ac();k=Hg(k,1);if(null!==k)ui(k,1,u),
ad(k,u);else if("function"===typeof q.componentDidCatch&&(null===Gd||!Gd.has(q)))try{q.componentDidCatch(g,e)}catch(y){}break}}k=k.return}}function Sa(e,g,k){var q=e.pingCache;null!==q&&q.delete(g);g=Ac();e.pingedLanes|=e.suspendedLanes&k;Kc===e&&(Lc&k)===k&&(4===tc||3===tc&&(Lc&62914560)===Lc&&500>Cc()-cj?kc(e,0):hj|=k);ad(e,g)}function vm(e,g){var k=e.stateNode;null!==k&&k.delete(g);g=0;0===g&&(g=e.mode,0===(g&2)?g=1:0===(g&4)?g=99===Bf()?1:2:(0===ee&&(ee=Of),g=eg(62914560&~ee),0===g&&(g=4194304)));
k=Ac();e=Hg(e,g);null!==e&&(ui(e,g,k),ad(e,k))}function Am(e,g,k,q){this.tag=e;this.key=k;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=g;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=q;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function Yb(e,g,k,q){return new Am(e,g,k,q)}function Kh(e){e=e.prototype;return!(!e||
!e.isReactComponent)}function Lg(e){if("function"===typeof e)return Kh(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===gb)return 11;if(e===pf)return 14}return 2}function mc(e,g){var k=e.alternate;null===k?(k=Yb(e.tag,g,e.key,e.mode),k.elementType=e.elementType,k.type=e.type,k.stateNode=e.stateNode,k.alternate=e,e.alternate=k):(k.pendingProps=g,k.type=e.type,k.flags=0,k.nextEffect=null,k.firstEffect=null,k.lastEffect=null);k.childLanes=e.childLanes;k.lanes=e.lanes;k.child=e.child;k.memoizedProps=
e.memoizedProps;k.memoizedState=e.memoizedState;k.updateQueue=e.updateQueue;g=e.dependencies;k.dependencies=null===g?null:{lanes:g.lanes,firstContext:g.firstContext};k.sibling=e.sibling;k.index=e.index;k.ref=e.ref;return k}function Pe(e,g,k,q,u,y){var D=2;q=e;if("function"===typeof e)Kh(e)&&(D=1);else if("string"===typeof e)D=5;else a:switch(e){case Uc:return Xb(k.children,u,y,g);case Bk:D=8;u|=16;break;case ie:D=8;u|=1;break;case He:return e=Yb(12,k,g,u|8),e.elementType=He,e.type=He,e.lanes=y,e;
case Da:return e=Yb(13,k,g,u),e.type=Da,e.elementType=Da,e.lanes=y,e;case Zc:return e=Yb(19,k,g,u),e.elementType=Zc,e.lanes=y,e;case Xh:return ob(k,u,y,g);case ze:return e=Yb(24,k,g,u),e.elementType=ze,e.lanes=y,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Yf:D=10;break a;case Xf:D=9;break a;case gb:D=11;break a;case pf:D=14;break a;case Zf:D=16;q=null;break a;case li:D=22;break a}throw Error(x(130,null==e?e:typeof e,""));}g=Yb(D,k,g,u);g.elementType=e;g.type=q;g.lanes=y;return g}
function Xb(e,g,k,q){e=Yb(7,e,q,g);e.lanes=k;return e}function ob(e,g,k,q){e=Yb(23,e,q,g);e.elementType=Xh;e.lanes=k;return e}function Pi(e,g,k){e=Yb(6,e,null,g);e.lanes=k;return e}function oe(e,g,k){g=Yb(4,null!==e.children?e.children:[],e.key,g);g.lanes=k;g.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return g}function mj(e,g,k){this.tag=g;this.containerInfo=e;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=k;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Jj(0);this.expirationTimes=Jj(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Jj(0);this.mutableSourceEagerHydrationData=null}function Gl(e,g,k){var q=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:of,key:null==q?null:""+q,children:e,containerInfo:g,
implementation:k}}function Ae(e,g,k,q){var u=g.current,y=Ac(),D=se(u);a:if(k){k=k._reactInternals;b:{if(sf(k)!==k||1!==k.tag)throw Error(x(170));var H=k;do{switch(H.tag){case 3:H=H.stateNode.context;break b;case 1:if(Ic(H.type)){H=H.stateNode.__reactInternalMemoizedMergedChildContext;break b}}H=H.return}while(null!==H);throw Error(x(171));}if(1===k.tag){var N=k.type;if(Ic(N)){k=dk(k,N,H);break a}}k=H}else k=wd;null===g.context?g.context=k:g.pendingContext=k;g=Ib(y,D);g.payload={element:e};q=void 0===
q?null:q;null!==q&&(g.callback=q);Pc(u,g);$d(u,D,y);return D}function ff(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sf(e,g){e=e.memoizedState;if(null!==e&&null!==e.dehydrated){var k=e.retryLane;e.retryLane=0!==k&&k<g?k:g}}function Yh(e,g){Sf(e,g);(e=e.alternate)&&Sf(e,g)}function nj(){return null}function Mg(e,g,k){var q=null!=k&&null!=k.hydrationOptions&&k.hydrationOptions.mutableSources||null;k=new mj(e,g,
null!=k&&!0===k.hydrate);g=Yb(3,null,null,2===g?7:1===g?3:0);k.current=g;g.stateNode=k;yh(g);e[Ke]=k.current;nl(8===e.nodeType?e.parentNode:e);if(q)for(e=0;e<q.length;e++){g=q[e];var u=g._getVersion;u=u(g._source);null==k.mutableSourceEagerHydrationData?k.mutableSourceEagerHydrationData=[g,u]:k.mutableSourceEagerHydrationData.push(g,u)}this._internalRoot=k}function gf(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oj(e,
g){g||(g=e?9===e.nodeType?e.documentElement:e.firstChild:null,g=!(!g||1!==g.nodeType||!g.hasAttribute("data-reactroot")));if(!g)for(var k;k=e.lastChild;)e.removeChild(k);return new Mg(e,0,g?{hydrate:!0}:void 0)}function Zh(e,g,k,q,u){var y=k._reactRootContainer;if(y){var D=y._internalRoot;if("function"===typeof u){var H=u;u=function(){var ha=ff(D);H.call(ha)}}Ae(g,D,e,u)}else{y=k._reactRootContainer=oj(k,q);D=y._internalRoot;if("function"===typeof u){var N=u;u=function(){var ha=ff(D);N.call(ha)}}ye(function(){Ae(g,
D,e,u)})}return ff(D)}function Ck(e,g){var k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gf(g))throw Error(x(200));return Gl(e,g,null,k)}var $g=ra(3),Jb=ra(0),gc=ra(6);if(!$g)throw Error(x(227));var wc=new Set,Nd={},he=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Od=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Yg=Object.prototype.hasOwnProperty,xc={},zj={},fc={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fc[e]=new rb(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var g=e[0];fc[g]=new rb(g,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fc[e]=
new rb(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fc[e]=new rb(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fc[e]=new rb(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked",
"multiple","muted","selected"].forEach(function(e){fc[e]=new rb(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fc[e]=new rb(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fc[e]=new rb(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fc[e]=new rb(e,5,!1,e.toLowerCase(),null,!1,!1)});var pj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var g=
e.replace(pj,Mc);fc[g]=new rb(g,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var g=e.replace(pj,Mc);fc[g]=new rb(g,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var g=e.replace(pj,Mc);fc[g]=new rb(g,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fc[e]=new rb(e,1,!1,e.toLowerCase(),null,!1,!1)});fc.xlinkHref=
new rb("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fc[e]=new rb(e,1,!1,e.toLowerCase(),null,!0,!0)});var Be=$g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dh=60103,of=60106,Uc=60107,ie=60108,He=60114,Yf=60109,Xf=60110,gb=60112,Da=60113,Zc=60120,pf=60115,Zf=60116,li=60121,th=60128,Bk=60129,Xh=60130,ze=60131;if("function"===typeof Symbol&&Symbol.for){var $b=Symbol.for;Dh=$b("react.element");of=$b("react.portal");
Uc=$b("react.fragment");ie=$b("react.strict_mode");He=$b("react.profiler");Yf=$b("react.provider");Xf=$b("react.context");gb=$b("react.forward_ref");Da=$b("react.suspense");Zc=$b("react.suspense_list");pf=$b("react.memo");Zf=$b("react.lazy");li=$b("react.block");$b("react.scope");th=$b("react.opaque.id");Bk=$b("react.debug_trace_mode");Xh=$b("react.offscreen");ze=$b("react.legacy_hidden")}var Aj="function"===typeof Symbol&&Symbol.iterator,Zg,ki=!1,Xi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},$h,ok=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(g,k,q,u){MSApp.execUnsafeLocalFunction(function(){return e(g,k,q,u)})}:e}(function(e,g){if(e.namespaceURI!==Xi.svg||"innerHTML"in e)e.innerHTML=g;else{$h=$h||document.createElement("div");$h.innerHTML="\x3csvg\x3e"+g.valueOf().toString()+"\x3c/svg\x3e";for(g=$h.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;g.firstChild;)e.appendChild(g.firstChild)}}),$f={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hl=["Webkit","ms","Moz","O"];Object.keys($f).forEach(function(e){Hl.forEach(function(g){g=g+e.charAt(0).toUpperCase()+e.substring(1);$f[g]=$f[e]})});var Gk=Jb({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),mi=null,qf=null,bg=null,Lk=Bj,vf=!1,bh=!1,mg=!1;if(he)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){mg=
!0}});window.addEventListener("test",ai,ai);window.removeEventListener("test",ai,ai)}catch(e){mg=!1}var rf=!1,oi=null,ch=!1,Dj=null,Xl={onError:function(e){rf=!0;oi=e}},Gj=!1,Sd=[],Pd=null,Qd=null,je=null,Rd=new Map,dh=new Map,uf=[],Lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),cg=
{animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},si={},Hj={};he&&(Hj=document.createElement("div").style,"AnimationEvent"in window||(delete cg.animationend.animation,delete cg.animationiteration.animation,delete cg.animationstart.animation),"TransitionEvent"in window||delete cg.transitionend.transition);var Di=ri("animationend"),Ei=ri("animationiteration"),
Wj=ri("animationstart"),ph=ri("transitionend"),Nc=new Map,Je=new Map,Dk=["abort","abort",Di,"animationEnd",Ei,"animationIteration",Wj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ph,"transitionEnd","waiting","waiting"],Ng=gc.unstable_now;Ng();var Bb=8,cd=Math.clz32?Math.clz32:fm,fg=Math.log,gg=Math.LN2,hh=gc.unstable_UserBlockingPriority,Wk=gc.unstable_runWithPriority,wf=!0,md=null,hg=null,ih=null,hf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=dd(hf),Og=Jb({},hf,{view:0,detail:0}),
Fi=dd(Og),qj,rj,Pg,bi=Jb({},Og,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){if("movementX"in e)return e.movementX;e!==Pg&&(Pg&&"mousemove"===e.type?(qj=e.screenX-Pg.screenX,rj=e.screenY-Pg.screenY):rj=qj=0,Pg=e);return qj},movementY:function(e){return"movementY"in
e?e.movementY:rj}}),Vj=dd(bi),Bm=Jb({},bi,{dataTransfer:0}),ql=dd(Bm),Qg=Jb({},Og,{relatedTarget:0}),nh=dd(Qg),Il=Jb({},hf,{animationName:0,elapsedTime:0,pseudoElement:0}),Xj=dd(Il),Jl=Jb({},hf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yj=dd(Jl),Rg=Jb({},hf,{data:0}),ak=dd(Rg),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},Ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
Sg=Jb({},Og,{key:function(e){if(e.key){var g=Cm[e.key]||e.key;if("Unidentified"!==g)return g}return"keypress"===e.type?(e=vi(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Ek[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(e){return"keypress"===e.type?vi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===
e.type?vi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pl=dd(Sg),sj=Jb({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zj=dd(sj),Dm=Jb({},Og,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),oh=dd(Dm),ci=Jb({},hf,{propertyName:0,elapsedTime:0,pseudoElement:0}),rl=dd(ci),Wc=Jb({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:
0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sl=dd(Wc),bl=[9,13,27,32],yi=he&&"CompositionEvent"in window,Tf=null;he&&"documentMode"in document&&(Tf=document.documentMode);var rh=he&&"TextEvent"in window&&!Tf,ke=he&&(!yi||Tf&&8<Tf&&11>=Tf),Nj=String.fromCharCode(32),Mj=!1,Vc=!1,dl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,
time:!0,url:!0,week:!0},xf=null,kg=null,Gi=!1;if(he){if(he){var Uf="oninput"in document;if(!Uf){var di=document.createElement("div");di.setAttribute("oninput","return;");Uf="function"===typeof di.oninput}var Fk=Uf}else Fk=!1;Gi=Fk&&(!document.documentMode||9<document.documentMode)}var nd="function"===typeof Object.is?Object.is:nm,om=Object.prototype.hasOwnProperty,Hi=he&&"documentMode"in document&&11>=document.documentMode,lg=null,Uj=null,mh=null,ed=!1;Ij("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Ij("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ij(Dk,2);for(var ei="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),tj=0;tj<ei.length;tj++)Je.set(ei[tj],0);Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",
["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ci=new Set("cancel close invalid load scroll toggle".split(" ").concat($e)),Bi="_reactListening"+
Math.random().toString(36).slice(2),Uh=null,jj=null,gj="function"===typeof setTimeout?setTimeout:void 0,Fl="function"===typeof clearTimeout?clearTimeout:void 0,fi=0,gi=Math.random().toString(36).slice(2),Ud="__reactFiber$"+gi,pg="__reactProps$"+gi,Ke="__reactContainer$"+gi,uh="__reactEvents$"+gi,Ki=[],Vd=-1,wd={},yc=Cb(wd),Oc=Cb(!1),xd=wd,Oh=null,jd=null,fk=gc.unstable_runWithPriority,qg=gc.unstable_scheduleCallback,rg=gc.unstable_cancelCallback,xk=gc.unstable_shouldYield,hi=gc.unstable_requestPaint,
uj=gc.unstable_now,Cf=gc.unstable_getCurrentPriorityLevel,Mi=gc.unstable_ImmediatePriority,Wd=gc.unstable_UserBlockingPriority,Ni=gc.unstable_NormalPriority,tl=gc.unstable_LowPriority,Oi=gc.unstable_IdlePriority,Ig={},zk=void 0!==hi?hi:function(){},Ad=null,Df=null,vh=!1,vj=uj(),Cc=1E4>vj?uj:function(){return uj()-vj},uk=Be.ReactCurrentBatchConfig,xh=Cb(null),Ff=null,me=null,Gf=null,Xd=!1,ik=(new $g.Component).refs,Ah={isMounted:function(e){return(e=e._reactInternals)?sf(e)===e:!1},enqueueSetState:function(e,
g,k){e=e._reactInternals;var q=Ac(),u=se(e),y=Ib(q,u);y.payload=g;void 0!==k&&null!==k&&(y.callback=k);Pc(e,y);$d(e,u,q)},enqueueReplaceState:function(e,g,k){e=e._reactInternals;var q=Ac(),u=se(e),y=Ib(q,u);y.tag=1;y.payload=g;void 0!==k&&null!==k&&(y.callback=k);Pc(e,y);$d(e,u,q)},enqueueForceUpdate:function(e,g){e=e._reactInternals;var k=Ac(),q=se(e),u=Ib(k,q);u.tag=2;void 0!==g&&null!==g&&(u.callback=g);Pc(e,u);$d(e,q,k)}},Eh=Array.isArray,Jh=jk(!0),nk=jk(!1),tg={},Bd=Cb(tg),Fh=Cb(tg),pe=Cb(tg),
Zb=Cb(0),hd=null,Cd=null,cc=!1,od=[],Hf=Be.ReactCurrentDispatcher,Qc=Be.ReactCurrentBatchConfig,yg=0,Eb=null,dc=null,ic=null,Ue=!1,Dd=!1,zg={readContext:gd,useCallback:Sb,useContext:Sb,useEffect:Sb,useImperativeHandle:Sb,useLayoutEffect:Sb,useMemo:Sb,useReducer:Sb,useRef:Sb,useState:Sb,useDebugValue:Sb,useDeferredValue:Sb,useTransition:Sb,useMutableSource:Sb,useOpaqueIdentifier:Sb,unstable_isNewReconciler:!1},yl={readContext:gd,useCallback:function(e,g){re().memoizedState=[e,void 0===g?null:g];return e},
useContext:gd,useEffect:ue,useImperativeHandle:function(e,g,k){k=null!==k&&void 0!==k?k.concat([e]):null;return Ve(4,2,Ag.bind(null,g,e),k)},useLayoutEffect:function(e,g){return Ve(4,2,e,g)},useMemo:function(e,g){var k=re();g=void 0===g?null:g;e=e();k.memoizedState=[e,g];return e},useReducer:function(e,g,k){var q=re();g=void 0!==k?k(g):g;q.memoizedState=q.baseState=g;e=q.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:g};e=e.dispatch=Gh.bind(null,Eb,e);return[q.memoizedState,
e]},useRef:Jf,useState:id,useDebugValue:Bg,useDeferredValue:function(e){var g=id(e),k=g[0],q=g[1];ue(function(){var u=Qc.transition;Qc.transition=1;try{q(e)}finally{Qc.transition=u}},[e]);return k},useTransition:function(){var e=id(!1),g=e[0];e=Ih.bind(null,e[1]);Jf(e);return[e,g]},useMutableSource:function(e,g,k){var q=re();q.memoizedState={refs:{getSnapshot:g,setSnapshot:null},source:e,subscribe:k};return mk(q,e,g,k)},useOpaqueIdentifier:function(){if(cc){var e=!1,g=Af(function(){e||(e=!0,k("r:"+
(fi++).toString(36)));throw Error(x(355));}),k=id(g)[1];0===(Eb.mode&2)&&(Eb.flags|=516,pd(5,function(){k("r:"+(fi++).toString(36))},void 0,null));return g}g="r:"+(fi++).toString(36);id(g);return g},unstable_isNewReconciler:!1},$c={readContext:gd,useCallback:Ye,useContext:gd,useEffect:Fd,useImperativeHandle:Hh,useLayoutEffect:Xe,useMemo:zl,useReducer:zc,useRef:te,useState:function(){return zc(Zd)},useDebugValue:Bg,useDeferredValue:function(e){var g=zc(Zd),k=g[0],q=g[1];Fd(function(){var u=Qc.transition;
Qc.transition=1;try{q(e)}finally{Qc.transition=u}},[e]);return k},useTransition:function(){var e=zc(Zd)[0];return[te().current,e]},useMutableSource:Ed,useOpaqueIdentifier:function(){return zc(Zd)[0]},unstable_isNewReconciler:!1},qe={readContext:gd,useCallback:Ye,useContext:gd,useEffect:Fd,useImperativeHandle:Hh,useLayoutEffect:Xe,useMemo:zl,useReducer:I,useRef:te,useState:function(){return I(Zd)},useDebugValue:Bg,useDeferredValue:function(e){var g=I(Zd),k=g[0],q=g[1];Fd(function(){var u=Qc.transition;
Qc.transition=1;try{q(e)}finally{Qc.transition=u}},[e]);return k},useTransition:function(){var e=I(Zd)[0];return[te().current,e]},useMutableSource:Ed,useOpaqueIdentifier:function(){return I(Zd)[0]},unstable_isNewReconciler:!1},pm=Be.ReactCurrentOwner,sc=!1,Vi={dehydrated:null,retryLane:0};var rm=function(e,g){for(var k=g.child;null!==k;){if(5===k.tag||6===k.tag)e.appendChild(k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k;k=k.child;continue}if(k===g)break;for(;null===k.sibling;){if(null===
k.return||k.return===g)return;k=k.return}k.sibling.return=k.return;k=k.sibling}};var Fg=function(){};var qm=function(e,g,k,q){var u=e.memoizedProps;if(u!==q){e=g.stateNode;Re(Bd.current);var y=null;switch(k){case "input":u=Yc(e,u);q=Yc(e,q);y=[];break;case "option":u=qc(e,u);q=qc(e,q);y=[];break;case "select":u=Jb({},u,{value:void 0});q=Jb({},q,{value:void 0});y=[];break;case "textarea":u=sd(e,u);q=sd(e,q);y=[];break;default:"function"!==typeof u.onClick&&"function"===typeof q.onClick&&(e.onclick=
sh)}vb(k,q);var D;k=null;for(ha in u)if(!q.hasOwnProperty(ha)&&u.hasOwnProperty(ha)&&null!=u[ha])if("style"===ha){var H=u[ha];for(D in H)H.hasOwnProperty(D)&&(k||(k={}),k[D]="")}else"dangerouslySetInnerHTML"!==ha&&"children"!==ha&&"suppressContentEditableWarning"!==ha&&"suppressHydrationWarning"!==ha&&"autoFocus"!==ha&&(Nd.hasOwnProperty(ha)?y||(y=[]):(y=y||[]).push(ha,null));for(ha in q){var N=q[ha];H=null!=u?u[ha]:void 0;if(q.hasOwnProperty(ha)&&N!==H&&(null!=N||null!=H))if("style"===ha)if(H){for(D in H)!H.hasOwnProperty(D)||
N&&N.hasOwnProperty(D)||(k||(k={}),k[D]="");for(D in N)N.hasOwnProperty(D)&&H[D]!==N[D]&&(k||(k={}),k[D]=N[D])}else k||(y||(y=[]),y.push(ha,k)),k=N;else"dangerouslySetInnerHTML"===ha?(N=N?N.__html:void 0,H=H?H.__html:void 0,null!=N&&H!==N&&(y=y||[]).push(ha,N)):"children"===ha?"string"!==typeof N&&"number"!==typeof N||(y=y||[]).push(ha,""+N):"suppressContentEditableWarning"!==ha&&"suppressHydrationWarning"!==ha&&(Nd.hasOwnProperty(ha)?(null!=N&&"onScroll"===ha&&Ob("scroll",e),y||H===N||(y=[])):"object"===
typeof N&&null!==N&&N.$$typeof===th?N.toString():(y=y||[]).push(ha,N))}k&&(y=y||[]).push("style",k);var ha;if(g.updateQueue=y)g.flags|=4}};var sm=function(e,g,k,q){k!==q&&(g.flags|=4)};var wm="function"===typeof WeakMap?WeakMap:Map,bf="function"===typeof WeakSet?WeakSet:Set,El=Math.ceil,Jg=Be.ReactCurrentDispatcher,ij=Be.ReactCurrentOwner,db=0,Kc=null,uc=null,Lc=0,df=0,Qf=Cb(0),tc=0,fj=null,Of=0,zh=0,Mf=0,hj=0,ej=null,cj=0,Yi=Infinity,Ha=null,Gg=!1,aj=null,Gd=null,ef=!1,Th=null,Kg=90,kj=[],Ak=[],
rd=null,Pf=0,vk=null,Ph=-1,ee=0,fe=0,Vh=null,Wh=!1;var Rf=function(e,g,k){var q=g.lanes;if(null!==e)if(e.memoizedProps!==g.pendingProps||Oc.current)sc=!0;else if(0!==(k&q))sc=0!==(e.flags&16384)?!0:!1;else{sc=!1;switch(g.tag){case 3:kb(g);Cd=hd=null;cc=!1;break;case 5:Db(g);break;case 1:Ic(g.type)&&Me(g);break;case 4:ug(g,g.stateNode.containerInfo);break;case 10:q=g.memoizedProps.value;var u=g.type._context;Wb(xh,u._currentValue);u._currentValue=q;break;case 13:if(null!==g.memoizedState){if(0!==(k&
g.child.childLanes))return Lf(e,g,k);Wb(Zb,Zb.current&1);g=be(e,g,k);return null!==g?g.sibling:null}Wb(Zb,Zb.current&1);break;case 19:q=0!==(k&g.childLanes);if(0!==(e.flags&64)){if(q)return Rc(e,g,k);g.flags|=64}u=g.memoizedState;null!==u&&(u.rendering=null,u.tail=null,u.lastEffect=null);Wb(Zb,Zb.current);if(q)break;else return null;case 23:case 24:return g.lanes=0,ce(e,g,k)}return be(e,g,k)}else sc=!1;g.lanes=0;switch(g.tag){case 2:q=g.type;null!==e&&(e.alternate=null,g.alternate=null,g.flags|=2);
e=g.pendingProps;u=le(g,yc.current);Ef(g,k);u=lk(null,g,q,e,u,k);g.flags|=1;if("object"===typeof u&&null!==u&&"function"===typeof u.render&&void 0===u.$$typeof){g.tag=1;g.memoizedState=null;g.updateQueue=null;if(Ic(q)){var y=!0;Me(g)}else y=!1;g.memoizedState=null!==u.state&&void 0!==u.state?u.state:null;yh(g);var D=q.getDerivedStateFromProps;"function"===typeof D&&ne(g,q,D,e);u.updater=Ah;g.stateNode=u;u._reactInternals=g;Bh(g,q,e,k);g=Ze(null,g,q,!0,y,k)}else g.tag=0,Tb(null,g,u,k),g=g.child;return g;
case 16:u=g.elementType;a:{null!==e&&(e.alternate=null,g.alternate=null,g.flags|=2);e=g.pendingProps;y=u._init;u=y(u._payload);g.type=u;y=g.tag=Lg(u);e=fd(u,e);switch(y){case 0:g=Cg(null,g,u,e,k);break a;case 1:g=Ui(null,g,u,e,k);break a;case 11:g=ae(null,g,u,e,k);break a;case 14:g=Si(null,g,u,fd(u.type,e),q,k);break a}throw Error(x(306,u,""));}return g;case 0:return q=g.type,u=g.pendingProps,u=g.elementType===q?u:fd(q,u),Cg(e,g,q,u,k);case 1:return q=g.type,u=g.pendingProps,u=g.elementType===q?u:
fd(q,u),Ui(e,g,q,u,k);case 3:kb(g);q=g.updateQueue;if(null===e||null===q)throw Error(x(282));q=g.pendingProps;u=g.memoizedState;u=null!==u?u.element:null;hk(e,g);sg(g,q,null,k);q=g.memoizedState.element;if(q===u)Cd=hd=null,cc=!1,g=be(e,g,k);else{u=g.stateNode;if(y=u.hydrate)Cd=Td(g.stateNode.containerInfo.firstChild),hd=g,y=cc=!0;if(y){e=u.mutableSourceEagerHydrationData;if(null!=e)for(u=0;u<e.length;u+=2)y=e[u],y._workInProgressVersionPrimary=e[u+1],od.push(y);k=nk(g,null,q,k);for(g.child=k;k;)k.flags=
k.flags&-3|1024,k=k.sibling}else Tb(e,g,q,k),Cd=hd=null,cc=!1;g=g.child}return g;case 5:return Db(g),null===e&&kk(g),q=g.type,u=g.pendingProps,y=null!==e?e.memoizedProps:null,D=u.children,Ji(q,u)?D=null:null!==y&&Ji(q,y)&&(g.flags|=16),Ti(e,g),Tb(e,g,D,k),g.child;case 6:return null===e&&kk(g),null;case 13:return Lf(e,g,k);case 4:return ug(g,g.stateNode.containerInfo),q=g.pendingProps,null===e?g.child=Jh(g,null,q,k):Tb(e,g,q,k),g.child;case 11:return q=g.type,u=g.pendingProps,u=g.elementType===q?u:
fd(q,u),ae(e,g,q,u,k);case 7:return Tb(e,g,g.pendingProps,k),g.child;case 8:return Tb(e,g,g.pendingProps.children,k),g.child;case 12:return Tb(e,g,g.pendingProps.children,k),g.child;case 10:a:{q=g.type._context;u=g.pendingProps;D=g.memoizedProps;y=u.value;var H=g.type._context;Wb(xh,H._currentValue);H._currentValue=y;if(null!==D)if(H=D.value,y=nd(H,y)?0:("function"===typeof q._calculateChangedBits?q._calculateChangedBits(H,y):1073741823)|0,0===y){if(D.children===u.children&&!Oc.current){g=be(e,g,
k);break a}}else for(H=g.child,null!==H&&(H.return=g);null!==H;){var N=H.dependencies;if(null!==N){D=H.child;for(var ha=N.firstContext;null!==ha;){if(ha.context===q&&0!==(ha.observedBits&y)){1===H.tag&&(ha=Ib(-1,k&-k),ha.tag=2,Pc(H,ha));H.lanes|=k;ha=H.alternate;null!==ha&&(ha.lanes|=k);ul(H.return,k);N.lanes|=k;break}ha=ha.next}}else D=10===H.tag?H.type===g.type?null:H.child:H.child;if(null!==D)D.return=H;else for(D=H;null!==D;){if(D===g){D=null;break}H=D.sibling;if(null!==H){H.return=D.return;D=
H;break}D=D.return}H=D}Tb(e,g,u.children,k);g=g.child}return g;case 9:return u=g.type,y=g.pendingProps,q=y.children,Ef(g,k),u=gd(u,y.unstable_observedBits),q=q(u),g.flags|=1,Tb(e,g,q,k),g.child;case 14:return u=g.type,y=fd(u,g.pendingProps),y=fd(u.type,y),Si(e,g,u,y,q,k);case 15:return Lh(e,g,g.type,g.pendingProps,q,k);case 17:return q=g.type,u=g.pendingProps,u=g.elementType===q?u:fd(q,u),null!==e&&(e.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,Ic(q)?(e=!0,Me(g)):e=!1,Ef(g,k),va(g,q,u),Bh(g,
q,u,k),Ze(null,g,q,!0,e,k);case 19:return Rc(e,g,k);case 23:return ce(e,g,k);case 24:return ce(e,g,k)}throw Error(x(156,g.tag));};Mg.prototype.render=function(e){Ae(e,this._internalRoot,null,null)};Mg.prototype.unmount=function(){var e=this._internalRoot,g=e.containerInfo;Ae(null,e,null,function(){g[Ke]=null})};var Tk=function(e){if(13===e.tag){var g=Ac();$d(e,4,g);Yh(e,4)}};var Rk=function(e){if(13===e.tag){var g=Ac();$d(e,67108864,g);Yh(e,67108864)}};var tf=function(e){if(13===e.tag){var g=Ac(),
k=se(e);$d(e,k,g);Yh(e,k)}};var bm=function(e,g){return g()};mi=function(e,g,k){switch(g){case "input":Rb(e,k);g=k.name;if("radio"===k.type&&null!=g){for(k=e;k.parentNode;)k=k.parentNode;k=k.querySelectorAll("input[name\x3d"+JSON.stringify(""+g)+'][type\x3d"radio"]');for(g=0;g<k.length;g++){var q=k[g];if(q!==e&&q.form===e.form){var u=ag(q);if(!u)throw Error(x(90));ld(q);Rb(q,u)}}}break;case "textarea":Aa(e,k);break;case "select":g=k.value,null!=g&&Mb(e,!!k.multiple,g,!1)}};Bj=yk;Kk=function(e,g,k,
q,u){var y=db;db|=4;try{return Ne(98,e.bind(null,g,k,q,u))}finally{db=y,0===db&&(Id(),zd())}};Cj=function(){0===(db&49)&&(Sc(),cf())};Lk=function(e,g){var k=db;db|=2;try{return e(g)}finally{db=k,0===db&&(Id(),zd())}};var Kl={Events:[ah,jg,ag,Ik,Jk,cf,{current:!1}]},Jd={findFiberByHostInstance:vd,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ll={bundleType:Jd.bundleType,version:Jd.version,rendererPackageName:Jd.rendererPackageName,rendererConfig:Jd.rendererConfig,overrideHookState:null,
overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Be.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){e=Ok(e);return null===e?null:e.stateNode},findFiberByHostInstance:Jd.findFiberByHostInstance||nj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==
typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wj.isDisabled&&wj.supportsFiber)try{Oh=wj.inject(Ll),jd=wj}catch(e){}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kl;la.createPortal=Ck;la.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var g=e._reactInternals;if(void 0===g){if("function"===typeof e.render)throw Error(x(188));throw Error(x(268,Object.keys(e)));}e=Ok(g);return e=null===e?null:e.stateNode};la.flushSync=function(e,g){var k=
db;if(0!==(k&48))return e(g);db|=1;try{if(e)return Ne(99,e.bind(null,g))}finally{db=k,zd()}};la.hydrate=function(e,g,k){if(!gf(g))throw Error(x(200));return Zh(null,e,g,!0,k)};la.render=function(e,g,k){if(!gf(g))throw Error(x(200));return Zh(null,e,g,!1,k)};la.unmountComponentAtNode=function(e){if(!gf(e))throw Error(x(40));return e._reactRootContainer?(ye(function(){Zh(null,null,e,!1,function(){e._reactRootContainer=null;e[Ke]=null})}),!0):!1};la.unstable_batchedUpdates=yk;la.unstable_createPortal=
function(e,g){return Ck(e,g,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};la.unstable_renderSubtreeIntoContainer=function(e,g,k,q){if(!gf(k))throw Error(x(200));if(null==e||void 0===e._reactInternals)throw Error(x(38));return Zh(e,g,k,!1,q)};la.version="17.0.2"};
shadow$provide[12]=function(V,ra,La,la){function x(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(Oa){console.error(Oa)}}x();La.exports=ra(7)};
shadow$provide[13]=function(V,ra,La,la){console.warn('Scripts "build/three.js" and "build/three.min.js" are deprecated with r150+, and will be removed with r160. Please use ES Modules or alternatives: https://threejs.org/docs/index.html#manual/en/introduction/Installation');(function(x,Oa){"object"===typeof la&&"undefined"!==typeof La?Oa(la):"function"===typeof define&&define.amd?define(["exports"],Oa):(x="undefined"!==typeof globalThis?globalThis:x||self,Oa(x.THREE={}))})(this,function(x){function Oa(){const a=
4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0;return(Jc[a&255]+Jc[a>>8&255]+Jc[a>>16&255]+Jc[a>>24&255]+"-"+Jc[b&255]+Jc[b>>8&255]+"-"+Jc[b>>16&15|64]+Jc[b>>24&255]+"-"+Jc[c&63|128]+Jc[c>>8&255]+"-"+Jc[c>>16&255]+Jc[c>>24&255]+Jc[d&255]+Jc[d>>8&255]+Jc[d>>16&255]+Jc[d>>24&255]).toLowerCase()}function Za(a,b,c){return Math.max(b,Math.min(c,a))}function Pb(a,b){return(a%b+b)%b}function vc(a,b,c){return(1-c)*a+c*b}function Ec(a){return 0===
(a&a-1)&&0!==a}function rb(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Mc(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function Gb(a,b){switch(b.constructor){case Float32Array:return a;case Uint32Array:return a/4294967295;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int32Array:return Math.max(a/2147483647,-1);case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw Error("Invalid component type.");}}function Ya(a,
b){switch(b.constructor){case Float32Array:return a;case Uint32Array:return Math.round(4294967295*a);case Uint16Array:return Math.round(65535*a);case Uint8Array:return Math.round(255*a);case Int32Array:return Math.round(2147483647*a);case Int16Array:return Math.round(32767*a);case Int8Array:return Math.round(127*a);default:throw Error("Invalid component type.");}}function Ub(a){for(let b=a.length-1;0<=b;--b)if(65535<=a[b])return!0;return!1}function Hc(a){return document.createElementNS("http://www.w3.org/1999/xhtml",
a)}function nf(){const a=Hc("canvas");a.style.display="block";return a}function Nb(a){a in Ch||(Ch[a]=!0,console.warn(a))}function bc(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function Tc(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}function Ge(a){if("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap)return wg.getDataURL(a);
if(a.data)return{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name};console.warn("THREE.Texture: Unable to serialize Texture.");return{}}function td(a,b,c,d,f){for(let h=0,l=a.length-3;h<=l;h+=3){Ye.fromArray(a,h);const m=f.x*Math.abs(Ye.x)+f.y*Math.abs(Ye.y)+f.z*Math.abs(Ye.z),n=b.dot(Ye),p=c.dot(Ye),r=d.dot(Ye);if(Math.max(-Math.max(n,p,r),Math.min(n,p,r))>m)return!1}return!0}function ld(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*(b-a)*
(2/3-c):a}function Qb(a){65504<Math.abs(a)&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range.");a=Za(a,-65504,65504);ge.floatView[0]=a;a=ge.uint32View[0];const b=a>>23&511;return ge.baseTable[b]+((a&8388607)>>ge.shiftTable[b])}function Yc(a){const b=a>>10;ge.uint32View[0]=ge.mantissaTable[ge.offsetTable[b]+(a&1023)]+ge.exponentTable[b];return ge.floatView[0]}function ud(a,b,c,d,f,h,l,m,n,p){a.getVertexPosition(m,Ae);a.getVertexPosition(n,ff);a.getVertexPosition(p,Sf);var r=Ae,t=ff,
w=Sf,B=Jb;null===(1===b.side?d.intersectTriangle(w,t,r,!0,B):d.intersectTriangle(r,t,w,0===b.side,B))?a=null:(gc.copy(B),gc.applyMatrix4(a.matrixWorld),b=c.ray.origin.distanceTo(gc),a=b<c.near||b>c.far?null:{distance:b,point:gc.clone(),object:a});a&&(f&&(Mg.fromBufferAttribute(f,m),gf.fromBufferAttribute(f,n),oj.fromBufferAttribute(f,p),a.uv=Bc.getInterpolation(Jb,Ae,ff,Sf,Mg,gf,oj,new va)),h&&(Mg.fromBufferAttribute(h,m),gf.fromBufferAttribute(h,n),oj.fromBufferAttribute(h,p),a.uv1=Bc.getInterpolation(Jb,
Ae,ff,Sf,Mg,gf,oj,new va),a.uv2=a.uv1),l&&(Zh.fromBufferAttribute(l,m),Ck.fromBufferAttribute(l,n),$g.fromBufferAttribute(l,p),a.normal=Bc.getInterpolation(Jb,Ae,ff,Sf,Zh,Ck,$g,new I),0<a.normal.dot(d.direction)&&a.normal.multiplyScalar(-1)),d={a:m,b:n,c:p,normal:new I,materialIndex:0},Bc.getNormal(Ae,ff,Sf,d.normal),a.face=d);return a}function bd(a){const b={};for(const c in a){b[c]={};for(const d in a[c]){const f=a[c][d];f&&(f.isColor||f.isMatrix3||f.isMatrix4||f.isVector2||f.isVector3||f.isVector4||
f.isTexture||f.isQuaternion)?f.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),b[c][d]=null):b[c][d]=f.clone():Array.isArray(f)?b[c][d]=f.slice():b[c][d]=f}}return b}function Rb(a){const b={};for(let c=0;c<a.length;c++){const d=bd(a[c]);for(const f in d)b[f]=d[f]}return b}function Fc(a){return null===a.getRenderTarget()?a.outputColorSpace:Db.workingColorSpace}function Gc(){function a(h,l){d(h,l);f=b.requestAnimationFrame(a)}
let b=null,c=!1,d=null,f=null;return{start:function(){!0!==c&&null!==d&&(f=b.requestAnimationFrame(a),c=!0)},stop:function(){b.cancelAnimationFrame(f);c=!1},setAnimationLoop:function(h){d=h},setContext:function(h){b=h}}}function Wf(a,b){const c=b.isWebGL2,d=new WeakMap;return{get:function(f){f.isInterleavedBufferAttribute&&(f=f.data);return d.get(f)},remove:function(f){f.isInterleavedBufferAttribute&&(f=f.data);const h=d.get(f);h&&(a.deleteBuffer(h.buffer),d.delete(f))},update:function(f,h){if(f.isGLBufferAttribute)h=
d.get(f),(!h||h.version<f.version)&&d.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});else{f.isInterleavedBufferAttribute&&(f=f.data);var l=d.get(f);if(void 0===l){l=d.set;var m=f,n=f.array;const r=f.usage;var p=a.createBuffer();a.bindBuffer(h,p);a.bufferData(h,n,r);f.onUploadCallback();if(n instanceof Float32Array)h=a.FLOAT;else if(n instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(c)h=a.HALF_FLOAT;else throw Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");
else h=a.UNSIGNED_SHORT;else if(n instanceof Int16Array)h=a.SHORT;else if(n instanceof Uint32Array)h=a.UNSIGNED_INT;else if(n instanceof Int32Array)h=a.INT;else if(n instanceof Int8Array)h=a.BYTE;else if(n instanceof Uint8Array)h=a.UNSIGNED_BYTE;else if(n instanceof Uint8ClampedArray)h=a.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+n);l.call(d,m,{buffer:p,type:h,bytesPerElement:n.BYTES_PER_ELEMENT,version:f.version})}else l.version<f.version&&(m=f,n=m.array,
p=m.updateRange,a.bindBuffer(h,l.buffer),-1===p.count?a.bufferSubData(h,0,n):(c?a.bufferSubData(h,p.offset*n.BYTES_PER_ELEMENT,n,p.offset,p.count):a.bufferSubData(h,p.offset*n.BYTES_PER_ELEMENT,n.subarray(p.offset,p.offset+p.count)),p.count=-1),m.onUploadCallback(),l.version=f.version)}}}}function qc(a,b,c,d,f,h,l){function m(A,v){A.getRGB(pf,Fc(a));d.buffers.color.setClear(pf.r,pf.g,pf.b,v,l)}const n=new Ma(0);let p=!0===h?0:1,r,t,w=null,B=0,z=null;return{getClearColor:function(){return n},setClearColor:function(A,
v=1){n.set(A);p=v;m(n,p)},getClearAlpha:function(){return p},setClearAlpha:function(A){p=A;m(n,p)},render:function(A,v){let G=!1,J=!0===v.isScene?v.background:null;J&&J.isTexture&&(J=(0<v.backgroundBlurriness?c:b).get(J));null===J?m(n,p):J&&J.isColor&&(m(J,1),G=!0);const O=a.xr.getEnvironmentBlendMode();"additive"===O?d.buffers.color.setClear(0,0,0,1,l):"alpha-blend"===O&&d.buffers.color.setClear(0,0,0,0,l);(a.autoClear||G)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(J&&(J.isCubeTexture||
306===J.mapping)){void 0===t&&(t=new wc(new Nd(1,1,1),new Od({name:"BackgroundCubeMaterial",uniforms:bd(Zc.backgroundCube.uniforms),vertexShader:Zc.backgroundCube.vertexShader,fragmentShader:Zc.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),t.geometry.deleteAttribute("normal"),t.geometry.deleteAttribute("uv"),t.onBeforeRender=function(K,P,ba){this.matrixWorld.copyPosition(ba.matrixWorld)},Object.defineProperty(t.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),
f.update(t));t.material.uniforms.envMap.value=J;t.material.uniforms.flipEnvMap.value=J.isCubeTexture&&!1===J.isRenderTargetTexture?-1:1;t.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness;t.material.uniforms.backgroundIntensity.value=v.backgroundIntensity;t.material.toneMapped="srgb"!==Db.getTransfer(J.colorSpace);if(w!==J||B!==J.version||z!==a.toneMapping)t.material.needsUpdate=!0,w=J,B=J.version,z=a.toneMapping;t.layers.enableAll();A.unshift(t,t.geometry,t.material,0,0,null)}else if(J&&
J.isTexture){void 0===r&&(r=new wc(new Xf(2,2),new Od({name:"BackgroundMaterial",uniforms:bd(Zc.background.uniforms),vertexShader:Zc.background.vertexShader,fragmentShader:Zc.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),r.geometry.deleteAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),f.update(r));r.material.uniforms.t2D.value=J;r.material.uniforms.backgroundIntensity.value=v.backgroundIntensity;r.material.toneMapped=
"srgb"!==Db.getTransfer(J.colorSpace);!0===J.matrixAutoUpdate&&J.updateMatrix();r.material.uniforms.uvTransform.value.copy(J.matrix);if(w!==J||B!==J.version||z!==a.toneMapping)r.material.needsUpdate=!0,w=J,B=J.version,z=a.toneMapping;r.layers.enableAll();A.unshift(r,r.geometry,r.material,0,0,null)}}}}function Mb(a,b,c,d){function f(K){return d.isWebGL2?a.bindVertexArray(K):z.bindVertexArrayOES(K)}function h(K){return d.isWebGL2?a.deleteVertexArray(K):z.deleteVertexArrayOES(K)}function l(K){const P=
[],ba=[],ca=[];for(let U=0;U<B;U++)P[U]=0,ba[U]=0,ca[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:ba,attributeDivisors:ca,object:K,attributes:{},index:null}}function m(){const K=J.newAttributes;for(let P=0,ba=K.length;P<ba;P++)K[P]=0}function n(K){p(K,0)}function p(K,P){const ba=J.enabledAttributes,ca=J.attributeDivisors;J.newAttributes[K]=1;0===ba[K]&&(a.enableVertexAttribArray(K),ba[K]=1);ca[K]!==P&&((d.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[d.isWebGL2?
"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,P),ca[K]=P)}function r(){const K=J.newAttributes,P=J.enabledAttributes;for(let ba=0,ca=P.length;ba<ca;ba++)P[ba]!==K[ba]&&(a.disableVertexAttribArray(ba),P[ba]=0)}function t(){w();O=!0;J!==G&&(J=G,f(J.object))}function w(){G.geometry=null;G.program=null;G.wireframe=!1}const B=a.getParameter(a.MAX_VERTEX_ATTRIBS),z=d.isWebGL2?null:b.get("OES_vertex_array_object"),A=d.isWebGL2||null!==z,v={},G=l(null);let J=G,O=!1;return{setup:function(K,P,ba,ca,U){var pa=
!1;if(A){pa=!0===P.wireframe;var X=v[ca.id];void 0===X&&(X={},v[ca.id]=X);var za=X[ba.id];void 0===za&&(za={},X[ba.id]=za);X=za[pa];void 0===X&&(X=l(d.isWebGL2?a.createVertexArray():z.createVertexArrayOES()),za[pa]=X);pa=X;J!==pa&&(J=pa,f(J.object));a:{pa=J.attributes;za=ca.attributes;X=0;var ta=ba.getAttributes();for(var xa in ta)if(0<=ta[xa].location){var ya=pa[xa],Ca=za[xa];void 0===Ca&&("instanceMatrix"===xa&&K.instanceMatrix&&(Ca=K.instanceMatrix),"instanceColor"===xa&&K.instanceColor&&(Ca=K.instanceColor));
if(void 0===ya||ya.attribute!==Ca||Ca&&ya.data!==Ca.data){pa=!0;break a}X++}pa=J.attributesNum!==X||J.index!==U?!0:!1}if(pa){xa={};za=ca.attributes;X=0;ta=ba.getAttributes();for(var Wa in ta)0<=ta[Wa].location&&(ya=za[Wa],void 0===ya&&("instanceMatrix"===Wa&&K.instanceMatrix&&(ya=K.instanceMatrix),"instanceColor"===Wa&&K.instanceColor&&(ya=K.instanceColor)),Ca={},(Ca.attribute=ya)&&ya.data&&(Ca.data=ya.data),xa[Wa]=Ca,X++);J.attributes=xa;J.attributesNum=X;J.index=U}}else if(Wa=!0===P.wireframe,J.geometry!==
ca.id||J.program!==ba.id||J.wireframe!==Wa)J.geometry=ca.id,J.program=ba.id,J.wireframe=Wa,pa=!0;null!==U&&c.update(U,a.ELEMENT_ARRAY_BUFFER);if(pa||O){O=!1;if(!1!==d.isWebGL2||!K.isInstancedMesh&&!ca.isInstancedBufferGeometry||null!==b.get("ANGLE_instanced_arrays")){m();Wa=ca.attributes;ba=ba.getAttributes();P=P.defaultAttributeValues;for(const pb in ba)if(xa=ba[pb],0<=xa.location){var T=Wa[pb];void 0===T&&("instanceMatrix"===pb&&K.instanceMatrix&&(T=K.instanceMatrix),"instanceColor"===pb&&K.instanceColor&&
(T=K.instanceColor));if(void 0!==T){if(pa=T.normalized,za=T.itemSize,ta=c.get(T),void 0!==ta){var Ba=ta.buffer;X=ta.type;ta=ta.bytesPerElement;ya=!0===d.isWebGL2&&(X===a.INT||X===a.UNSIGNED_INT||1013===T.gpuType);if(T.isInterleavedBufferAttribute){var Na=T.data;Ca=Na.stride;T=T.offset;if(Na.isInstancedInterleavedBuffer){for(var Xa=0;Xa<xa.locationSize;Xa++)p(xa.location+Xa,Na.meshPerAttribute);!0!==K.isInstancedMesh&&void 0===ca._maxInstanceCount&&(ca._maxInstanceCount=Na.meshPerAttribute*Na.count)}else for(Na=
0;Na<xa.locationSize;Na++)n(xa.location+Na);a.bindBuffer(a.ARRAY_BUFFER,Ba);for(let C=0;C<xa.locationSize;C++){Ba=xa.location+C;Na=za/xa.locationSize;Xa=X;var wa=pa,Ja=Ca*ta,eb=(T+za/xa.locationSize*C)*ta;!0===ya?a.vertexAttribIPointer(Ba,Na,Xa,Ja,eb):a.vertexAttribPointer(Ba,Na,Xa,wa,Ja,eb)}}else{if(T.isInstancedBufferAttribute){for(Ca=0;Ca<xa.locationSize;Ca++)p(xa.location+Ca,T.meshPerAttribute);!0!==K.isInstancedMesh&&void 0===ca._maxInstanceCount&&(ca._maxInstanceCount=T.meshPerAttribute*T.count)}else for(Ca=
0;Ca<xa.locationSize;Ca++)n(xa.location+Ca);a.bindBuffer(a.ARRAY_BUFFER,Ba);for(Ja=0;Ja<xa.locationSize;Ja++)Ca=xa.location+Ja,T=za/xa.locationSize,Ba=X,Na=pa,Xa=za*ta,wa=za/xa.locationSize*Ja*ta,!0===ya?a.vertexAttribIPointer(Ca,T,Ba,Xa,wa):a.vertexAttribPointer(Ca,T,Ba,Na,Xa,wa)}}}else if(void 0!==P&&(pa=P[pb],void 0!==pa))switch(pa.length){case 2:a.vertexAttrib2fv(xa.location,pa);break;case 3:a.vertexAttrib3fv(xa.location,pa);break;case 4:a.vertexAttrib4fv(xa.location,pa);break;default:a.vertexAttrib1fv(xa.location,
pa)}}r()}null!==U&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c.get(U).buffer)}},reset:t,resetDefaultState:w,dispose:function(){t();for(const K in v){const P=v[K];for(const ba in P){const ca=P[ba];for(const U in ca)h(ca[U].object),delete ca[U];delete P[ba]}delete v[K]}},releaseStatesOfGeometry:function(K){if(void 0!==v[K.id]){var P=v[K.id];for(const ba in P){const ca=P[ba];for(const U in ca)h(ca[U].object),delete ca[U];delete P[ba]}delete v[K.id]}},releaseStatesOfProgram:function(K){for(const P in v){const ba=
v[P];if(void 0===ba[K.id])continue;const ca=ba[K.id];for(const U in ca)h(ca[U].object),delete ca[U];delete ba[K.id]}},initAttributes:m,enableAttribute:n,disableUnusedAttributes:r}}function sd(a,b,c,d){const f=d.isWebGL2;let h;this.setMode=function(l){h=l};this.render=function(l,m){a.drawArrays(h,l,m);c.update(m,h,1)};this.renderInstances=function(l,m,n){if(0!==n){if(f){var p=a;var r="drawArraysInstanced"}else if(p=b.get("ANGLE_instanced_arrays"),r="drawArraysInstancedANGLE",null===p){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
return}p[r](h,l,m,n);c.update(m,h,n)}}}function da(a,b,c){function d(K){if("highp"===K){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";K="mediump"}return"mediump"===K&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}let f;const h="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===
a.constructor.name;let l=void 0!==c.precision?c.precision:"highp";var m=d(l);m!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",m,"instead."),l=m);m=h||b.has("WEBGL_draw_buffers");c=!0===c.logarithmicDepthBuffer;const n=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),p=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),r=a.getParameter(a.MAX_TEXTURE_SIZE),t=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),w=a.getParameter(a.MAX_VERTEX_ATTRIBS),B=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),z=
a.getParameter(a.MAX_VARYING_VECTORS),A=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),v=0<p,G=h||b.has("OES_texture_float"),J=v&&G,O=h?a.getParameter(a.MAX_SAMPLES):0;return{isWebGL2:h,drawBuffers:m,getMaxAnisotropy:function(){if(void 0!==f)return f;if(!0===b.has("EXT_texture_filter_anisotropic")){const K=b.get("EXT_texture_filter_anisotropic");f=a.getParameter(K.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else f=0;return f},getMaxPrecision:d,precision:l,logarithmicDepthBuffer:c,maxTextures:n,maxVertexTextures:p,
maxTextureSize:r,maxCubemapSize:t,maxAttributes:w,maxVertexUniforms:B,maxVaryings:z,maxFragmentUniforms:A,vertexTextures:v,floatFragmentTextures:G,floatVertexTextures:J,maxSamples:O}}function Aa(a){function b(r,t,w,B){const z=null!==r?r.length:0;let A=null;if(0!==z){A=p.value;if(!0!==B||null===A){B=w+4*z;t=t.matrixWorldInverse;n.getNormalMatrix(t);if(null===A||A.length<B)A=new Float32Array(B);for(let v=0,G=w;v!==z;++v,G+=4)m.copy(r[v]).applyMatrix4(t,n),m.normal.toArray(A,G),A[G+3]=m.constant}p.value=
A;p.needsUpdate=!0}c.numPlanes=z;c.numIntersection=0;return A}const c=this;let d=null,f=0,h=!1,l=!1;const m=new Uc,n=new nb,p={value:null,needsUpdate:!1};this.uniform=p;this.numIntersection=this.numPlanes=0;this.init=function(r,t){const w=0!==r.length||t||0!==f||h;h=t;f=r.length;return w};this.beginShadows=function(){l=!0;b(null)};this.endShadows=function(){l=!1};this.setGlobalState=function(r,t){d=b(r,t,0)};this.setState=function(r,t,w){const B=r.clippingPlanes,z=r.clipIntersection;var A=r.clipShadows;
r=a.get(r);if(!h||null===B||0===B.length||l&&!A)l?b(null):(p.value!==d&&(p.value=d,p.needsUpdate=0<f),c.numPlanes=f,c.numIntersection=0);else{A=l?0:f;const v=4*A;let G=r.clippingState||null;p.value=G;G=b(B,t,v,w);for(t=0;t!==v;++t)G[t]=d[t];r.clippingState=G;this.numIntersection=z?this.numPlanes:0;this.numPlanes+=A}}}function sa(a){function b(f,h){303===h?f.mapping=301:304===h&&(f.mapping=302);return f}function c(f){f=f.target;f.removeEventListener("dispose",c);const h=d.get(f);void 0!==h&&(d.delete(f),
h.dispose())}let d=new WeakMap;return{get:function(f){if(f&&f.isTexture&&!1===f.isRenderTargetTexture){var h=f.mapping;if(303===h||304===h)return d.has(f)?(h=d.get(f).texture,b(h,f.mapping)):(h=f.image)&&0<h.height?(h=new pj(h.height/2),h.fromEquirectangularTexture(a,f),d.set(f,h),f.addEventListener("dispose",c),b(h.texture,f.mapping)):null}return f},dispose:function(){d=new WeakMap}}}function Ea(a,b,c){a=new Sb(a,b,c);a.texture.mapping=306;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}
function Ga(a,b,c,d,f){a.viewport.set(b,c,d,f);a.scissor.set(b,c,d,f)}function ab(){return new Od({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ub(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include \x3ccommon\x3e\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection \x3d normalize( vOutputDirection );\n\t\t\t\tvec2 uv \x3d equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor \x3d vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function lb(){return new Od({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ub(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor \x3d textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function ub(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv \x3d 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction \x3d vec3( uv, 1.0 );\n\n\t\t\tif ( face \x3d\x3d 0.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face \x3d\x3d 1.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face \x3d\x3d 2.0 ) {\n\n\t\t\t\tdirection.x *\x3d -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face \x3d\x3d 3.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face \x3d\x3d 4.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xy *\x3d -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face \x3d\x3d 5.0 ) {\n\n\t\t\t\tdirection.z *\x3d -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection \x3d getDirection( uv, faceIndex );\n\t\t\tgl_Position \x3d vec4( position, 1.0 );\n\n\t\t}\n\t"}
function vb(a){function b(f){f=f.target;f.removeEventListener("dispose",b);const h=c.get(f);void 0!==h&&(c.delete(f),h.dispose())}let c=new WeakMap,d=null;return{get:function(f){if(f&&f.isTexture){var h=f.mapping,l=303===h||304===h,m=301===h||302===h;if(l||m){if(f.isRenderTargetTexture&&!0===f.needsPMREMUpdate)return f.needsPMREMUpdate=!1,h=c.get(f),null===d&&(d=new Zg(a)),h=l?d.fromEquirectangular(f,h):d.fromCubemap(f,h),c.set(f,h),h.texture;if(c.has(f))return c.get(f).texture;h=f.image;var n;if(!(n=
l&&h&&0<h.height)&&(n=m&&h)){n=0;for(m=0;6>m;m++)void 0!==h[m]&&n++;n=6===n}return n?(null===d&&(d=new Zg(a)),l=l?d.fromEquirectangular(f):d.fromCubemap(f),c.set(f,l),f.addEventListener("dispose",b),l.texture):null}}return f},dispose:function(){c=new WeakMap;null!==d&&(d.dispose(),d=null)}}}function ec(a){function b(d){if(void 0!==c[d])return c[d];let f;switch(d){case "WEBGL_depth_texture":f=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");
break;case "EXT_texture_filter_anisotropic":f=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":f=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":f=a.getExtension("WEBGL_compressed_texture_pvrtc")||
a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:f=a.getExtension(d)}return c[d]=f}const c={};return{has:function(d){return null!==b(d)},init:function(d){d.isWebGL2?b("EXT_color_buffer_float"):(b("WEBGL_depth_texture"),b("OES_texture_float"),b("OES_texture_half_float"),b("OES_texture_half_float_linear"),b("OES_standard_derivatives"),b("OES_element_index_uint"),b("OES_vertex_array_object"),b("ANGLE_instanced_arrays"));b("OES_texture_float_linear");b("EXT_color_buffer_half_float");
b("WEBGL_multisampled_render_to_texture")},get:function(d){const f=b(d);null===f&&console.warn("THREE.WebGLRenderer: "+d+" extension not supported.");return f}}}function Md(a,b,c,d){function f(n){n=n.target;null!==n.index&&b.remove(n.index);for(var p in n.attributes)b.remove(n.attributes[p]);for(var r in n.morphAttributes){p=n.morphAttributes[r];for(let t=0,w=p.length;t<w;t++)b.remove(p[t])}n.removeEventListener("dispose",f);delete l[n.id];if(r=m.get(n))b.remove(r),m.delete(n);d.releaseStatesOfGeometry(n);
!0===n.isInstancedBufferGeometry&&delete n._maxInstanceCount;c.memory.geometries--}function h(n){var p=[],r=n.index,t=n.attributes.position;if(null!==r){t=r.array;r=r.version;for(let z=0,A=t.length;z<A;z+=3){var w=t[z+0],B=t[z+1];const v=t[z+2];p.push(w,B,B,v,v,w)}}else if(void 0!==t){w=t.array;r=t.version;for(let z=0,A=w.length/3-1;z<A;z+=3)t=z+0,w=z+1,B=z+2,p.push(t,w,w,B,B,t)}else return;p=new (Ub(p)?lj:bj)(p,1);p.version=r;(r=m.get(n))&&b.remove(r);m.set(n,p)}const l={},m=new WeakMap;return{get:function(n,
p){if(!0===l[p.id])return p;p.addEventListener("dispose",f);l[p.id]=!0;c.memory.geometries++;return p},update:function(n){var p=n.attributes;for(const r in p)b.update(p[r],a.ARRAY_BUFFER);n=n.morphAttributes;for(const r in n){p=n[r];for(let t=0,w=p.length;t<w;t++)b.update(p[t],a.ARRAY_BUFFER)}},getWireframeAttribute:function(n){const p=m.get(n);if(p){const r=n.index;null!==r&&p.version<r.version&&h(n)}else h(n);return m.get(n)}}}function Hk(a,b,c,d){const f=d.isWebGL2;let h,l,m;this.setMode=function(n){h=
n};this.setIndex=function(n){l=n.type;m=n.bytesPerElement};this.render=function(n,p){a.drawElements(h,p,l,n*m);c.update(p,h,1)};this.renderInstances=function(n,p,r){if(0!==r){if(f){var t=a;var w="drawElementsInstanced"}else if(t=b.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",null===t){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}t[w](h,p,l,n*m,r);c.update(p,h,r)}}}function Ik(a){const b=
{frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function(c,d,f){b.calls++;switch(d){case a.TRIANGLES:b.triangles+=c/3*f;break;case a.LINES:b.lines+=c/2*f;break;case a.LINE_STRIP:b.lines+=f*(c-1);break;case a.LINE_LOOP:b.lines+=f*c;break;case a.POINTS:b.points+=f*c;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d)}}}}function Jk(a,b){return a[0]-
b[0]}function Bj(a,b){return Math.abs(b[1])-Math.abs(a[1])}function Kk(a,b,c){const d={},f=new Float32Array(8),h=new WeakMap,l=new Ab,m=[];for(let n=0;8>n;n++)m[n]=[n,0];return{update:function(n,p,r){n=n.morphTargetInfluences;if(!0===b.isWebGL2){var t=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color;t=void 0!==t?t.length:0;var w=h.get(p);if(void 0===w||w.count!==t){void 0!==w&&w.texture.dispose();w=void 0!==p.morphAttributes.position;var B=void 0!==p.morphAttributes.normal,
z=void 0!==p.morphAttributes.color,A=p.morphAttributes.position||[];const G=p.morphAttributes.normal||[],J=p.morphAttributes.color||[];var v=0;!0===w&&(v=1);!0===B&&(v=2);!0===z&&(v=3);let O=p.attributes.position.count*v,K=1;O>b.maxTextureSize&&(K=Math.ceil(O/b.maxTextureSize),O=b.maxTextureSize);const P=new Float32Array(O*K*4*t),ba=new xg(P,O,K,t);ba.type=1015;ba.needsUpdate=!0;v*=4;for(let U=0;U<t;U++){const pa=A[U],X=G[U],za=J[U],ta=O*K*4*U;for(let xa=0;xa<pa.count;xa++){const ya=xa*v;!0===w&&
(l.fromBufferAttribute(pa,xa),P[ta+ya+0]=l.x,P[ta+ya+1]=l.y,P[ta+ya+2]=l.z,P[ta+ya+3]=0);!0===B&&(l.fromBufferAttribute(X,xa),P[ta+ya+4]=l.x,P[ta+ya+5]=l.y,P[ta+ya+6]=l.z,P[ta+ya+7]=0);!0===z&&(l.fromBufferAttribute(za,xa),P[ta+ya+8]=l.x,P[ta+ya+9]=l.y,P[ta+ya+10]=l.z,P[ta+ya+11]=4===za.itemSize?l.w:1)}}w={count:t,texture:ba,size:new va(O,K)};h.set(p,w);function ca(){ba.dispose();h.delete(p);p.removeEventListener("dispose",ca)}p.addEventListener("dispose",ca)}t=0;for(B=0;B<n.length;B++)t+=n[B];t=
p.morphTargetsRelative?1:1-t;r.getUniforms().setValue(a,"morphTargetBaseInfluence",t);r.getUniforms().setValue(a,"morphTargetInfluences",n);r.getUniforms().setValue(a,"morphTargetsTexture",w.texture,c);r.getUniforms().setValue(a,"morphTargetsTextureSize",w.size)}else{t=void 0===n?0:n.length;w=d[p.id];if(void 0===w||w.length!==t){w=[];for(B=0;B<t;B++)w[B]=[B,0];d[p.id]=w}for(B=0;B<t;B++)z=w[B],z[0]=B,z[1]=n[B];w.sort(Bj);for(n=0;8>n;n++)n<t&&w[n][1]?(m[n][0]=w[n][0],m[n][1]=w[n][1]):(m[n][0]=Number.MAX_SAFE_INTEGER,
m[n][1]=0);m.sort(Jk);n=p.morphAttributes.position;t=p.morphAttributes.normal;w=0;for(B=0;8>B;B++)A=m[B],z=A[0],A=A[1],z!==Number.MAX_SAFE_INTEGER&&A?(n&&p.getAttribute("morphTarget"+B)!==n[z]&&p.setAttribute("morphTarget"+B,n[z]),t&&p.getAttribute("morphNormal"+B)!==t[z]&&p.setAttribute("morphNormal"+B,t[z]),f[B]=A,w+=A):(n&&!0===p.hasAttribute("morphTarget"+B)&&p.deleteAttribute("morphTarget"+B),t&&!0===p.hasAttribute("morphNormal"+B)&&p.deleteAttribute("morphNormal"+B),f[B]=0);n=p.morphTargetsRelative?
1:1-w;r.getUniforms().setValue(a,"morphTargetBaseInfluence",n);r.getUniforms().setValue(a,"morphTargetInfluences",f)}}}}function Cj(a,b,c,d){function f(l){l=l.target;l.removeEventListener("dispose",f);c.remove(l.instanceMatrix);null!==l.instanceColor&&c.remove(l.instanceColor)}let h=new WeakMap;return{update:function(l){const m=d.render.frame,n=b.get(l,l.geometry);h.get(n)!==m&&(b.update(n),h.set(n,m));l.isInstancedMesh&&(!1===l.hasEventListener("dispose",f)&&l.addEventListener("dispose",f),h.get(l)!==
m&&(c.update(l.instanceMatrix,a.ARRAY_BUFFER),null!==l.instanceColor&&c.update(l.instanceColor,a.ARRAY_BUFFER),h.set(l,m)));l.isSkinnedMesh&&(l=l.skeleton,h.get(l)!==m&&(l.update(),h.set(l,m)));return n},dispose:function(){h=new WeakMap}}}function Ie(a,b,c){const d=a[0];if(0>=d||0<d)return a;const f=b*c;let h=$f[f];void 0===h&&(h=new Float32Array(f),$f[f]=h);if(0!==b){d.toArray(h,0);for(let l=1,m=0;l!==b;++l)m+=c,a[l].toArray(h,m)}return h}function rc(a,b){if(a.length!==b.length)return!1;for(let c=
0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function Vb(a,b){for(let c=0,d=b.length;c<d;c++)a[c]=b[c]}function ni(a,b){let c=Hl[b];void 0===c&&(c=new Int32Array(b),Hl[b]=c);for(let d=0;d!==b;++d)c[d]=a.allocateTextureUnit();return c}function Wl(a,b){const c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function Yl(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else rc(c,b)||(a.uniform2fv(this.addr,b),Vb(c,b))}
function sf(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else rc(c,b)||(a.uniform3fv(this.addr,b),Vb(c,b))}function Mk(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else rc(c,
b)||(a.uniform4fv(this.addr,b),Vb(c,b))}function Nk(a,b){const c=this.cache,d=b.elements;void 0===d?rc(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),Vb(c,b)):rc(c,d)||(qf.set(d),a.uniformMatrix2fv(this.addr,!1,qf),Vb(c,d))}function Zl(a,b){const c=this.cache,d=b.elements;void 0===d?rc(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),Vb(c,b)):rc(c,d)||(mi.set(d),a.uniformMatrix3fv(this.addr,!1,mi),Vb(c,d))}function Ok(a,b){const c=this.cache,d=b.elements;void 0===d?rc(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),
Vb(c,b)):rc(c,d)||(Gk.set(d),a.uniformMatrix4fv(this.addr,!1,Gk),Vb(c,d))}function Pk(a,b){const c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function Ej(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2i(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else rc(c,b)||(a.uniform2iv(this.addr,b),Vb(c,b))}function Qk(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3i(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else rc(c,b)||(a.uniform3iv(this.addr,
b),Vb(c,b))}function eh(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4i(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else rc(c,b)||(a.uniform4iv(this.addr,b),Vb(c,b))}function $l(a,b){const c=this.cache;c[0]!==b&&(a.uniform1ui(this.addr,b),c[0]=b)}function am(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2ui(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else rc(c,b)||(a.uniform2uiv(this.addr,b),Vb(c,b))}
function pi(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3ui(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else rc(c,b)||(a.uniform3uiv(this.addr,b),Vb(c,b))}function Sk(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4ui(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else rc(c,b)||(a.uniform4uiv(this.addr,b),Vb(c,b))}function cm(a,b,c){const d=this.cache,f=c.allocateTextureUnit();d[0]!==
f&&(a.uniform1i(this.addr,f),d[0]=f);c.setTexture2D(b||ki,f)}function fh(a,b,c){const d=this.cache,f=c.allocateTextureUnit();d[0]!==f&&(a.uniform1i(this.addr,f),d[0]=f);c.setTexture3D(b||$h,f)}function Uk(a,b,c){const d=this.cache,f=c.allocateTextureUnit();d[0]!==f&&(a.uniform1i(this.addr,f),d[0]=f);c.setTextureCube(b||ok,f)}function qi(a,b,c){const d=this.cache,f=c.allocateTextureUnit();d[0]!==f&&(a.uniform1i(this.addr,f),d[0]=f);c.setTexture2DArray(b||Xi,f)}function ri(a){switch(a){case 5126:return Wl;
case 35664:return Yl;case 35665:return sf;case 35666:return Mk;case 35674:return Nk;case 35675:return Zl;case 35676:return Ok;case 5124:case 35670:return Pk;case 35667:case 35671:return Ej;case 35668:case 35672:return Qk;case 35669:case 35673:return eh;case 5125:return $l;case 36294:return am;case 36295:return pi;case 36296:return Sk;case 35678:case 36198:case 36298:case 36306:case 35682:return cm;case 35679:case 36299:case 36307:return fh;case 35680:case 36300:case 36308:case 36293:return Uk;case 36289:case 36303:case 36311:case 36292:return qi}}
function Ij(a,b){a.uniform1fv(this.addr,b)}function dg(a,b){b=Ie(b,this.size,2);a.uniform2fv(this.addr,b)}function dm(a,b){b=Ie(b,this.size,3);a.uniform3fv(this.addr,b)}function em(a,b){b=Ie(b,this.size,4);a.uniform4fv(this.addr,b)}function gh(a,b){b=Ie(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,b)}function Vk(a,b){b=Ie(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,b)}function ti(a,b){b=Ie(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,b)}function eg(a,b){a.uniform1iv(this.addr,b)}function Jj(a,
b){a.uniform2iv(this.addr,b)}function ui(a,b){a.uniform3iv(this.addr,b)}function fm(a,b){a.uniform4iv(this.addr,b)}function gm(a,b){a.uniform1uiv(this.addr,b)}function hm(a,b){a.uniform2uiv(this.addr,b)}function Kj(a,b){a.uniform3uiv(this.addr,b)}function Fj(a,b){a.uniform4uiv(this.addr,b)}function Yk(a,b,c){const d=this.cache,f=b.length,h=ni(c,f);rc(d,h)||(a.uniform1iv(this.addr,h),Vb(d,h));for(a=0;a!==f;++a)c.setTexture2D(b[a]||ki,h[a])}function vi(a,b,c){const d=this.cache,f=b.length,h=ni(c,f);
rc(d,h)||(a.uniform1iv(this.addr,h),Vb(d,h));for(a=0;a!==f;++a)c.setTexture3D(b[a]||$h,h[a])}function wi(a,b,c){const d=this.cache,f=b.length,h=ni(c,f);rc(d,h)||(a.uniform1iv(this.addr,h),Vb(d,h));for(a=0;a!==f;++a)c.setTextureCube(b[a]||ok,h[a])}function Zk(a,b,c){const d=this.cache,f=b.length,h=ni(c,f);rc(d,h)||(a.uniform1iv(this.addr,h),Vb(d,h));for(a=0;a!==f;++a)c.setTexture2DArray(b[a]||Xi,h[a])}function dd(a){switch(a){case 5126:return Ij;case 35664:return dg;case 35665:return dm;case 35666:return em;
case 35674:return gh;case 35675:return Vk;case 35676:return ti;case 5124:case 35670:return eg;case 35667:case 35671:return Jj;case 35668:case 35672:return ui;case 35669:case 35673:return fm;case 5125:return gm;case 36294:return hm;case 36295:return Kj;case 36296:return Fj;case 35678:case 36198:case 36298:case 36306:case 35682:return Yk;case 35679:case 36299:case 36307:return vi;case 35680:case 36300:case 36308:case 36293:return wi;case 36289:case 36303:case 36311:case 36292:return Zk}}function $k(a,
b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b}function xi(a,b,c){var d=a.getShaderParameter(b,a.COMPILE_STATUS),f=a.getShaderInfoLog(b).trim();if(d&&""===f)return"";if(d=/ERROR: 0:(\d+)/.exec(f)){d=parseInt(d[1]);c=c.toUpperCase()+"\n\n"+f+"\n\n";b=a.getShaderSource(b);a=d;b=b.split("\n");f=[];var h=Math.max(a-6,0);for(d=Math.min(a+6,b.length);h<d;h++){const l=h+1;f.push(`${l===a?"\x3e":" "} ${l}: ${b[h]}`)}a=f.join("\n");return c+a}return f}function al(a,b){a:{const c=
Db.getPrimaries(Db.workingColorSpace),d=Db.getPrimaries(b);let f;c===d?f="":"p3"===c&&"rec709"===d?f="LinearDisplayP3ToLinearSRGB":"rec709"===c&&"p3"===d&&(f="LinearSRGBToLinearDisplayP3");switch(b){case "srgb-linear":case "display-p3-linear":b=[f,"LinearTransferOETF"];break a;case "srgb":case "display-p3":b=[f,"sRGBTransferOETF"];break a;default:console.warn("THREE.WebGLProgram: Unsupported color space:",b),b=[f,"LinearTransferOETF"]}}return`vec4 ${a}( vec4 value ) { return ${b[0]}( ${b[1]}( value ) ); }`}
function cl(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="OptimizedCineon";break;case 4:b="ACESFilmic";break;case 5:b="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",b),b="Linear"}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function im(a){const b=[];for(const c in a){const d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function jh(a){return""!==a}function Oj(a,b){const c=b.numSpotLightShadows+
b.numSpotLightMaps-b.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,b.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,c).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,b.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,
b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}function Pj(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function Qj(a,b){a=gb[b];if(void 0===a){const c=oi.get(b);if(void 0!==c)a=gb[c],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',b,c);else throw Error("Can not resolve #include \x3c"+b+"\x3e");}return a.replace(rf,Qj)}function kh(a,
b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[\s*i\s*\]/g,"[ "+b+" ]").replace(/UNROLLED_LOOP_INDEX/g,b);return a}function fl(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION");return b}function gl(a){let b="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?b="SHADOWMAP_TYPE_PCF":2===a.shadowMapType?b="SHADOWMAP_TYPE_PCF_SOFT":
3===a.shadowMapType&&(b="SHADOWMAP_TYPE_VSM");return b}function hl(a){let b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:b="ENVMAP_TYPE_CUBE";break;case 306:b="ENVMAP_TYPE_CUBE_UV"}return b}function jm(a){let b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:b="ENVMAP_MODE_REFRACTION"}return b}function km(a){let b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:b="ENVMAP_BLENDING_MULTIPLY";break;case 1:b="ENVMAP_BLENDING_MIX";break;case 2:b=
"ENVMAP_BLENDING_ADD"}return b}function lm(a){a=a.envMapCubeUVHeight;if(null===a)return null;const b=Math.log2(a)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,b),112)),texelHeight:1/a,maxMip:b}}function mm(a,b,c,d){const f=a.getContext();var h=c.defines,l=c.vertexShader,m=c.fragmentShader,n=gl(c),p=hl(c),r=jm(c),t=km(c),w=lm(c),B=c.isWebGL2?"":[c.extensionDerivatives||c.envMapCubeUVHeight||c.bumpMap||c.normalMapTangentSpace||c.clearcoatNormalMap||c.flatShading||"physical"===c.shaderID?"#extension GL_OES_standard_derivatives : enable":
"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap||c.transmission)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jh).join("\n");const z=im(h),A=f.createProgram();var v=c.glslVersion?"#version "+c.glslVersion+"\n":"";c.isRawShaderMaterial?
(h=["#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,z].filter(jh).join("\n"),0<h.length&&(h+="\n"),n=[B,"#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,z].filter(jh).join("\n"),0<n.length&&(n+="\n")):(h=[fl(c),"#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,z,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":
"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+r:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",c.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",c.displacementMap?"#define USE_DISPLACEMENTMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.anisotropy?"#define USE_ANISOTROPY":"",c.anisotropyMap?
"#define USE_ANISOTROPYMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",c.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":
"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaHash?"#define USE_ALPHAHASH":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",c.mapUv?"#define MAP_UV "+c.mapUv:"",c.alphaMapUv?"#define ALPHAMAP_UV "+c.alphaMapUv:"",c.lightMapUv?"#define LIGHTMAP_UV "+c.lightMapUv:
"",c.aoMapUv?"#define AOMAP_UV "+c.aoMapUv:"",c.emissiveMapUv?"#define EMISSIVEMAP_UV "+c.emissiveMapUv:"",c.bumpMapUv?"#define BUMPMAP_UV "+c.bumpMapUv:"",c.normalMapUv?"#define NORMALMAP_UV "+c.normalMapUv:"",c.displacementMapUv?"#define DISPLACEMENTMAP_UV "+c.displacementMapUv:"",c.metalnessMapUv?"#define METALNESSMAP_UV "+c.metalnessMapUv:"",c.roughnessMapUv?"#define ROUGHNESSMAP_UV "+c.roughnessMapUv:"",c.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+c.anisotropyMapUv:"",c.clearcoatMapUv?"#define CLEARCOATMAP_UV "+
c.clearcoatMapUv:"",c.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+c.clearcoatNormalMapUv:"",c.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+c.clearcoatRoughnessMapUv:"",c.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+c.iridescenceMapUv:"",c.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+c.iridescenceThicknessMapUv:"",c.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+c.sheenColorMapUv:"",c.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+c.sheenRoughnessMapUv:
"",c.specularMapUv?"#define SPECULARMAP_UV "+c.specularMapUv:"",c.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+c.specularColorMapUv:"",c.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+c.specularIntensityMapUv:"",c.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+c.transmissionMapUv:"",c.thicknessMapUv?"#define THICKNESSMAP_UV "+c.thicknessMapUv:"",c.vertexTangents&&!1===c.flatShading?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":
"",c.vertexUv1s?"#define USE_UV1":"",c.vertexUv2s?"#define USE_UV2":"",c.vertexUv3s?"#define USE_UV3":"",c.pointsUvs?"#define USE_POINTS_UV":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&!1===c.flatShading?"#define USE_MORPHNORMALS":"",c.morphColors&&c.isWebGL2?"#define USE_MORPHCOLORS":"",0<c.morphTargetsCount&&c.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",0<c.morphTargetsCount&&c.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+
c.morphTextureStride:"",0<c.morphTargetsCount&&c.isWebGL2?"#define MORPHTARGETS_COUNT "+c.morphTargetsCount:"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+n:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",0<c.numLightProbes?"#define USE_LIGHT_PROBES":"",c.useLegacyLights?"#define LEGACY_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?
"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif",
"#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) \x26\x26 ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS",
"\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(jh).join("\n"),n=[B,fl(c),"#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,
z,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+p:"",c.envMap?"#define "+r:"",c.envMap?"#define "+t:"",w?"#define CUBEUV_TEXEL_WIDTH "+w.texelWidth:"",w?"#define CUBEUV_TEXEL_HEIGHT "+w.texelHeight:"",w?"#define CUBEUV_MAX_MIP "+w.maxMip+".0":"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?
"#define USE_NORMALMAP":"",c.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",c.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.anisotropy?"#define USE_ANISOTROPY":"",c.anisotropyMap?"#define USE_ANISOTROPYMAP":"",c.clearcoat?"#define USE_CLEARCOAT":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.iridescence?
"#define USE_IRIDESCENCE":"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",c.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaTest?"#define USE_ALPHATEST":"",c.alphaHash?"#define USE_ALPHAHASH":
"",c.sheen?"#define USE_SHEEN":"",c.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.vertexTangents&&!1===c.flatShading?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUv1s?"#define USE_UV1":"",c.vertexUv2s?"#define USE_UV2":
"",c.vertexUv3s?"#define USE_UV3":"",c.pointsUvs?"#define USE_POINTS_UV":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+n:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",0<c.numLightProbes?"#define USE_LIGHT_PROBES":"",c.useLegacyLights?"#define LEGACY_LIGHTS":"",c.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":
"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==c.toneMapping?"#define TONE_MAPPING":"",0!==c.toneMapping?gb.tonemapping_pars_fragment:"",0!==c.toneMapping?cl("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",c.opaque?"#define OPAQUE":"",gb.colorspace_pars_fragment,al("linearToOutputTexel",c.outputColorSpace),
c.useDepthPacking?"#define DEPTH_PACKING "+c.depthPacking:"","\n"].filter(jh).join("\n"));l=l.replace(rf,Qj);l=Oj(l,c);l=Pj(l,c);m=m.replace(rf,Qj);m=Oj(m,c);m=Pj(m,c);l=l.replace(ch,kh);m=m.replace(ch,kh);c.isWebGL2&&!0!==c.isRawShaderMaterial&&(v="#version 300 es\n",h="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+h,n=["#define varying in","300 es"===c.glslVersion?"":"layout(location \x3d 0) out highp vec4 pc_fragColor;","300 es"===c.glslVersion?
"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+n);m=v+n+m;l=$k(f,f.VERTEX_SHADER,v+h+l);m=$k(f,f.FRAGMENT_SHADER,m);f.attachShader(A,
l);f.attachShader(A,m);void 0!==c.index0AttributeName?f.bindAttribLocation(A,0,c.index0AttributeName):!0===c.morphTargets&&f.bindAttribLocation(A,0,"position");f.linkProgram(A);if(a.debug.checkShaderErrors){v=f.getProgramInfoLog(A).trim();p=f.getShaderInfoLog(l).trim();r=f.getShaderInfoLog(m).trim();w=t=!0;if(!1===f.getProgramParameter(A,f.LINK_STATUS))if(t=!1,"function"===typeof a.debug.onShaderError)a.debug.onShaderError(f,A,l,m);else a=xi(f,l,"vertex"),B=xi(f,m,"fragment"),console.error("THREE.WebGLProgram: Shader Error "+
f.getError()+" - VALIDATE_STATUS "+f.getProgramParameter(A,f.VALIDATE_STATUS)+"\n\nProgram Info Log: "+v+"\n"+a+"\n"+B);else if(""!==v)console.warn("THREE.WebGLProgram: Program Info Log:",v);else if(""===p||""===r)w=!1;w&&(this.diagnostics={runnable:t,programLog:v,vertexShader:{log:p,prefix:h},fragmentShader:{log:r,prefix:n}})}f.deleteShader(l);f.deleteShader(m);let G;this.getUniforms=function(){void 0===G&&(G=new mg(f,A));return G};let J;this.getAttributes=function(){if(void 0===J){const O={},K=
f.getProgramParameter(A,f.ACTIVE_ATTRIBUTES);for(let P=0;P<K;P++){const ba=f.getActiveAttrib(A,P),ca=ba.name;let U=1;ba.type===f.FLOAT_MAT2&&(U=2);ba.type===f.FLOAT_MAT3&&(U=3);ba.type===f.FLOAT_MAT4&&(U=4);O[ca]={type:ba.type,location:f.getAttribLocation(A,ca),locationSize:U}}J=O}return J};this.destroy=function(){d.releaseStatesOfProgram(this);f.deleteProgram(A);this.program=void 0};this.type=c.shaderType;this.name=c.shaderName;this.id=ai++;this.cacheKey=b;this.usedTimes=1;this.program=A;this.vertexShader=
l;this.fragmentShader=m;return this}function nm(a,b,c,d,f,h,l){function m(v){return 0===v?"uv":`uv${v}`}const n=new Zi,p=new Xl,r=[],t=f.isWebGL2,w=f.logarithmicDepthBuffer,B=f.vertexTextures;let z=f.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",
LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(v,G,J,O,K){const P=O.fog,ba=K.geometry;O=v.isMeshStandardMaterial?O.environment:null;const ca=(O=(v.isMeshStandardMaterial?c:b).get(v.envMap||O))&&306===O.mapping?O.image.height:null,U=A[v.type];null!==v.precision&&(z=f.getMaxPrecision(v.precision),z!==v.precision&&console.warn("THREE.WebGLProgram.getParameters:",v.precision,"not supported, using",
z,"instead."));var pa=ba.morphAttributes.position||ba.morphAttributes.normal||ba.morphAttributes.color;pa=void 0!==pa?pa.length:0;let X=0;void 0!==ba.morphAttributes.position&&(X=1);void 0!==ba.morphAttributes.normal&&(X=2);void 0!==ba.morphAttributes.color&&(X=3);let za;let ta,xa;if(U){var ya=Zc[U];za=ya.vertexShader;ya=ya.fragmentShader}else za=v.vertexShader,ya=v.fragmentShader,p.update(v),ta=p.getVertexShaderID(v),xa=p.getFragmentShaderID(v);const Ca=a.getRenderTarget(),Wa=!0===K.isInstancedMesh,
T=!!v.map,Ba=!!v.matcap,Na=!!O,Xa=!!v.aoMap,wa=!!v.lightMap,Ja=!!v.bumpMap,eb=!!v.normalMap,pb=!!v.displacementMap,C=!!v.emissiveMap,E=!!v.metalnessMap,L=!!v.roughnessMap,Q=0<v.anisotropy,S=0<v.clearcoat,M=0<v.iridescence,oa=0<v.sheen,Z=0<v.transmission,ja=Q&&!!v.anisotropyMap,ka=S&&!!v.clearcoatMap,Fa=S&&!!v.clearcoatNormalMap,Ka=S&&!!v.clearcoatRoughnessMap,Ra=M&&!!v.iridescenceMap,zb=M&&!!v.iridescenceThicknessMap,Ta=oa&&!!v.sheenColorMap,sb=oa&&!!v.sheenRoughnessMap,kd=!!v.specularMap,Tg=!!v.specularColorMap,
Ce=!!v.specularIntensityMap,xj=Z&&!!v.transmissionMap,ma=Z&&!!v.thicknessMap,nc=!!v.gradientMap,Kb=!!v.alphaMap,Fb=0<v.alphaTest,Kd=!!v.alphaHash,Lb=!!v.extensions,ac=!!ba.attributes.uv1,Ug=!!ba.attributes.uv2,Vg=!!ba.attributes.uv3;let Wg=0;!v.toneMapped||null!==Ca&&!0!==Ca.isXRRenderTarget||(Wg=a.toneMapping);return{isWebGL2:t,shaderID:U,shaderType:v.type,shaderName:v.name,vertexShader:za,fragmentShader:ya,defines:v.defines,customVertexShaderID:ta,customFragmentShaderID:xa,isRawShaderMaterial:!0===
v.isRawShaderMaterial,glslVersion:v.glslVersion,precision:z,instancing:Wa,instancingColor:Wa&&null!==K.instanceColor,supportsVertexTextures:B,outputColorSpace:null===Ca?a.outputColorSpace:!0===Ca.isXRRenderTarget?Ca.texture.colorSpace:"srgb-linear",map:T,matcap:Ba,envMap:Na,envMapMode:Na&&O.mapping,envMapCubeUVHeight:ca,aoMap:Xa,lightMap:wa,bumpMap:Ja,normalMap:eb,displacementMap:B&&pb,emissiveMap:C,normalMapObjectSpace:eb&&1===v.normalMapType,normalMapTangentSpace:eb&&0===v.normalMapType,metalnessMap:E,
roughnessMap:L,anisotropy:Q,anisotropyMap:ja,clearcoat:S,clearcoatMap:ka,clearcoatNormalMap:Fa,clearcoatRoughnessMap:Ka,iridescence:M,iridescenceMap:Ra,iridescenceThicknessMap:zb,sheen:oa,sheenColorMap:Ta,sheenRoughnessMap:sb,specularMap:kd,specularColorMap:Tg,specularIntensityMap:Ce,transmission:Z,transmissionMap:xj,thicknessMap:ma,gradientMap:nc,opaque:!1===v.transparent&&1===v.blending,alphaMap:Kb,alphaTest:Fb,alphaHash:Kd,combine:v.combine,mapUv:T&&m(v.map.channel),aoMapUv:Xa&&m(v.aoMap.channel),
lightMapUv:wa&&m(v.lightMap.channel),bumpMapUv:Ja&&m(v.bumpMap.channel),normalMapUv:eb&&m(v.normalMap.channel),displacementMapUv:pb&&m(v.displacementMap.channel),emissiveMapUv:C&&m(v.emissiveMap.channel),metalnessMapUv:E&&m(v.metalnessMap.channel),roughnessMapUv:L&&m(v.roughnessMap.channel),anisotropyMapUv:ja&&m(v.anisotropyMap.channel),clearcoatMapUv:ka&&m(v.clearcoatMap.channel),clearcoatNormalMapUv:Fa&&m(v.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ka&&m(v.clearcoatRoughnessMap.channel),
iridescenceMapUv:Ra&&m(v.iridescenceMap.channel),iridescenceThicknessMapUv:zb&&m(v.iridescenceThicknessMap.channel),sheenColorMapUv:Ta&&m(v.sheenColorMap.channel),sheenRoughnessMapUv:sb&&m(v.sheenRoughnessMap.channel),specularMapUv:kd&&m(v.specularMap.channel),specularColorMapUv:Tg&&m(v.specularColorMap.channel),specularIntensityMapUv:Ce&&m(v.specularIntensityMap.channel),transmissionMapUv:xj&&m(v.transmissionMap.channel),thicknessMapUv:ma&&m(v.thicknessMap.channel),alphaMapUv:Kb&&m(v.alphaMap.channel),
vertexTangents:!!ba.attributes.tangent&&(eb||Q),vertexColors:v.vertexColors,vertexAlphas:!0===v.vertexColors&&!!ba.attributes.color&&4===ba.attributes.color.itemSize,vertexUv1s:ac,vertexUv2s:Ug,vertexUv3s:Vg,pointsUvs:!0===K.isPoints&&!!ba.attributes.uv&&(T||Kb),fog:!!P,useFog:!0===v.fog,fogExp2:P&&P.isFogExp2,flatShading:!0===v.flatShading,sizeAttenuation:!0===v.sizeAttenuation,logarithmicDepthBuffer:w,skinning:!0===K.isSkinnedMesh,morphTargets:void 0!==ba.morphAttributes.position,morphNormals:void 0!==
ba.morphAttributes.normal,morphColors:void 0!==ba.morphAttributes.color,morphTargetsCount:pa,morphTextureStride:X,numDirLights:G.directional.length,numPointLights:G.point.length,numSpotLights:G.spot.length,numSpotLightMaps:G.spotLightMap.length,numRectAreaLights:G.rectArea.length,numHemiLights:G.hemi.length,numDirLightShadows:G.directionalShadowMap.length,numPointLightShadows:G.pointShadowMap.length,numSpotLightShadows:G.spotShadowMap.length,numSpotLightShadowsWithMaps:G.numSpotLightShadowsWithMaps,
numLightProbes:G.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:v.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<J.length,shadowMapType:a.shadowMap.type,toneMapping:Wg,useLegacyLights:a._useLegacyLights,decodeVideoTexture:T&&!0===v.map.isVideoTexture&&"srgb"===Db.getTransfer(v.map.colorSpace),premultipliedAlpha:v.premultipliedAlpha,doubleSided:2===v.side,flipSided:1===v.side,useDepthPacking:0<=v.depthPacking,depthPacking:v.depthPacking||0,index0AttributeName:v.index0AttributeName,
extensionDerivatives:Lb&&!0===v.extensions.derivatives,extensionFragDepth:Lb&&!0===v.extensions.fragDepth,extensionDrawBuffers:Lb&&!0===v.extensions.drawBuffers,extensionShaderTextureLOD:Lb&&!0===v.extensions.shaderTextureLOD,rendererExtensionFragDepth:t||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:t||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:t||d.has("EXT_shader_texture_lod"),customProgramCacheKey:v.customProgramCacheKey()}},getProgramCacheKey:function(v){const G=[];
v.shaderID?G.push(v.shaderID):(G.push(v.customVertexShaderID),G.push(v.customFragmentShaderID));if(void 0!==v.defines)for(const J in v.defines)G.push(J),G.push(v.defines[J]);!1===v.isRawShaderMaterial&&(G.push(v.precision),G.push(v.outputColorSpace),G.push(v.envMapMode),G.push(v.envMapCubeUVHeight),G.push(v.mapUv),G.push(v.alphaMapUv),G.push(v.lightMapUv),G.push(v.aoMapUv),G.push(v.bumpMapUv),G.push(v.normalMapUv),G.push(v.displacementMapUv),G.push(v.emissiveMapUv),G.push(v.metalnessMapUv),G.push(v.roughnessMapUv),
G.push(v.anisotropyMapUv),G.push(v.clearcoatMapUv),G.push(v.clearcoatNormalMapUv),G.push(v.clearcoatRoughnessMapUv),G.push(v.iridescenceMapUv),G.push(v.iridescenceThicknessMapUv),G.push(v.sheenColorMapUv),G.push(v.sheenRoughnessMapUv),G.push(v.specularMapUv),G.push(v.specularColorMapUv),G.push(v.specularIntensityMapUv),G.push(v.transmissionMapUv),G.push(v.thicknessMapUv),G.push(v.combine),G.push(v.fogExp2),G.push(v.sizeAttenuation),G.push(v.morphTargetsCount),G.push(v.morphAttributeCount),G.push(v.numDirLights),
G.push(v.numPointLights),G.push(v.numSpotLights),G.push(v.numSpotLightMaps),G.push(v.numHemiLights),G.push(v.numRectAreaLights),G.push(v.numDirLightShadows),G.push(v.numPointLightShadows),G.push(v.numSpotLightShadows),G.push(v.numSpotLightShadowsWithMaps),G.push(v.numLightProbes),G.push(v.shadowMapType),G.push(v.toneMapping),G.push(v.numClippingPlanes),G.push(v.numClipIntersection),G.push(v.depthPacking),n.disableAll(),v.isWebGL2&&n.enable(0),v.supportsVertexTextures&&n.enable(1),v.instancing&&n.enable(2),
v.instancingColor&&n.enable(3),v.matcap&&n.enable(4),v.envMap&&n.enable(5),v.normalMapObjectSpace&&n.enable(6),v.normalMapTangentSpace&&n.enable(7),v.clearcoat&&n.enable(8),v.iridescence&&n.enable(9),v.alphaTest&&n.enable(10),v.vertexColors&&n.enable(11),v.vertexAlphas&&n.enable(12),v.vertexUv1s&&n.enable(13),v.vertexUv2s&&n.enable(14),v.vertexUv3s&&n.enable(15),v.vertexTangents&&n.enable(16),v.anisotropy&&n.enable(17),G.push(n.mask),n.disableAll(),v.fog&&n.enable(0),v.useFog&&n.enable(1),v.flatShading&&
n.enable(2),v.logarithmicDepthBuffer&&n.enable(3),v.skinning&&n.enable(4),v.morphTargets&&n.enable(5),v.morphNormals&&n.enable(6),v.morphColors&&n.enable(7),v.premultipliedAlpha&&n.enable(8),v.shadowMapEnabled&&n.enable(9),v.useLegacyLights&&n.enable(10),v.doubleSided&&n.enable(11),v.flipSided&&n.enable(12),v.useDepthPacking&&n.enable(13),v.dithering&&n.enable(14),v.transmission&&n.enable(15),v.sheen&&n.enable(16),v.opaque&&n.enable(17),v.pointsUvs&&n.enable(18),v.decodeVideoTexture&&n.enable(19),
G.push(n.mask),G.push(a.outputColorSpace));G.push(v.customProgramCacheKey);return G.join()},getUniforms:function(v){const G=A[v.type];return G?he.clone(Zc[G].uniforms):v.uniforms},acquireProgram:function(v,G){let J;for(let O=0,K=r.length;O<K;O++){const P=r[O];if(P.cacheKey===G){J=P;++J.usedTimes;break}}void 0===J&&(J=new mm(a,G,v,h),r.push(J));return J},releaseProgram:function(v){if(0===--v.usedTimes){const G=r.indexOf(v);r[G]=r[r.length-1];r.pop();v.destroy()}},releaseShaderCache:function(v){p.remove(v)},
programs:r,dispose:function(){p.dispose()}}}function lh(){let a=new WeakMap;return{get:function(b){let c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function(b){a.delete(b)},update:function(b,c,d){a.get(b)[c]=d},dispose:function(){a=new WeakMap}}}function il(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function Rj(a,b){return a.groupOrder!==
b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function Sj(){function a(l,m,n,p,r,t){let w=b[c];void 0===w?(w={id:l.id,object:l,geometry:m,material:n,groupOrder:p,renderOrder:l.renderOrder,z:r,group:t},b[c]=w):(w.id=l.id,w.object=l,w.geometry=m,w.material=n,w.groupOrder=p,w.renderOrder=l.renderOrder,w.z=r,w.group=t);c++;return w}const b=[];let c=0;const d=[],f=[],h=[];return{opaque:d,transmissive:f,transparent:h,init:function(){c=
0;d.length=0;f.length=0;h.length=0},push:function(l,m,n,p,r,t){l=a(l,m,n,p,r,t);0<n.transmission?f.push(l):!0===n.transparent?h.push(l):d.push(l)},unshift:function(l,m,n,p,r,t){l=a(l,m,n,p,r,t);0<n.transmission?f.unshift(l):!0===n.transparent?h.unshift(l):d.unshift(l)},finish:function(){for(let l=c,m=b.length;l<m;l++){const n=b[l];if(null===n.id)break;n.id=null;n.object=null;n.geometry=null;n.material=null;n.group=null}},sort:function(l,m){1<d.length&&d.sort(l||il);1<f.length&&f.sort(m||Rj);1<h.length&&
h.sort(m||Rj)}}}function jl(){let a=new WeakMap;return{get:function(b,c){const d=a.get(b);void 0===d?(c=new Sj,a.set(b,[c])):c>=d.length?(c=new Sj,d.push(c)):c=d[c];return c},dispose:function(){a=new WeakMap}}}function Tj(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={direction:new I,color:new Ma};break;case "SpotLight":c={position:new I,direction:new I,color:new Ma,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case "PointLight":c=
{position:new I,color:new Ma,distance:0,decay:0};break;case "HemisphereLight":c={direction:new I,skyColor:new Ma,groundColor:new Ma};break;case "RectAreaLight":c={color:new Ma,position:new I,halfWidth:new I,halfHeight:new I}}return a[b.id]=c}}}function kl(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new va};break;case "SpotLight":c={shadowBias:0,shadowNormalBias:0,
shadowRadius:1,shadowMapSize:new va};break;case "PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new va,shadowCameraNear:1,shadowCameraFar:1E3}}return a[b.id]=c}}}function ll(a,b){return(b.castShadow?2:0)-(a.castShadow?2:0)+(b.map?1:0)-(a.map?1:0)}function el(a,b){const c=new Tj,d=kl(),f={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},
ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let n=0;9>n;n++)f.probe.push(new I);const h=new I,l=new kb,m=new kb;return{setup:function(n,p){let r=0,t=0,w=0;for(var B=0;9>B;B++)f.probe[B].set(0,
0,0);let z=B=0,A=0,v=0,G=0,J=0,O=0,K=0,P=0,ba=0,ca=0;n.sort(ll);p=!0===p?Math.PI:1;for(let xa=0,ya=n.length;xa<ya;xa++){var U=n[xa],pa=U.color,X=U.intensity,za=U.distance,ta=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)r+=pa.r*X*p,t+=pa.g*X*p,w+=pa.b*X*p;else if(U.isLightProbe){for(ta=0;9>ta;ta++)f.probe[ta].addScaledVector(U.sh.coefficients[ta],X);ca++}else if(U.isDirectionalLight)X=c.get(U),X.color.copy(U.color).multiplyScalar(U.intensity*p),U.castShadow&&(pa=U.shadow,za=
d.get(U),za.shadowBias=pa.bias,za.shadowNormalBias=pa.normalBias,za.shadowRadius=pa.radius,za.shadowMapSize=pa.mapSize,f.directionalShadow[B]=za,f.directionalShadowMap[B]=ta,f.directionalShadowMatrix[B]=U.shadow.matrix,J++),f.directional[B]=X,B++;else if(U.isSpotLight){const Ca=c.get(U);Ca.position.setFromMatrixPosition(U.matrixWorld);Ca.color.copy(pa).multiplyScalar(X*p);Ca.distance=za;Ca.coneCos=Math.cos(U.angle);Ca.penumbraCos=Math.cos(U.angle*(1-U.penumbra));Ca.decay=U.decay;f.spot[A]=Ca;X=U.shadow;
U.map&&(f.spotLightMap[P]=U.map,P++,X.updateMatrices(U),U.castShadow&&ba++);f.spotLightMatrix[A]=X.matrix;U.castShadow&&(U=d.get(U),U.shadowBias=X.bias,U.shadowNormalBias=X.normalBias,U.shadowRadius=X.radius,U.shadowMapSize=X.mapSize,f.spotShadow[A]=U,f.spotShadowMap[A]=ta,K++);A++}else U.isRectAreaLight?(ta=c.get(U),ta.color.copy(pa).multiplyScalar(X),ta.halfWidth.set(.5*U.width,0,0),ta.halfHeight.set(0,.5*U.height,0),f.rectArea[v]=ta,v++):U.isPointLight?(X=c.get(U),X.color.copy(U.color).multiplyScalar(U.intensity*
p),X.distance=U.distance,X.decay=U.decay,U.castShadow&&(pa=U.shadow,za=d.get(U),za.shadowBias=pa.bias,za.shadowNormalBias=pa.normalBias,za.shadowRadius=pa.radius,za.shadowMapSize=pa.mapSize,za.shadowCameraNear=pa.camera.near,za.shadowCameraFar=pa.camera.far,f.pointShadow[z]=za,f.pointShadowMap[z]=ta,f.pointShadowMatrix[z]=U.shadow.matrix,O++),f.point[z]=X,z++):U.isHemisphereLight&&(ta=c.get(U),ta.skyColor.copy(U.color).multiplyScalar(X*p),ta.groundColor.copy(U.groundColor).multiplyScalar(X*p),f.hemi[G]=
ta,G++)}0<v&&(b.isWebGL2?(f.rectAreaLTC1=Da.LTC_FLOAT_1,f.rectAreaLTC2=Da.LTC_FLOAT_2):!0===a.has("OES_texture_float_linear")?(f.rectAreaLTC1=Da.LTC_FLOAT_1,f.rectAreaLTC2=Da.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(f.rectAreaLTC1=Da.LTC_HALF_1,f.rectAreaLTC2=Da.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions."));f.ambient[0]=r;f.ambient[1]=t;f.ambient[2]=w;n=f.hash;if(n.directionalLength!==B||n.pointLength!==z||n.spotLength!==
A||n.rectAreaLength!==v||n.hemiLength!==G||n.numDirectionalShadows!==J||n.numPointShadows!==O||n.numSpotShadows!==K||n.numSpotMaps!==P||n.numLightProbes!==ca)f.directional.length=B,f.spot.length=A,f.rectArea.length=v,f.point.length=z,f.hemi.length=G,f.directionalShadow.length=J,f.directionalShadowMap.length=J,f.pointShadow.length=O,f.pointShadowMap.length=O,f.spotShadow.length=K,f.spotShadowMap.length=K,f.directionalShadowMatrix.length=J,f.pointShadowMatrix.length=O,f.spotLightMatrix.length=K+P-ba,
f.spotLightMap.length=P,f.numSpotLightShadowsWithMaps=ba,f.numLightProbes=ca,n.directionalLength=B,n.pointLength=z,n.spotLength=A,n.rectAreaLength=v,n.hemiLength=G,n.numDirectionalShadows=J,n.numPointShadows=O,n.numSpotShadows=K,n.numSpotMaps=P,n.numLightProbes=ca,f.version=Sd++},setupView:function(n,p){let r=0,t=0,w=0,B=0,z=0;p=p.matrixWorldInverse;for(let v=0,G=n.length;v<G;v++){const J=n[v];if(J.isDirectionalLight){var A=f.directional[r];A.direction.setFromMatrixPosition(J.matrixWorld);h.setFromMatrixPosition(J.target.matrixWorld);
A.direction.sub(h);A.direction.transformDirection(p);r++}else J.isSpotLight?(A=f.spot[w],A.position.setFromMatrixPosition(J.matrixWorld),A.position.applyMatrix4(p),A.direction.setFromMatrixPosition(J.matrixWorld),h.setFromMatrixPosition(J.target.matrixWorld),A.direction.sub(h),A.direction.transformDirection(p),w++):J.isRectAreaLight?(A=f.rectArea[B],A.position.setFromMatrixPosition(J.matrixWorld),A.position.applyMatrix4(p),m.identity(),l.copy(J.matrixWorld),l.premultiply(p),m.extractRotation(l),A.halfWidth.set(.5*
J.width,0,0),A.halfHeight.set(0,.5*J.height,0),A.halfWidth.applyMatrix4(m),A.halfHeight.applyMatrix4(m),B++):J.isPointLight?(A=f.point[t],A.position.setFromMatrixPosition(J.matrixWorld),A.position.applyMatrix4(p),t++):J.isHemisphereLight&&(A=f.hemi[z],A.direction.setFromMatrixPosition(J.matrixWorld),A.direction.transformDirection(p),z++)}},state:f}}function Ob(a,b){const c=new el(a,b),d=[],f=[];return{init:function(){d.length=0;f.length=0},state:{lightsArray:d,shadowsArray:f,lights:c},setupLights:function(h){c.setup(d,
h)},setupLightsView:function(h){c.setupView(d,h)},pushLight:function(h){d.push(h)},pushShadow:function(h){f.push(h)}}}function nl(a,b){let c=new WeakMap;return{get:function(d,f=0){const h=c.get(d);void 0===h?(f=new Ob(a,b),c.set(d,[f])):f>=h.length?(f=new Ob(a,b),h.push(f)):f=h[f];return f},dispose:function(){c=new WeakMap}}}function ol(a,b,c){function d(O,K,P,ba){O=!0===P.isPointLight?O.customDistanceMaterial:O.customDepthMaterial;if(void 0===O&&(O=!0===P.isPointLight?r:p,a.localClippingEnabled&&
!0===K.clipShadows&&Array.isArray(K.clippingPlanes)&&0!==K.clippingPlanes.length||K.displacementMap&&0!==K.displacementScale||K.alphaMap&&0<K.alphaTest||K.map&&0<K.alphaTest)){var ca=O.uuid;const U=K.uuid;let pa=t[ca];void 0===pa&&(pa={},t[ca]=pa);ca=pa[U];void 0===ca&&(ca=O.clone(),pa[U]=ca);O=ca}O.visible=K.visible;O.wireframe=K.wireframe;O.side=3===ba?null!==K.shadowSide?K.shadowSide:K.side:null!==K.shadowSide?K.shadowSide:B[K.side];O.alphaMap=K.alphaMap;O.alphaTest=K.alphaTest;O.map=K.map;O.clipShadows=
K.clipShadows;O.clippingPlanes=K.clippingPlanes;O.clipIntersection=K.clipIntersection;O.displacementMap=K.displacementMap;O.displacementScale=K.displacementScale;O.displacementBias=K.displacementBias;O.wireframeLinewidth=K.wireframeLinewidth;O.linewidth=K.linewidth;!0===P.isPointLight&&!0===O.isMeshDistanceMaterial&&(a.properties.get(O).light=P);return O}function f(O,K,P,ba,ca){if(!1!==O.visible){if(O.layers.test(K.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&3===ca)&&
(!O.frustumCulled||h.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,O.matrixWorld);const X=b.update(O);var U=O.material;if(Array.isArray(U)){const za=X.groups;for(let ta=0,xa=za.length;ta<xa;ta++){const ya=za[ta];var pa=U[ya.materialIndex];pa&&pa.visible&&(pa=d(O,pa,ba,ca),a.renderBufferDirect(P,null,X,pa,O,ya))}}else U.visible&&(U=d(O,U,ba,ca),a.renderBufferDirect(P,null,X,U,O,null))}O=O.children;for(let X=0,za=O.length;X<za;X++)f(O[X],K,P,ba,ca)}}let h=new Yf;const l=
new va,m=new va,n=new Ab,p=new Pd({depthPacking:3201}),r=new Qd,t={},w=c.maxTextureSize,B={[0]:1,[1]:0,[2]:2},z=new Od({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new va},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position \x3d vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include \x3cpacking\x3e\nvoid main() {\n\tconst float samples \x3d float( VSM_SAMPLES );\n\tfloat mean \x3d 0.0;\n\tfloat squared_mean \x3d 0.0;\n\tfloat uvStride \x3d samples \x3c\x3d 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart \x3d samples \x3c\x3d 1.0 ? 0.0 : - 1.0;\n\tfor ( float i \x3d 0.0; i \x3c samples; i ++ ) {\n\t\tfloat uvOffset \x3d uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution \x3d unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean +\x3d distribution.x;\n\t\t\tsquared_mean +\x3d distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth \x3d unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean +\x3d depth;\n\t\t\tsquared_mean +\x3d depth * depth;\n\t\t#endif\n\t}\n\tmean \x3d mean / samples;\n\tsquared_mean \x3d squared_mean / samples;\n\tfloat std_dev \x3d sqrt( squared_mean - mean * mean );\n\tgl_FragColor \x3d pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),
A=z.clone();A.defines.HORIZONTAL_PASS=1;c=new ob;c.setAttribute("position",new xb(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new wc(c,z),G=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;let J=this.type=1;this.render=function(O,K,P){if(!1!==G.enabled&&(!1!==G.autoUpdate||!1!==G.needsUpdate)&&0!==O.length){var ba=a.getRenderTarget(),ca=a.getActiveCubeFace(),U=a.getActiveMipmapLevel(),pa=a.state;pa.setBlending(0);pa.buffers.color.setClear(1,1,1,1);pa.buffers.depth.setTest(!0);
pa.setScissorTest(!1);var X=3!==J&&3===this.type,za=3===J&&3!==this.type;for(let Ca=0,Wa=O.length;Ca<Wa;Ca++){var ta=O[Ca];const T=ta.shadow;if(void 0===T)console.warn("THREE.WebGLShadowMap:",ta,"has no shadow.");else if(!1!==T.autoUpdate||!1!==T.needsUpdate){l.copy(T.mapSize);var xa=T.getFrameExtents();l.multiply(xa);m.copy(T.mapSize);if(l.x>w||l.y>w)l.x>w&&(m.x=Math.floor(w/xa.x),l.x=m.x*xa.x,T.mapSize.x=m.x),l.y>w&&(m.y=Math.floor(w/xa.y),l.y=m.y*xa.y,T.mapSize.y=m.y);if(null===T.map||!0===X||
!0===za)xa=3!==this.type?{minFilter:1003,magFilter:1003}:{},null!==T.map&&T.map.dispose(),T.map=new Sb(l.x,l.y,xa),T.map.texture.name=ta.name+".shadowMap",T.camera.updateProjectionMatrix();a.setRenderTarget(T.map);a.clear();xa=T.getViewportCount();for(var ya=0;ya<xa;ya++){const Ba=T.getViewport(ya);n.set(m.x*Ba.x,m.y*Ba.y,m.x*Ba.z,m.y*Ba.w);pa.viewport(n);T.updateMatrices(ta,ya);h=T.getFrustum();f(K,P,T.camera,ta,this.type)}!0!==T.isPointLightShadow&&3===this.type&&(ta=T,xa=P,ya=b.update(v),z.defines.VSM_SAMPLES!==
ta.blurSamples&&(z.defines.VSM_SAMPLES=ta.blurSamples,A.defines.VSM_SAMPLES=ta.blurSamples,z.needsUpdate=!0,A.needsUpdate=!0),null===ta.mapPass&&(ta.mapPass=new Sb(l.x,l.y)),z.uniforms.shadow_pass.value=ta.map.texture,z.uniforms.resolution.value=ta.mapSize,z.uniforms.radius.value=ta.radius,a.setRenderTarget(ta.mapPass),a.clear(),a.renderBufferDirect(xa,null,ya,z,v,null),A.uniforms.shadow_pass.value=ta.mapPass.texture,A.uniforms.resolution.value=ta.mapSize,A.uniforms.radius.value=ta.radius,a.setRenderTarget(ta.map),
a.clear(),a.renderBufferDirect(xa,null,ya,A,v,null));T.needsUpdate=!1}}J=this.type;G.needsUpdate=!1;a.setRenderTarget(ba,ca,U)}}}function ml(a,b,c){function d(M,oa,Z,ja){const ka=new Uint8Array(4),Fa=a.createTexture();a.bindTexture(M,Fa);a.texParameteri(M,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(M,a.TEXTURE_MAG_FILTER,a.NEAREST);for(let Ka=0;Ka<Z;Ka++)!r||M!==a.TEXTURE_3D&&M!==a.TEXTURE_2D_ARRAY?a.texImage2D(oa+Ka,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,ka):a.texImage3D(oa,0,a.RGBA,1,1,ja,0,
a.RGBA,a.UNSIGNED_BYTE,ka);return Fa}function f(M){!0!==v[M]&&(a.enable(M),v[M]=!0)}function h(M){!1!==v[M]&&(a.disable(M),v[M]=!1)}function l(M,oa,Z,ja,ka,Fa,Ka,Ra){if(0===M)!0===P&&(h(a.BLEND),P=!1);else if(!1===P&&(f(a.BLEND),P=!0),5!==M){if(M!==ba||Ra!==xa){if(100!==ca||100!==X)a.blendEquation(a.FUNC_ADD),X=ca=100;if(Ra)switch(M){case 1:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.ONE,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,
a.ZERO,a.ONE);break;case 4:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",M)}else switch(M){case 1:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",M)}ta=za=
pa=U=null;ba=M;xa=Ra}}else{ka=ka||oa;Fa=Fa||Z;Ka=Ka||ja;if(oa!==ca||ka!==X)a.blendEquationSeparate(Q[oa],Q[ka]),ca=oa,X=ka;if(Z!==U||ja!==pa||Fa!==za||Ka!==ta)a.blendFuncSeparate(S[Z],S[ja],S[Fa],S[Ka]),U=Z,pa=ja,za=Fa,ta=Ka;ba=M;xa=!1}}function m(M){ya!==M&&(M?a.frontFace(a.CW):a.frontFace(a.CCW),ya=M)}function n(M){0!==M?(f(a.CULL_FACE),M!==Ca&&(1===M?a.cullFace(a.BACK):2===M?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):h(a.CULL_FACE);Ca=M}function p(M,oa,Z){if(M){if(f(a.POLYGON_OFFSET_FILL),
T!==oa||Ba!==Z)a.polygonOffset(oa,Z),T=oa,Ba=Z}else h(a.POLYGON_OFFSET_FILL)}const r=c.isWebGL2,t=new function(){let M=!1;const oa=new Ab;let Z=null;const ja=new Ab(0,0,0,0);return{setMask:function(ka){Z===ka||M||(a.colorMask(ka,ka,ka,ka),Z=ka)},setLocked:function(ka){M=ka},setClear:function(ka,Fa,Ka,Ra,zb){!0===zb&&(ka*=Ra,Fa*=Ra,Ka*=Ra);oa.set(ka,Fa,Ka,Ra);!1===ja.equals(oa)&&(a.clearColor(ka,Fa,Ka,Ra),ja.copy(oa))},reset:function(){M=!1;Z=null;ja.set(-1,0,0,0)}}},w=new function(){let M=!1,oa=null,
Z=null,ja=null;return{setTest:function(ka){ka?f(a.DEPTH_TEST):h(a.DEPTH_TEST)},setMask:function(ka){oa===ka||M||(a.depthMask(ka),oa=ka)},setFunc:function(ka){if(Z!==ka){switch(ka){case 0:a.depthFunc(a.NEVER);break;case 1:a.depthFunc(a.ALWAYS);break;case 2:a.depthFunc(a.LESS);break;case 3:a.depthFunc(a.LEQUAL);break;case 4:a.depthFunc(a.EQUAL);break;case 5:a.depthFunc(a.GEQUAL);break;case 6:a.depthFunc(a.GREATER);break;case 7:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}Z=ka}},setLocked:function(ka){M=
ka},setClear:function(ka){ja!==ka&&(a.clearDepth(ka),ja=ka)},reset:function(){M=!1;ja=Z=oa=null}}},B=new function(){let M=!1,oa=null,Z=null,ja=null,ka=null,Fa=null,Ka=null,Ra=null,zb=null;return{setTest:function(Ta){M||(Ta?f(a.STENCIL_TEST):h(a.STENCIL_TEST))},setMask:function(Ta){oa===Ta||M||(a.stencilMask(Ta),oa=Ta)},setFunc:function(Ta,sb,kd){if(Z!==Ta||ja!==sb||ka!==kd)a.stencilFunc(Ta,sb,kd),Z=Ta,ja=sb,ka=kd},setOp:function(Ta,sb,kd){if(Fa!==Ta||Ka!==sb||Ra!==kd)a.stencilOp(Ta,sb,kd),Fa=Ta,Ka=
sb,Ra=kd},setLocked:function(Ta){M=Ta},setClear:function(Ta){zb!==Ta&&(a.clearStencil(Ta),zb=Ta)},reset:function(){M=!1;zb=Ra=Ka=Fa=ka=ja=Z=oa=null}}},z=new WeakMap,A=new WeakMap;let v={},G={},J=new WeakMap,O=[],K=null,P=!1,ba=null,ca=null,U=null,pa=null,X=null,za=null,ta=null,xa=!1,ya=null,Ca=null,Wa=null,T=null,Ba=null;const Na=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Xa=!1;var wa=0;wa=a.getParameter(a.VERSION);-1!==wa.indexOf("WebGL")?(wa=parseFloat(/^WebGL (\d)/.exec(wa)[1]),Xa=
1<=wa):-1!==wa.indexOf("OpenGL ES")&&(wa=parseFloat(/^OpenGL ES (\d)/.exec(wa)[1]),Xa=2<=wa);let Ja=null,eb={};wa=a.getParameter(a.SCISSOR_BOX);const pb=a.getParameter(a.VIEWPORT),C=(new Ab).fromArray(wa),E=(new Ab).fromArray(pb),L={};L[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);L[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);r&&(L[a.TEXTURE_2D_ARRAY]=d(a.TEXTURE_2D_ARRAY,a.TEXTURE_2D_ARRAY,1,1),L[a.TEXTURE_3D]=d(a.TEXTURE_3D,a.TEXTURE_3D,1,1));t.setClear(0,0,0,1);w.setClear(1);
B.setClear(0);f(a.DEPTH_TEST);w.setFunc(3);m(!1);n(1);f(a.CULL_FACE);l(0);const Q={[100]:a.FUNC_ADD,[101]:a.FUNC_SUBTRACT,[102]:a.FUNC_REVERSE_SUBTRACT};r?(Q[103]=a.MIN,Q[104]=a.MAX):(wa=b.get("EXT_blend_minmax"),null!==wa&&(Q[103]=wa.MIN_EXT,Q[104]=wa.MAX_EXT));const S={[200]:a.ZERO,[201]:a.ONE,[202]:a.SRC_COLOR,[204]:a.SRC_ALPHA,[210]:a.SRC_ALPHA_SATURATE,[208]:a.DST_COLOR,[206]:a.DST_ALPHA,[203]:a.ONE_MINUS_SRC_COLOR,[205]:a.ONE_MINUS_SRC_ALPHA,[209]:a.ONE_MINUS_DST_COLOR,[207]:a.ONE_MINUS_DST_ALPHA};
return{buffers:{color:t,depth:w,stencil:B},enable:f,disable:h,bindFramebuffer:function(M,oa){return G[M]!==oa?(a.bindFramebuffer(M,oa),G[M]=oa,r&&(M===a.DRAW_FRAMEBUFFER&&(G[a.FRAMEBUFFER]=oa),M===a.FRAMEBUFFER&&(G[a.DRAW_FRAMEBUFFER]=oa)),!0):!1},drawBuffers:function(M,oa){let Z=O,ja=!1;if(M)if(Z=J.get(oa),void 0===Z&&(Z=[],J.set(oa,Z)),M.isWebGLMultipleRenderTargets){if(M=M.texture,Z.length!==M.length||Z[0]!==a.COLOR_ATTACHMENT0){for(let ka=0,Fa=M.length;ka<Fa;ka++)Z[ka]=a.COLOR_ATTACHMENT0+ka;
Z.length=M.length;ja=!0}}else Z[0]!==a.COLOR_ATTACHMENT0&&(Z[0]=a.COLOR_ATTACHMENT0,ja=!0);else Z[0]!==a.BACK&&(Z[0]=a.BACK,ja=!0);ja&&(c.isWebGL2?a.drawBuffers(Z):b.get("WEBGL_draw_buffers").drawBuffersWEBGL(Z))},useProgram:function(M){return K!==M?(a.useProgram(M),K=M,!0):!1},setBlending:l,setMaterial:function(M,oa){2===M.side?h(a.CULL_FACE):f(a.CULL_FACE);let Z=1===M.side;oa&&(Z=!Z);m(Z);1===M.blending&&!1===M.transparent?l(0):l(M.blending,M.blendEquation,M.blendSrc,M.blendDst,M.blendEquationAlpha,
M.blendSrcAlpha,M.blendDstAlpha,M.premultipliedAlpha);w.setFunc(M.depthFunc);w.setTest(M.depthTest);w.setMask(M.depthWrite);t.setMask(M.colorWrite);oa=M.stencilWrite;B.setTest(oa);oa&&(B.setMask(M.stencilWriteMask),B.setFunc(M.stencilFunc,M.stencilRef,M.stencilFuncMask),B.setOp(M.stencilFail,M.stencilZFail,M.stencilZPass));p(M.polygonOffset,M.polygonOffsetFactor,M.polygonOffsetUnits);!0===M.alphaToCoverage?f(a.SAMPLE_ALPHA_TO_COVERAGE):h(a.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:m,setCullFace:n,setLineWidth:function(M){M!==
Wa&&(Xa&&a.lineWidth(M),Wa=M)},setPolygonOffset:p,setScissorTest:function(M){M?f(a.SCISSOR_TEST):h(a.SCISSOR_TEST)},activeTexture:function(M){void 0===M&&(M=a.TEXTURE0+Na-1);Ja!==M&&(a.activeTexture(M),Ja=M)},bindTexture:function(M,oa,Z){void 0===Z&&(Z=null===Ja?a.TEXTURE0+Na-1:Ja);let ja=eb[Z];void 0===ja&&(ja={type:void 0,texture:void 0},eb[Z]=ja);if(ja.type!==M||ja.texture!==oa)Ja!==Z&&(a.activeTexture(Z),Ja=Z),a.bindTexture(M,oa||L[M]),ja.type=M,ja.texture=oa},unbindTexture:function(){const M=
eb[Ja];void 0!==M&&void 0!==M.type&&(a.bindTexture(M.type,null),M.type=void 0,M.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",M)}},compressedTexImage3D:function(){try{a.compressedTexImage3D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",M)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",M)}},texImage3D:function(){try{a.texImage3D.apply(a,
arguments)}catch(M){console.error("THREE.WebGLState:",M)}},updateUBOMapping:function(M,oa){let Z=A.get(oa);void 0===Z&&(Z=new WeakMap,A.set(oa,Z));let ja=Z.get(M);void 0===ja&&(ja=a.getUniformBlockIndex(oa,M.name),Z.set(M,ja))},uniformBlockBinding:function(M,oa){const Z=A.get(oa).get(M);z.get(oa)!==Z&&(a.uniformBlockBinding(oa,Z,M.__bindingPointIndex),z.set(oa,Z))},texStorage2D:function(){try{a.texStorage2D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",M)}},texStorage3D:function(){try{a.texStorage3D.apply(a,
arguments)}catch(M){console.error("THREE.WebGLState:",M)}},texSubImage2D:function(){try{a.texSubImage2D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",M)}},texSubImage3D:function(){try{a.texSubImage3D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",M)}},compressedTexSubImage2D:function(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",M)}},compressedTexSubImage3D:function(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(M){console.error("THREE.WebGLState:",
M)}},scissor:function(M){!1===C.equals(M)&&(a.scissor(M.x,M.y,M.z,M.w),C.copy(M))},viewport:function(M){!1===E.equals(M)&&(a.viewport(M.x,M.y,M.z,M.w),E.copy(M))},reset:function(){a.disable(a.BLEND);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);a.disable(a.POLYGON_OFFSET_FILL);a.disable(a.SCISSOR_TEST);a.disable(a.STENCIL_TEST);a.disable(a.SAMPLE_ALPHA_TO_COVERAGE);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.ONE,a.ZERO);a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO);a.colorMask(!0,!0,!0,!0);a.clearColor(0,
0,0,0);a.depthMask(!0);a.depthFunc(a.LESS);a.clearDepth(1);a.stencilMask(4294967295);a.stencilFunc(a.ALWAYS,0,4294967295);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.clearStencil(0);a.cullFace(a.BACK);a.frontFace(a.CCW);a.polygonOffset(0,0);a.activeTexture(a.TEXTURE0);a.bindFramebuffer(a.FRAMEBUFFER,null);!0===r&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null));a.useProgram(null);a.lineWidth(1);a.scissor(0,0,a.canvas.width,a.canvas.height);a.viewport(0,0,a.canvas.width,
a.canvas.height);v={};Ja=null;eb={};G={};J=new WeakMap;O=[];K=null;P=!1;ta=za=X=pa=U=ca=ba=null;xa=!1;Ba=T=Wa=Ca=ya=null;C.set(0,0,a.canvas.width,a.canvas.height);E.set(0,0,a.canvas.width,a.canvas.height);t.reset();w.reset();B.reset()}}}function Xk(a,b,c,d,f,h,l){function m(C,E,L,Q){var S=1;if(C.width>Q||C.height>Q)S=Q/Math.max(C.width,C.height);if(1>S||!0===E){if("undefined"!==typeof HTMLImageElement&&C instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&C instanceof HTMLCanvasElement||
"undefined"!==typeof ImageBitmap&&C instanceof ImageBitmap)return Q=E?Mc:Math.floor,E=Q(S*C.width),S=Q(S*C.height),void 0===Ba&&(Ba=Xa?new OffscreenCanvas(E,S):Hc("canvas")),L=L?Xa?new OffscreenCanvas(E,S):Hc("canvas"):Ba,L.width=E,L.height=S,L.getContext("2d").drawImage(C,0,0,E,S),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+C.width+"x"+C.height+") to ("+E+"x"+S+")."),L;"data"in C&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+C.width+"x"+C.height+").")}return C}
function n(C){return Ec(C.width)&&Ec(C.height)}function p(C,E){return C.generateMipmaps&&E&&1003!==C.minFilter&&1006!==C.minFilter}function r(C,E,L,Q,S=!1){if(!1===X)return E;if(null!==C){if(void 0!==a[C])return a[C];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+C+"'")}C=E;E===a.RED&&(L===a.FLOAT&&(C=a.R32F),L===a.HALF_FLOAT&&(C=a.R16F),L===a.UNSIGNED_BYTE&&(C=a.R8));E===a.RED_INTEGER&&(L===a.UNSIGNED_BYTE&&(C=a.R8UI),L===a.UNSIGNED_SHORT&&(C=a.R16UI),L===
a.UNSIGNED_INT&&(C=a.R32UI),L===a.BYTE&&(C=a.R8I),L===a.SHORT&&(C=a.R16I),L===a.INT&&(C=a.R32I));E===a.RG&&(L===a.FLOAT&&(C=a.RG32F),L===a.HALF_FLOAT&&(C=a.RG16F),L===a.UNSIGNED_BYTE&&(C=a.RG8));E===a.RGBA&&(E=S?"linear":Db.getTransfer(Q),L===a.FLOAT&&(C=a.RGBA32F),L===a.HALF_FLOAT&&(C=a.RGBA16F),L===a.UNSIGNED_BYTE&&(C="srgb"===E?a.SRGB8_ALPHA8:a.RGBA8),L===a.UNSIGNED_SHORT_4_4_4_4&&(C=a.RGBA4),L===a.UNSIGNED_SHORT_5_5_5_1&&(C=a.RGB5_A1));C!==a.R16F&&C!==a.R32F&&C!==a.RG16F&&C!==a.RG32F&&C!==a.RGBA16F&&
C!==a.RGBA32F||b.get("EXT_color_buffer_float");return C}function t(C,E,L){return!0===p(C,L)||C.isFramebufferTexture&&1003!==C.minFilter&&1006!==C.minFilter?Math.log2(Math.max(E.width,E.height))+1:void 0!==C.mipmaps&&0<C.mipmaps.length?C.mipmaps.length:C.isCompressedTexture&&Array.isArray(C.image)?E.mipmaps.length:1}function w(C){return 1003===C||1004===C||1005===C?a.NEAREST:a.LINEAR}function B(C){C=C.target;C.removeEventListener("dispose",B);var E=d.get(C);if(void 0!==E.__webglInit){var L=C.source,
Q=Na.get(L);Q&&(E=Q[E.__cacheKey],E.usedTimes--,0===E.usedTimes&&A(C),0===Object.keys(Q).length&&Na.delete(L));d.remove(C)}C.isVideoTexture&&T.delete(C)}function z(C){C=C.target;C.removeEventListener("dispose",z);const E=C.texture;var L=d.get(C),Q=d.get(E);void 0!==Q.__webglTexture&&(a.deleteTexture(Q.__webglTexture),l.memory.textures--);C.depthTexture&&C.depthTexture.dispose();if(C.isWebGLCubeRenderTarget)for(Q=0;6>Q;Q++){if(Array.isArray(L.__webglFramebuffer[Q]))for(let S=0;S<L.__webglFramebuffer[Q].length;S++)a.deleteFramebuffer(L.__webglFramebuffer[Q][S]);
else a.deleteFramebuffer(L.__webglFramebuffer[Q]);L.__webglDepthbuffer&&a.deleteRenderbuffer(L.__webglDepthbuffer[Q])}else{if(Array.isArray(L.__webglFramebuffer))for(Q=0;Q<L.__webglFramebuffer.length;Q++)a.deleteFramebuffer(L.__webglFramebuffer[Q]);else a.deleteFramebuffer(L.__webglFramebuffer);L.__webglDepthbuffer&&a.deleteRenderbuffer(L.__webglDepthbuffer);L.__webglMultisampledFramebuffer&&a.deleteFramebuffer(L.__webglMultisampledFramebuffer);if(L.__webglColorRenderbuffer)for(Q=0;Q<L.__webglColorRenderbuffer.length;Q++)L.__webglColorRenderbuffer[Q]&&
a.deleteRenderbuffer(L.__webglColorRenderbuffer[Q]);L.__webglDepthRenderbuffer&&a.deleteRenderbuffer(L.__webglDepthRenderbuffer)}if(C.isWebGLMultipleRenderTargets)for(let S=0,M=E.length;S<M;S++)L=d.get(E[S]),L.__webglTexture&&(a.deleteTexture(L.__webglTexture),l.memory.textures--),d.remove(E[S]);d.remove(E);d.remove(C)}function A(C){const E=d.get(C);a.deleteTexture(E.__webglTexture);delete Na.get(C.source)[E.__cacheKey];l.memory.textures--}function v(C,E){const L=d.get(C);if(C.isVideoTexture){var Q=
l.render.frame;T.get(C)!==Q&&(T.set(C,Q),C.update())}if(!1===C.isRenderTargetTexture&&0<C.version&&L.__version!==C.version)if(Q=C.image,null===Q)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(!1===Q.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{O(L,C,E);return}c.bindTexture(a.TEXTURE_2D,L.__webglTexture,a.TEXTURE0+E)}function G(C,E,L){L?(a.texParameteri(C,a.TEXTURE_WRAP_S,Ja[E.wrapS]),a.texParameteri(C,
a.TEXTURE_WRAP_T,Ja[E.wrapT]),C!==a.TEXTURE_3D&&C!==a.TEXTURE_2D_ARRAY||a.texParameteri(C,a.TEXTURE_WRAP_R,Ja[E.wrapR]),a.texParameteri(C,a.TEXTURE_MAG_FILTER,eb[E.magFilter]),a.texParameteri(C,a.TEXTURE_MIN_FILTER,eb[E.minFilter])):(a.texParameteri(C,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(C,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),C!==a.TEXTURE_3D&&C!==a.TEXTURE_2D_ARRAY||a.texParameteri(C,a.TEXTURE_WRAP_R,a.CLAMP_TO_EDGE),1001===E.wrapS&&1001===E.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),
a.texParameteri(C,a.TEXTURE_MAG_FILTER,w(E.magFilter)),a.texParameteri(C,a.TEXTURE_MIN_FILTER,w(E.minFilter)),1003!==E.minFilter&&1006!==E.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));E.compareFunction&&(a.texParameteri(C,a.TEXTURE_COMPARE_MODE,a.COMPARE_REF_TO_TEXTURE),a.texParameteri(C,a.TEXTURE_COMPARE_FUNC,pb[E.compareFunction]));!0===b.has("EXT_texture_filter_anisotropic")&&(L=b.get("EXT_texture_filter_anisotropic"),
1003===E.magFilter||1005!==E.minFilter&&1008!==E.minFilter||1015===E.type&&!1===b.has("OES_texture_float_linear")||!1===X&&1016===E.type&&!1===b.has("OES_texture_half_float_linear")||!(1<E.anisotropy||d.get(E).__currentAnisotropy)||(a.texParameterf(C,L.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,f.getMaxAnisotropy())),d.get(E).__currentAnisotropy=E.anisotropy))}function J(C,E){let L=!1;void 0===C.__webglInit&&(C.__webglInit=!0,E.addEventListener("dispose",B));var Q=E.source;let S=Na.get(Q);void 0===
S&&(S={},Na.set(Q,S));Q=[];Q.push(E.wrapS);Q.push(E.wrapT);Q.push(E.wrapR||0);Q.push(E.magFilter);Q.push(E.minFilter);Q.push(E.anisotropy);Q.push(E.internalFormat);Q.push(E.format);Q.push(E.type);Q.push(E.generateMipmaps);Q.push(E.premultiplyAlpha);Q.push(E.flipY);Q.push(E.unpackAlignment);Q.push(E.colorSpace);Q=Q.join();if(Q!==C.__cacheKey){void 0===S[Q]&&(S[Q]={texture:a.createTexture(),usedTimes:0},l.memory.textures++,L=!0);S[Q].usedTimes++;const M=S[C.__cacheKey];void 0!==M&&(S[C.__cacheKey].usedTimes--,
0===M.usedTimes&&A(E));C.__cacheKey=Q;C.__webglTexture=S[Q].texture}return L}function O(C,E,L){let Q=a.TEXTURE_2D;if(E.isDataArrayTexture||E.isCompressedArrayTexture)Q=a.TEXTURE_2D_ARRAY;E.isData3DTexture&&(Q=a.TEXTURE_3D);var S=J(C,E);const M=E.source;c.bindTexture(Q,C.__webglTexture,a.TEXTURE0+L);const oa=d.get(M);if(M.version!==oa.__version||!0===S){c.activeTexture(a.TEXTURE0+L);L=Db.getPrimaries(Db.workingColorSpace);var Z=""===E.colorSpace?null:Db.getPrimaries(E.colorSpace);L=""===E.colorSpace||
L===Z?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,E.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,E.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,L);L=X?!1:1001!==E.wrapS||1001!==E.wrapT||1003!==E.minFilter&&1006!==E.minFilter;L=L&&!1===n(E.image);var ja=m(E.image,L,!1,xa);ja=pa(E,ja);L=n(ja)||X;Z=h.convert(E.format,E.colorSpace);let Ka=h.convert(E.type),Ra=r(E.internalFormat,Z,Ka,E.colorSpace,
E.isVideoTexture);G(Q,E,L);var ka=E.mipmaps,Fa=X&&!0!==E.isVideoTexture;const zb=void 0===oa.__version||!0===S;S=t(E,ja,L);if(E.isDepthTexture)Ra=a.DEPTH_COMPONENT,X?Ra=1015===E.type?a.DEPTH_COMPONENT32F:1014===E.type?a.DEPTH_COMPONENT24:1020===E.type?a.DEPTH24_STENCIL8:a.DEPTH_COMPONENT16:1015===E.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===E.format&&Ra===a.DEPTH_COMPONENT&&1012!==E.type&&1014!==E.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),
E.type=1014,Ka=h.convert(E.type)),1027===E.format&&Ra===a.DEPTH_COMPONENT&&(Ra=a.DEPTH_STENCIL,1020!==E.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),E.type=1020,Ka=h.convert(E.type))),zb&&(Fa?c.texStorage2D(a.TEXTURE_2D,1,Ra,ja.width,ja.height):c.texImage2D(a.TEXTURE_2D,0,Ra,ja.width,ja.height,0,Z,Ka,null));else if(E.isDataTexture)if(0<ka.length&&L){Fa&&zb&&c.texStorage2D(a.TEXTURE_2D,S,Ra,ka[0].width,ka[0].height);for(let Ta=0,sb=ka.length;Ta<
sb;Ta++)S=ka[Ta],Fa?c.texSubImage2D(a.TEXTURE_2D,Ta,0,0,S.width,S.height,Z,Ka,S.data):c.texImage2D(a.TEXTURE_2D,Ta,Ra,S.width,S.height,0,Z,Ka,S.data);E.generateMipmaps=!1}else Fa?(zb&&c.texStorage2D(a.TEXTURE_2D,S,Ra,ja.width,ja.height),c.texSubImage2D(a.TEXTURE_2D,0,0,0,ja.width,ja.height,Z,Ka,ja.data)):c.texImage2D(a.TEXTURE_2D,0,Ra,ja.width,ja.height,0,Z,Ka,ja.data);else if(E.isCompressedTexture)if(E.isCompressedArrayTexture){Fa&&zb&&c.texStorage3D(a.TEXTURE_2D_ARRAY,S,Ra,ka[0].width,ka[0].height,
ja.depth);for(let Ta=0,sb=ka.length;Ta<sb;Ta++)S=ka[Ta],1023!==E.format?null!==Z?Fa?c.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,Ta,0,0,0,S.width,S.height,ja.depth,Z,S.data,0,0):c.compressedTexImage3D(a.TEXTURE_2D_ARRAY,Ta,Ra,S.width,S.height,ja.depth,0,S.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fa?c.texSubImage3D(a.TEXTURE_2D_ARRAY,Ta,0,0,0,S.width,S.height,ja.depth,Z,Ka,S.data):c.texImage3D(a.TEXTURE_2D_ARRAY,Ta,Ra,
S.width,S.height,ja.depth,0,Z,Ka,S.data)}else{Fa&&zb&&c.texStorage2D(a.TEXTURE_2D,S,Ra,ka[0].width,ka[0].height);for(let Ta=0,sb=ka.length;Ta<sb;Ta++)S=ka[Ta],1023!==E.format?null!==Z?Fa?c.compressedTexSubImage2D(a.TEXTURE_2D,Ta,0,0,S.width,S.height,Z,S.data):c.compressedTexImage2D(a.TEXTURE_2D,Ta,Ra,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fa?c.texSubImage2D(a.TEXTURE_2D,Ta,0,0,S.width,S.height,Z,Ka,
S.data):c.texImage2D(a.TEXTURE_2D,Ta,Ra,S.width,S.height,0,Z,Ka,S.data)}else if(E.isDataArrayTexture)Fa?(zb&&c.texStorage3D(a.TEXTURE_2D_ARRAY,S,Ra,ja.width,ja.height,ja.depth),c.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,ja.width,ja.height,ja.depth,Z,Ka,ja.data)):c.texImage3D(a.TEXTURE_2D_ARRAY,0,Ra,ja.width,ja.height,ja.depth,0,Z,Ka,ja.data);else if(E.isData3DTexture)Fa?(zb&&c.texStorage3D(a.TEXTURE_3D,S,Ra,ja.width,ja.height,ja.depth),c.texSubImage3D(a.TEXTURE_3D,0,0,0,0,ja.width,ja.height,ja.depth,
Z,Ka,ja.data)):c.texImage3D(a.TEXTURE_3D,0,Ra,ja.width,ja.height,ja.depth,0,Z,Ka,ja.data);else if(E.isFramebufferTexture){if(zb)if(Fa)c.texStorage2D(a.TEXTURE_2D,S,Ra,ja.width,ja.height);else for(ka=ja.width,ja=ja.height,Fa=0;Fa<S;Fa++)c.texImage2D(a.TEXTURE_2D,Fa,Ra,ka,ja,0,Z,Ka,null),ka>>=1,ja>>=1}else if(0<ka.length&&L){Fa&&zb&&c.texStorage2D(a.TEXTURE_2D,S,Ra,ka[0].width,ka[0].height);for(let Ta=0,sb=ka.length;Ta<sb;Ta++)S=ka[Ta],Fa?c.texSubImage2D(a.TEXTURE_2D,Ta,0,0,Z,Ka,S):c.texImage2D(a.TEXTURE_2D,
Ta,Ra,Z,Ka,S);E.generateMipmaps=!1}else Fa?(zb&&c.texStorage2D(a.TEXTURE_2D,S,Ra,ja.width,ja.height),c.texSubImage2D(a.TEXTURE_2D,0,0,0,Z,Ka,ja)):c.texImage2D(a.TEXTURE_2D,0,Ra,Z,Ka,ja);p(E,L)&&a.generateMipmap(Q);oa.__version=M.version;if(E.onUpdate)E.onUpdate(E)}C.__version=E.version}function K(C,E,L,Q,S,M){const oa=h.convert(L.format,L.colorSpace),Z=h.convert(L.type),ja=r(L.internalFormat,oa,Z,L.colorSpace);if(!d.get(E).__hasExternalTextures){const ka=Math.max(1,E.width>>M),Fa=Math.max(1,E.height>>
M);S===a.TEXTURE_3D||S===a.TEXTURE_2D_ARRAY?c.texImage3D(S,M,ja,ka,Fa,E.depth,0,oa,Z,null):c.texImage2D(S,M,ja,ka,Fa,0,oa,Z,null)}c.bindFramebuffer(a.FRAMEBUFFER,C);U(E)?Ca.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,Q,S,d.get(L).__webglTexture,0,ca(E)):(S===a.TEXTURE_2D||S>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&S<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,Q,S,d.get(L).__webglTexture,M);c.bindFramebuffer(a.FRAMEBUFFER,null)}function P(C,E,L){a.bindRenderbuffer(a.RENDERBUFFER,
C);if(E.depthBuffer&&!E.stencilBuffer){var Q=!0===X?a.DEPTH_COMPONENT24:a.DEPTH_COMPONENT16;L||U(E)?((L=E.depthTexture)&&L.isDepthTexture&&(1015===L.type?Q=a.DEPTH_COMPONENT32F:1014===L.type&&(Q=a.DEPTH_COMPONENT24)),L=ca(E),U(E)?Ca.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,L,Q,E.width,E.height):a.renderbufferStorageMultisample(a.RENDERBUFFER,L,Q,E.width,E.height)):a.renderbufferStorage(a.RENDERBUFFER,Q,E.width,E.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,
C)}else if(E.depthBuffer&&E.stencilBuffer)Q=ca(E),L&&!1===U(E)?a.renderbufferStorageMultisample(a.RENDERBUFFER,Q,a.DEPTH24_STENCIL8,E.width,E.height):U(E)?Ca.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Q,a.DEPTH24_STENCIL8,E.width,E.height):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,E.width,E.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,C);else for(C=!0===E.isWebGLMultipleRenderTargets?E.texture:[E.texture],Q=0;Q<C.length;Q++){var S=C[Q],
M=h.convert(S.format,S.colorSpace);const oa=h.convert(S.type);S=r(S.internalFormat,M,oa,S.colorSpace);M=ca(E);L&&!1===U(E)?a.renderbufferStorageMultisample(a.RENDERBUFFER,M,S,E.width,E.height):U(E)?Ca.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,M,S,E.width,E.height):a.renderbufferStorage(a.RENDERBUFFER,S,E.width,E.height)}a.bindRenderbuffer(a.RENDERBUFFER,null)}function ba(C){var E=d.get(C),L=!0===C.isWebGLCubeRenderTarget;if(C.depthTexture&&!E.__autoAllocateDepthBuffer){if(L)throw Error("target.depthTexture not supported in Cube render targets");
if(C&&C.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");c.bindFramebuffer(a.FRAMEBUFFER,E.__webglFramebuffer);if(!C.depthTexture||!C.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(C.depthTexture).__webglTexture&&C.depthTexture.image.width===C.width&&C.depthTexture.image.height===C.height||(C.depthTexture.image.width=C.width,C.depthTexture.image.height=C.height,C.depthTexture.needsUpdate=
!0);v(C.depthTexture,0);E=d.get(C.depthTexture).__webglTexture;L=ca(C);if(1026===C.depthTexture.format)U(C)?Ca.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,E,0,L):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,E,0);else if(1027===C.depthTexture.format)U(C)?Ca.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,E,0,L):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,E,0);else throw Error("Unknown depthTexture format");
}else if(L)for(E.__webglDepthbuffer=[],L=0;6>L;L++)c.bindFramebuffer(a.FRAMEBUFFER,E.__webglFramebuffer[L]),E.__webglDepthbuffer[L]=a.createRenderbuffer(),P(E.__webglDepthbuffer[L],C,!1);else c.bindFramebuffer(a.FRAMEBUFFER,E.__webglFramebuffer),E.__webglDepthbuffer=a.createRenderbuffer(),P(E.__webglDepthbuffer,C,!1);c.bindFramebuffer(a.FRAMEBUFFER,null)}function ca(C){return Math.min(ya,C.samples)}function U(C){const E=d.get(C);return X&&0<C.samples&&!0===b.has("WEBGL_multisampled_render_to_texture")&&
!1!==E.__useRenderToTexture}function pa(C,E){const L=C.colorSpace,Q=C.format,S=C.type;if(!0===C.isCompressedTexture||!0===C.isVideoTexture||1035===C.format)return E;"srgb-linear"!==L&&""!==L&&("srgb"===Db.getTransfer(L)?!1===X?!0===b.has("EXT_sRGB")&&1023===Q?(C.format=1035,C.minFilter=1006,C.generateMipmaps=!1):E=wg.sRGBToLinear(E):1023===Q&&1009===S||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",
L));return E}const X=f.isWebGL2,za=f.maxTextures,ta=f.maxCubemapSize,xa=f.maxTextureSize,ya=f.maxSamples,Ca=b.has("WEBGL_multisampled_render_to_texture")?b.get("WEBGL_multisampled_render_to_texture"):null,Wa="undefined"===typeof navigator?!1:/OculusBrowser/g.test(navigator.userAgent),T=new WeakMap;let Ba;const Na=new WeakMap;let Xa=!1;try{Xa="undefined"!==typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(C){}let wa=0;const Ja={[1E3]:a.REPEAT,[1001]:a.CLAMP_TO_EDGE,[1002]:a.MIRRORED_REPEAT},
eb={[1003]:a.NEAREST,[1004]:a.NEAREST_MIPMAP_NEAREST,[1005]:a.NEAREST_MIPMAP_LINEAR,[1006]:a.LINEAR,[1007]:a.LINEAR_MIPMAP_NEAREST,[1008]:a.LINEAR_MIPMAP_LINEAR},pb={[512]:a.NEVER,[519]:a.ALWAYS,[513]:a.LESS,[515]:a.LEQUAL,[514]:a.EQUAL,[518]:a.GEQUAL,[516]:a.GREATER,[517]:a.NOTEQUAL};this.allocateTextureUnit=function(){const C=wa;C>=za&&console.warn("THREE.WebGLTextures: Trying to use "+C+" texture units while this GPU supports only "+za);wa+=1;return C};this.resetTextureUnits=function(){wa=0};this.setTexture2D=
v;this.setTexture2DArray=function(C,E){const L=d.get(C);0<C.version&&L.__version!==C.version?O(L,C,E):c.bindTexture(a.TEXTURE_2D_ARRAY,L.__webglTexture,a.TEXTURE0+E)};this.setTexture3D=function(C,E){const L=d.get(C);0<C.version&&L.__version!==C.version?O(L,C,E):c.bindTexture(a.TEXTURE_3D,L.__webglTexture,a.TEXTURE0+E)};this.setTextureCube=function(C,E){const L=d.get(C);if(0<C.version&&L.__version!==C.version){if(6===C.image.length){var Q=J(L,C),S=C.source;c.bindTexture(a.TEXTURE_CUBE_MAP,L.__webglTexture,
a.TEXTURE0+E);var M=d.get(S);if(S.version!==M.__version||!0===Q){c.activeTexture(a.TEXTURE0+E);E=Db.getPrimaries(Db.workingColorSpace);var oa=""===C.colorSpace?null:Db.getPrimaries(C.colorSpace);E=""===C.colorSpace||E===oa?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,C.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,C.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,E);var Z=C.isCompressedTexture||
C.image[0].isCompressedTexture,ja=C.image[0]&&C.image[0].isDataTexture;E=[];for(oa=0;6>oa;oa++)E[oa]=Z||ja?ja?C.image[oa].image:C.image[oa]:m(C.image[oa],!1,!0,ta),E[oa]=pa(C,E[oa]);var ka=E[0];oa=n(ka)||X;const Ka=h.convert(C.format,C.colorSpace),Ra=h.convert(C.type),zb=r(C.internalFormat,Ka,Ra,C.colorSpace),Ta=X&&!0!==C.isVideoTexture;var Fa=void 0===M.__version||!0===Q;let sb=t(C,ka,oa);G(a.TEXTURE_CUBE_MAP,C,oa);if(Z)for(Ta&&Fa&&c.texStorage2D(a.TEXTURE_CUBE_MAP,sb,zb,ka.width,ka.height),ja=0;6>
ja;ja++)for(Q=E[ja].mipmaps,Z=0;Z<Q.length;Z++)ka=Q[Z],1023!==C.format?null!==Ka?Ta?c.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ja,Z,0,0,ka.width,ka.height,Ka,ka.data):c.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ja,Z,zb,ka.width,ka.height,0,ka.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ta?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ja,Z,0,0,ka.width,ka.height,Ka,Ra,ka.data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
ja,Z,zb,ka.width,ka.height,0,Ka,Ra,ka.data);else for(Q=C.mipmaps,Ta&&Fa&&(0<Q.length&&sb++,c.texStorage2D(a.TEXTURE_CUBE_MAP,sb,zb,E[0].width,E[0].height)),Z=0;6>Z;Z++)if(ja)for(Ta?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,E[Z].width,E[Z].height,Ka,Ra,E[Z].data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,zb,E[Z].width,E[Z].height,0,Ka,Ra,E[Z].data),ka=0;ka<Q.length;ka++)Fa=Q[ka].image[Z].image,Ta?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ka+1,0,0,Fa.width,Fa.height,Ka,Ra,Fa.data):
c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ka+1,zb,Fa.width,Fa.height,0,Ka,Ra,Fa.data);else for(Ta?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,Ka,Ra,E[Z]):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,zb,Ka,Ra,E[Z]),ka=0;ka<Q.length;ka++)Fa=Q[ka],Ta?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ka+1,0,0,Ka,Ra,Fa.image[Z]):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ka+1,zb,Ka,Ra,Fa.image[Z]);p(C,oa)&&a.generateMipmap(a.TEXTURE_CUBE_MAP);M.__version=S.version;if(C.onUpdate)C.onUpdate(C)}L.__version=
C.version}}else c.bindTexture(a.TEXTURE_CUBE_MAP,L.__webglTexture,a.TEXTURE0+E)};this.rebindTextures=function(C,E,L){const Q=d.get(C);void 0!==E&&K(Q.__webglFramebuffer,C,C.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,0);void 0!==L&&ba(C)};this.setupRenderTarget=function(C){var E=C.texture;const L=d.get(C);var Q=d.get(E);C.addEventListener("dispose",z);!0!==C.isWebGLMultipleRenderTargets&&(void 0===Q.__webglTexture&&(Q.__webglTexture=a.createTexture()),Q.__version=E.version,l.memory.textures++);var S=
!0===C.isWebGLCubeRenderTarget;const M=!0===C.isWebGLMultipleRenderTargets,oa=n(C)||X;if(S){L.__webglFramebuffer=[];for(var Z=0;6>Z;Z++)if(X&&E.mipmaps&&0<E.mipmaps.length){L.__webglFramebuffer[Z]=[];for(var ja=0;ja<E.mipmaps.length;ja++)L.__webglFramebuffer[Z][ja]=a.createFramebuffer()}else L.__webglFramebuffer[Z]=a.createFramebuffer()}else{if(X&&E.mipmaps&&0<E.mipmaps.length)for(L.__webglFramebuffer=[],Z=0;Z<E.mipmaps.length;Z++)L.__webglFramebuffer[Z]=a.createFramebuffer();else L.__webglFramebuffer=
a.createFramebuffer();if(M)if(f.drawBuffers){Z=C.texture;for(let Ka=0,Ra=Z.length;Ka<Ra;Ka++)ja=d.get(Z[Ka]),void 0===ja.__webglTexture&&(ja.__webglTexture=a.createTexture(),l.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(X&&0<C.samples&&!1===U(C)){Z=M?E:[E];L.__webglMultisampledFramebuffer=a.createFramebuffer();L.__webglColorRenderbuffer=[];c.bindFramebuffer(a.FRAMEBUFFER,L.__webglMultisampledFramebuffer);
for(ja=0;ja<Z.length;ja++){var ka=Z[ja];L.__webglColorRenderbuffer[ja]=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,L.__webglColorRenderbuffer[ja]);var Fa=h.convert(ka.format,ka.colorSpace);const Ka=h.convert(ka.type);ka=r(ka.internalFormat,Fa,Ka,ka.colorSpace,!0===C.isXRRenderTarget);Fa=ca(C);a.renderbufferStorageMultisample(a.RENDERBUFFER,Fa,ka,C.width,C.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+ja,a.RENDERBUFFER,L.__webglColorRenderbuffer[ja])}a.bindRenderbuffer(a.RENDERBUFFER,
null);C.depthBuffer&&(L.__webglDepthRenderbuffer=a.createRenderbuffer(),P(L.__webglDepthRenderbuffer,C,!0));c.bindFramebuffer(a.FRAMEBUFFER,null)}}if(S){c.bindTexture(a.TEXTURE_CUBE_MAP,Q.__webglTexture);G(a.TEXTURE_CUBE_MAP,E,oa);for(Q=0;6>Q;Q++)if(X&&E.mipmaps&&0<E.mipmaps.length)for(S=0;S<E.mipmaps.length;S++)K(L.__webglFramebuffer[Q][S],C,E,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Q,S);else K(L.__webglFramebuffer[Q],C,E,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0);p(E,oa)&&
a.generateMipmap(a.TEXTURE_CUBE_MAP)}else if(M){E=C.texture;for(let Ka=0,Ra=E.length;Ka<Ra;Ka++)Q=E[Ka],S=d.get(Q),c.bindTexture(a.TEXTURE_2D,S.__webglTexture),G(a.TEXTURE_2D,Q,oa),K(L.__webglFramebuffer,C,Q,a.COLOR_ATTACHMENT0+Ka,a.TEXTURE_2D,0),p(Q,oa)&&a.generateMipmap(a.TEXTURE_2D)}else{S=a.TEXTURE_2D;if(C.isWebGL3DRenderTarget||C.isWebGLArrayRenderTarget)X?S=C.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.");
c.bindTexture(S,Q.__webglTexture);G(S,E,oa);if(X&&E.mipmaps&&0<E.mipmaps.length)for(Q=0;Q<E.mipmaps.length;Q++)K(L.__webglFramebuffer[Q],C,E,a.COLOR_ATTACHMENT0,S,Q);else K(L.__webglFramebuffer,C,E,a.COLOR_ATTACHMENT0,S,0);p(E,oa)&&a.generateMipmap(S)}c.unbindTexture();C.depthBuffer&&ba(C)};this.updateRenderTargetMipmap=function(C){const E=n(C)||X,L=!0===C.isWebGLMultipleRenderTargets?C.texture:[C.texture];for(let S=0,M=L.length;S<M;S++){var Q=L[S];if(p(Q,E)){const oa=C.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:
a.TEXTURE_2D;Q=d.get(Q).__webglTexture;c.bindTexture(oa,Q);a.generateMipmap(oa);c.unbindTexture()}}};this.updateMultisampleRenderTarget=function(C){if(X&&0<C.samples&&!1===U(C)){const S=C.isWebGLMultipleRenderTargets?C.texture:[C.texture];var E=C.width;const M=C.height;let oa=a.COLOR_BUFFER_BIT;const Z=[],ja=C.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,ka=d.get(C),Fa=!0===C.isWebGLMultipleRenderTargets;if(Fa)for(var L=0;L<S.length;L++)c.bindFramebuffer(a.FRAMEBUFFER,ka.__webglMultisampledFramebuffer),
a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+L,a.RENDERBUFFER,null),c.bindFramebuffer(a.FRAMEBUFFER,ka.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+L,a.TEXTURE_2D,null,0);c.bindFramebuffer(a.READ_FRAMEBUFFER,ka.__webglMultisampledFramebuffer);c.bindFramebuffer(a.DRAW_FRAMEBUFFER,ka.__webglFramebuffer);for(L=0;L<S.length;L++){Z.push(a.COLOR_ATTACHMENT0+L);C.depthBuffer&&Z.push(ja);var Q=void 0!==ka.__ignoreDepthValues?ka.__ignoreDepthValues:!1;!1===
Q&&(C.depthBuffer&&(oa|=a.DEPTH_BUFFER_BIT),C.stencilBuffer&&(oa|=a.STENCIL_BUFFER_BIT));Fa&&a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,ka.__webglColorRenderbuffer[L]);!0===Q&&(a.invalidateFramebuffer(a.READ_FRAMEBUFFER,[ja]),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[ja]));Fa&&(Q=d.get(S[L]).__webglTexture,a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Q,0));a.blitFramebuffer(0,0,E,M,0,0,E,M,oa,a.NEAREST);Wa&&a.invalidateFramebuffer(a.READ_FRAMEBUFFER,
Z)}c.bindFramebuffer(a.READ_FRAMEBUFFER,null);c.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);if(Fa)for(C=0;C<S.length;C++)c.bindFramebuffer(a.FRAMEBUFFER,ka.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+C,a.RENDERBUFFER,ka.__webglColorRenderbuffer[C]),E=d.get(S[C]).__webglTexture,c.bindFramebuffer(a.FRAMEBUFFER,ka.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+C,a.TEXTURE_2D,E,0);c.bindFramebuffer(a.DRAW_FRAMEBUFFER,ka.__webglMultisampledFramebuffer)}};
this.setupDepthRenderbuffer=ba;this.setupFrameBufferTexture=K;this.useMultisampledRTT=U}function ng(a,b,c){const d=c.isWebGL2;return{convert:function(f,h=""){const l=Db.getTransfer(h);if(1009===f)return a.UNSIGNED_BYTE;if(1017===f)return a.UNSIGNED_SHORT_4_4_4_4;if(1018===f)return a.UNSIGNED_SHORT_5_5_5_1;if(1010===f)return a.BYTE;if(1011===f)return a.SHORT;if(1012===f)return a.UNSIGNED_SHORT;if(1013===f)return a.INT;if(1014===f)return a.UNSIGNED_INT;if(1015===f)return a.FLOAT;if(1016===f){if(d)return a.HALF_FLOAT;
h=b.get("OES_texture_half_float");return null!==h?h.HALF_FLOAT_OES:null}if(1021===f)return a.ALPHA;if(1023===f)return a.RGBA;if(1024===f)return a.LUMINANCE;if(1025===f)return a.LUMINANCE_ALPHA;if(1026===f)return a.DEPTH_COMPONENT;if(1027===f)return a.DEPTH_STENCIL;if(1035===f)return h=b.get("EXT_sRGB"),null!==h?h.SRGB_ALPHA_EXT:null;if(1028===f)return a.RED;if(1029===f)return a.RED_INTEGER;if(1030===f)return a.RG;if(1031===f)return a.RG_INTEGER;if(1033===f)return a.RGBA_INTEGER;if(33776===f||33777===
f||33778===f||33779===f)if("srgb"===l)if(h=b.get("WEBGL_compressed_texture_s3tc_srgb"),null!==h){if(33776===f)return h.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===f)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===f)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===f)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(h=b.get("WEBGL_compressed_texture_s3tc"),null!==h){if(33776===f)return h.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===f)return h.COMPRESSED_RGBA_S3TC_DXT1_EXT;
if(33778===f)return h.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===f)return h.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(35840===f||35841===f||35842===f||35843===f)if(h=b.get("WEBGL_compressed_texture_pvrtc"),null!==h){if(35840===f)return h.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===f)return h.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===f)return h.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===f)return h.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(36196===f)return h=b.get("WEBGL_compressed_texture_etc1"),
null!==h?h.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===f||37496===f)if(h=b.get("WEBGL_compressed_texture_etc"),null!==h){if(37492===f)return"srgb"===l?h.COMPRESSED_SRGB8_ETC2:h.COMPRESSED_RGB8_ETC2;if(37496===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:h.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(37808===f||37809===f||37810===f||37811===f||37812===f||37813===f||37814===f||37815===f||37816===f||37817===f||37818===f||37819===f||37820===f||37821===f)if(h=b.get("WEBGL_compressed_texture_astc"),
null!==h){if(37808===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:h.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:h.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:h.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:h.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:h.COMPRESSED_RGBA_ASTC_6x6_KHR;
if(37813===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:h.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:h.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:h.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:h.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:h.COMPRESSED_RGBA_ASTC_10x6_KHR;
if(37818===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:h.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:h.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:h.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===f)return"srgb"===l?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:h.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(36492===f||36494===f||36495===f)if(h=b.get("EXT_texture_compression_bptc"),
null!==h){if(36492===f)return"srgb"===l?h.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:h.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===f)return h.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===f)return h.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(36283===f||36284===f||36285===f||36286===f)if(h=b.get("EXT_texture_compression_rgtc"),null!==h){if(36492===f)return h.COMPRESSED_RED_RGTC1_EXT;if(36284===f)return h.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===f)return h.COMPRESSED_RED_GREEN_RGTC2_EXT;
if(36286===f)return h.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;if(1020===f){if(d)return a.UNSIGNED_INT_24_8;h=b.get("WEBGL_depth_texture");return null!==h?h.UNSIGNED_INT_24_8_WEBGL:null}return void 0!==a[f]?a[f]:null}}}function zi(a,b){function c(f,h){!0===f.matrixAutoUpdate&&f.updateMatrix();h.value.copy(f.matrix)}function d(f,h){f.opacity.value=h.opacity;h.color&&f.diffuse.value.copy(h.color);h.emissive&&f.emissive.value.copy(h.emissive).multiplyScalar(h.emissiveIntensity);h.map&&
(f.map.value=h.map,c(h.map,f.mapTransform));h.alphaMap&&(f.alphaMap.value=h.alphaMap,c(h.alphaMap,f.alphaMapTransform));h.bumpMap&&(f.bumpMap.value=h.bumpMap,c(h.bumpMap,f.bumpMapTransform),f.bumpScale.value=h.bumpScale,1===h.side&&(f.bumpScale.value*=-1));h.normalMap&&(f.normalMap.value=h.normalMap,c(h.normalMap,f.normalMapTransform),f.normalScale.value.copy(h.normalScale),1===h.side&&f.normalScale.value.negate());h.displacementMap&&(f.displacementMap.value=h.displacementMap,c(h.displacementMap,
f.displacementMapTransform),f.displacementScale.value=h.displacementScale,f.displacementBias.value=h.displacementBias);h.emissiveMap&&(f.emissiveMap.value=h.emissiveMap,c(h.emissiveMap,f.emissiveMapTransform));h.specularMap&&(f.specularMap.value=h.specularMap,c(h.specularMap,f.specularMapTransform));0<h.alphaTest&&(f.alphaTest.value=h.alphaTest);const l=b.get(h).envMap;l&&(f.envMap.value=l,f.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1,f.reflectivity.value=h.reflectivity,f.ior.value=
h.ior,f.refractionRatio.value=h.refractionRatio);h.lightMap&&(f.lightMap.value=h.lightMap,f.lightMapIntensity.value=h.lightMapIntensity*(!0===a._useLegacyLights?Math.PI:1),c(h.lightMap,f.lightMapTransform));h.aoMap&&(f.aoMap.value=h.aoMap,f.aoMapIntensity.value=h.aoMapIntensity,c(h.aoMap,f.aoMapTransform))}return{refreshFogUniforms:function(f,h){h.color.getRGB(f.fogColor.value,Fc(a));h.isFog?(f.fogNear.value=h.near,f.fogFar.value=h.far):h.isFogExp2&&(f.fogDensity.value=h.density)},refreshMaterialUniforms:function(f,
h,l,m,n){h.isMeshBasicMaterial?d(f,h):h.isMeshLambertMaterial?d(f,h):h.isMeshToonMaterial?(d(f,h),h.gradientMap&&(f.gradientMap.value=h.gradientMap)):h.isMeshPhongMaterial?(d(f,h),f.specular.value.copy(h.specular),f.shininess.value=Math.max(h.shininess,1E-4)):h.isMeshStandardMaterial?(d(f,h),f.metalness.value=h.metalness,h.metalnessMap&&(f.metalnessMap.value=h.metalnessMap,c(h.metalnessMap,f.metalnessMapTransform)),f.roughness.value=h.roughness,h.roughnessMap&&(f.roughnessMap.value=h.roughnessMap,
c(h.roughnessMap,f.roughnessMapTransform)),b.get(h).envMap&&(f.envMapIntensity.value=h.envMapIntensity),h.isMeshPhysicalMaterial&&(f.ior.value=h.ior,0<h.sheen&&(f.sheenColor.value.copy(h.sheenColor).multiplyScalar(h.sheen),f.sheenRoughness.value=h.sheenRoughness,h.sheenColorMap&&(f.sheenColorMap.value=h.sheenColorMap,c(h.sheenColorMap,f.sheenColorMapTransform)),h.sheenRoughnessMap&&(f.sheenRoughnessMap.value=h.sheenRoughnessMap,c(h.sheenRoughnessMap,f.sheenRoughnessMapTransform))),0<h.clearcoat&&
(f.clearcoat.value=h.clearcoat,f.clearcoatRoughness.value=h.clearcoatRoughness,h.clearcoatMap&&(f.clearcoatMap.value=h.clearcoatMap,c(h.clearcoatMap,f.clearcoatMapTransform)),h.clearcoatRoughnessMap&&(f.clearcoatRoughnessMap.value=h.clearcoatRoughnessMap,c(h.clearcoatRoughnessMap,f.clearcoatRoughnessMapTransform)),h.clearcoatNormalMap&&(f.clearcoatNormalMap.value=h.clearcoatNormalMap,c(h.clearcoatNormalMap,f.clearcoatNormalMapTransform),f.clearcoatNormalScale.value.copy(h.clearcoatNormalScale),1===
h.side&&f.clearcoatNormalScale.value.negate())),0<h.iridescence&&(f.iridescence.value=h.iridescence,f.iridescenceIOR.value=h.iridescenceIOR,f.iridescenceThicknessMinimum.value=h.iridescenceThicknessRange[0],f.iridescenceThicknessMaximum.value=h.iridescenceThicknessRange[1],h.iridescenceMap&&(f.iridescenceMap.value=h.iridescenceMap,c(h.iridescenceMap,f.iridescenceMapTransform)),h.iridescenceThicknessMap&&(f.iridescenceThicknessMap.value=h.iridescenceThicknessMap,c(h.iridescenceThicknessMap,f.iridescenceThicknessMapTransform))),
0<h.transmission&&(f.transmission.value=h.transmission,f.transmissionSamplerMap.value=n.texture,f.transmissionSamplerSize.value.set(n.width,n.height),h.transmissionMap&&(f.transmissionMap.value=h.transmissionMap,c(h.transmissionMap,f.transmissionMapTransform)),f.thickness.value=h.thickness,h.thicknessMap&&(f.thicknessMap.value=h.thicknessMap,c(h.thicknessMap,f.thicknessMapTransform)),f.attenuationDistance.value=h.attenuationDistance,f.attenuationColor.value.copy(h.attenuationColor)),0<h.anisotropy&&
(f.anisotropyVector.value.set(h.anisotropy*Math.cos(h.anisotropyRotation),h.anisotropy*Math.sin(h.anisotropyRotation)),h.anisotropyMap&&(f.anisotropyMap.value=h.anisotropyMap,c(h.anisotropyMap,f.anisotropyMapTransform))),f.specularIntensity.value=h.specularIntensity,f.specularColor.value.copy(h.specularColor),h.specularColorMap&&(f.specularColorMap.value=h.specularColorMap,c(h.specularColorMap,f.specularColorMapTransform)),h.specularIntensityMap&&(f.specularIntensityMap.value=h.specularIntensityMap,
c(h.specularIntensityMap,f.specularIntensityMapTransform)))):h.isMeshMatcapMaterial?(d(f,h),h.matcap&&(f.matcap.value=h.matcap)):h.isMeshDepthMaterial?d(f,h):h.isMeshDistanceMaterial?(d(f,h),h=b.get(h).light,f.referencePosition.value.setFromMatrixPosition(h.matrixWorld),f.nearDistance.value=h.shadow.camera.near,f.farDistance.value=h.shadow.camera.far):h.isMeshNormalMaterial?d(f,h):h.isLineBasicMaterial?(f.diffuse.value.copy(h.color),f.opacity.value=h.opacity,h.map&&(f.map.value=h.map,c(h.map,f.mapTransform)),
h.isLineDashedMaterial&&(f.dashSize.value=h.dashSize,f.totalSize.value=h.dashSize+h.gapSize,f.scale.value=h.scale)):h.isPointsMaterial?(f.diffuse.value.copy(h.color),f.opacity.value=h.opacity,f.size.value=h.size*l,f.scale.value=.5*m,h.map&&(f.map.value=h.map,c(h.map,f.uvTransform)),h.alphaMap&&(f.alphaMap.value=h.alphaMap,c(h.alphaMap,f.alphaMapTransform)),0<h.alphaTest&&(f.alphaTest.value=h.alphaTest)):h.isSpriteMaterial?(f.diffuse.value.copy(h.color),f.opacity.value=h.opacity,f.rotation.value=h.rotation,
h.map&&(f.map.value=h.map,c(h.map,f.mapTransform)),h.alphaMap&&(f.alphaMap.value=h.alphaMap,c(h.alphaMap,f.alphaMapTransform)),0<h.alphaTest&&(f.alphaTest.value=h.alphaTest)):h.isShadowMaterial?(f.color.value.copy(h.color),f.opacity.value=h.opacity):h.isShaderMaterial&&(h.uniformsNeedUpdate=!1)}}}function og(a,b,c,d){function f(t){const w=t.uniforms;let B=0;for(let J=0,O=w.length;J<O;J++){const K=w[J];var z=0,A=0;var v=Array.isArray(K.value)?K.value:[K.value];for(let P=0,ba=v.length;P<ba;P++){var G=
h(v[P]);z+=G.boundary;A+=G.storage}K.__data=new Float32Array(A/Float32Array.BYTES_PER_ELEMENT);K.__offset=B;0<J&&(v=B%16,G=16-v,0!==v&&0>G-z&&(B+=16-v,K.__offset=B));B+=A}v=B%16;0<v&&(B+=16-v);t.__size=B;t.__cache={};return this}function h(t){const w={boundary:0,storage:0};"number"===typeof t?(w.boundary=4,w.storage=4):t.isVector2?(w.boundary=8,w.storage=8):t.isVector3||t.isColor?(w.boundary=16,w.storage=12):t.isVector4?(w.boundary=16,w.storage=16):t.isMatrix3?(w.boundary=48,w.storage=48):t.isMatrix4?
(w.boundary=64,w.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t);return w}function l(t){t=t.target;t.removeEventListener("dispose",l);const w=p.indexOf(t.__bindingPointIndex);p.splice(w,1);a.deleteBuffer(m[t.id]);delete m[t.id];delete n[t.id]}let m={},n={},p=[];const r=c.isWebGL2?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0;return{bind:function(t,w){d.uniformBlockBinding(t,
w.program)},update:function(t,w){var B=m[t.id];if(void 0===B){f(t);a:{for(B=0;B<r;B++)if(-1===p.indexOf(B)){p.push(B);break a}console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.");B=0}t.__bindingPointIndex=B;var z=a.createBuffer(),A=t.__size,v=t.usage;a.bindBuffer(a.UNIFORM_BUFFER,z);a.bufferData(a.UNIFORM_BUFFER,A,v);a.bindBuffer(a.UNIFORM_BUFFER,null);a.bindBufferBase(a.UNIFORM_BUFFER,B,z);B=z;m[t.id]=B;t.addEventListener("dispose",l)}d.updateUBOMapping(t,
w.program);w=b.render.frame;if(n[t.id]!==w){B=t.uniforms;z=t.__cache;a.bindBuffer(a.UNIFORM_BUFFER,m[t.id]);for(let P=0,ba=B.length;P<ba;P++){A=B[P];a:{v=P;var G=z,J=A.value;if(void 0===G[v]){if("number"===typeof J)G[v]=J;else{J=Array.isArray(J)?J:[J];var O=[];for(var K=0;K<J.length;K++)O.push(J[K].clone());G[v]=O}v=!0}else{if("number"===typeof J){if(G[v]!==J){G[v]=J;v=!0;break a}}else for(v=Array.isArray(G[v])?G[v]:[G[v]],G=Array.isArray(J)?J:[J],J=0;J<v.length;J++)if(O=v[J],!1===O.equals(G[J])){O.copy(G[J]);
v=!0;break a}v=!1}}if(!0===v){v=A.__offset;G=Array.isArray(A.value)?A.value:[A.value];J=0;for(O=0;O<G.length;O++){K=G[O];const ca=h(K);"number"===typeof K?(A.__data[0]=K,a.bufferSubData(a.UNIFORM_BUFFER,v+J,A.__data)):K.isMatrix3?(A.__data[0]=K.elements[0],A.__data[1]=K.elements[1],A.__data[2]=K.elements[2],A.__data[3]=K.elements[0],A.__data[4]=K.elements[3],A.__data[5]=K.elements[4],A.__data[6]=K.elements[5],A.__data[7]=K.elements[0],A.__data[8]=K.elements[6],A.__data[9]=K.elements[7],A.__data[10]=
K.elements[8],A.__data[11]=K.elements[0]):(K.toArray(A.__data,J),J+=ca.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,v,A.__data)}}a.bindBuffer(a.UNIFORM_BUFFER,null);n[t.id]=w}},dispose:function(){for(const t in m)a.deleteBuffer(m[t]);p=[];m={};n={}}}}function qh(a,b,c,d,f,h){gg.subVectors(a,c).addScalar(.5).multiply(d);void 0!==f?(hh.x=h*gg.x-f*gg.y,hh.y=f*gg.x+h*gg.y):hh.copy(gg);a.copy(b);a.x+=hh.x;a.y+=hh.y;a.applyMatrix4(Wk)}function sh(a,b,c,d,f,h,l){const m=Gi.distanceSqToPoint(a);
m<c&&(c=new I,Gi.closestPointToPoint(a,c),c.applyMatrix4(d),a=f.ray.origin.distanceTo(c),a<f.near||a>f.far||h.push({distance:a,distanceToRay:Math.sqrt(m),point:c,index:b,face:null,object:l}))}function Ii(){let a=0,b=0,c=0,d=0;return{initCatmullRom:function(f,h,l,m,n){f=n*(l-f);m=n*(m-h);a=h;b=f;c=-3*h+3*l-2*f-m;d=2*h-2*l+f+m},initNonuniformCatmullRom:function(f,h,l,m,n,p,r){f=((h-f)/n-(l-f)/(n+p)+(l-h)/p)*p;m=((l-h)/p-(m-h)/(p+r)+(m-l)/r)*p;a=h;b=f;c=-3*h+3*l-2*f-m;d=2*h-2*l+f+m},calc:function(f){const h=
f*f;return a+b*f+c*h+d*h*f}}}function Ji(a,b,c,d,f){b=.5*(d-b);f=.5*(f-c);const h=a*a;return(2*c-2*d+b+f)*a*h+(-3*c+3*d-2*b-f)*h+b*a+c}function zf(a,b,c,d){const f=1-a;return f*f*b+2*(1-a)*a*c+a*a*d}function Td(a,b,c,d,f){const h=1-a,l=1-a;return h*h*h*b+3*l*l*a*c+3*(1-a)*a*a*d+a*a*a*f}function bk(a,b,c,d,f){let h,l=0;for(let m=b,n=c-d;m<c;m+=d)l+=(a[n]-a[m])*(a[m+1]+a[n+1]),n=m;if(f===0<l)for(f=b;f<c;f+=d)h=dk(f,a[f],a[f+1],h);else for(f=c-d;f>=b;f-=d)h=dk(f,a[f],a[f+1],h);h&&Hb(h,h.next)&&(Me(h),
h=h.next);return h}function Af(a,b){if(!a)return a;b||(b=a);let c;do if(c=!1,a.steiner||!Hb(a,a.next)&&0!==Cb(a.prev,a,a.next))a=a.next;else{Me(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}function vd(a,b,c,d,f,h,l){if(a){if(!l&&h){var m=a,n=m;do 0===n.z&&(n.z=ag(n.x,n.y,d,f,h)),n.prevZ=n.prev,n=n.nextZ=n.next;while(n!==m);n.prevZ.nextZ=null;n.prevZ=null;m=n;var p,r,t,w,B=1;do{n=m;var z=m=null;for(r=0;n;){r++;var A=n;for(p=t=0;p<B&&(t++,A=A.nextZ,A);p++);for(w=B;0<t||0<w&&A;)0!==
t&&(0===w||!A||n.z<=A.z)?(p=n,n=n.nextZ,t--):(p=A,A=A.nextZ,w--),z?z.nextZ=p:m=p,p.prevZ=z,z=p;n=A}z.nextZ=null;B*=2}while(1<r)}for(m=a;a.prev!==a.next;){n=a.prev;A=a.next;if(h)z=ah(a,d,f,h);else a:{z=a.prev;var v=a;w=a.next;if(0<=Cb(z,v,w)){z=!1;break a}r=z.x;t=v.x;B=w.x;p=z.y;v=v.y;const G=w.y,J=r<t?r<B?r:B:t<B?t:B,O=p<v?p<G?p:G:v<G?v:G,K=r>t?r>B?r:B:t>B?t:B,P=p>v?p>G?p:G:v>G?v:G;for(w=w.next;w!==z;){if(w.x>=J&&w.x<=K&&w.y>=O&&w.y<=P&&yf(r,p,t,v,B,G,w.x,w.y)&&0<=Cb(w.prev,w,w.next)){z=!1;break a}w=
w.next}z=!0}if(z)b.push(n.i/c|0),b.push(a.i/c|0),b.push(A.i/c|0),Me(a),m=a=A.next;else if(a=A,a===m){if(!l)vd(Af(a),b,c,d,f,h,1);else if(1===l){a=Af(a);l=b;m=c;n=a;do A=n.prev,z=n.next.next,!Hb(A,z)&&Wb(A,n,n.next,z)&&Le(A,z)&&Le(z,A)&&(l.push(A.i/m|0),l.push(n.i/m|0),l.push(z.i/m|0),Me(n),Me(n.next),n=a=z),n=n.next;while(n!==a);a=Af(n);vd(a,b,c,d,f,h,2)}else if(2===l)a:{l=a;do{for(m=l.next.next;m!==l.prev;){if(n=l.i!==m.i){n=l;A=m;if(z=n.next.i!==A.i&&n.prev.i!==A.i){b:{z=n;do{if(z.i!==n.i&&z.next.i!==
n.i&&z.i!==A.i&&z.next.i!==A.i&&Wb(z,z.next,n,A)){z=!0;break b}z=z.next}while(z!==n);z=!1}z=!z}if(z){if(z=Le(n,A)&&Le(A,n)){z=n;r=!1;t=(n.x+A.x)/2;B=(n.y+A.y)/2;do z.y>B!==z.next.y>B&&z.next.y!==z.y&&t<(z.next.x-z.x)*(B-z.y)/(z.next.y-z.y)+z.x&&(r=!r),z=z.next;while(z!==n);z=r}z=z&&(Cb(n.prev,n,A.prev)||Cb(n,A.prev,A))||Hb(n,A)&&0<Cb(n.prev,n,n.next)&&0<Cb(A.prev,A,A.next)}n=z}if(n){a=ck(l,m);l=Af(l,l.next);a=Af(a,a.next);vd(l,b,c,d,f,h,0);vd(a,b,c,d,f,h,0);break a}m=m.next}l=l.next}while(l!==a)}break}}}}
function ah(a,b,c,d){const f=a.prev,h=a.next;if(0<=Cb(f,a,h))return!1;const l=f.x,m=a.x,n=h.x,p=f.y,r=a.y,t=h.y,w=l<m?l<n?l:n:m<n?m:n,B=p<r?p<t?p:t:r<t?r:t,z=l>m?l>n?l:n:m>n?m:n,A=p>r?p>t?p:t:r>t?r:t,v=ag(w,B,b,c,d);b=ag(z,A,b,c,d);c=a.prevZ;for(a=a.nextZ;c&&c.z>=v&&a&&a.z<=b;){if(c.x>=w&&c.x<=z&&c.y>=B&&c.y<=A&&c!==f&&c!==h&&yf(l,p,m,r,n,t,c.x,c.y)&&0<=Cb(c.prev,c,c.next))return!1;c=c.prevZ;if(a.x>=w&&a.x<=z&&a.y>=B&&a.y<=A&&a!==f&&a!==h&&yf(l,p,m,r,n,t,a.x,a.y)&&0<=Cb(a.prev,a,a.next))return!1;
a=a.nextZ}for(;c&&c.z>=v;){if(c.x>=w&&c.x<=z&&c.y>=B&&c.y<=A&&c!==f&&c!==h&&yf(l,p,m,r,n,t,c.x,c.y)&&0<=Cb(c.prev,c,c.next))return!1;c=c.prevZ}for(;a&&a.z<=b;){if(a.x>=w&&a.x<=z&&a.y>=B&&a.y<=A&&a!==f&&a!==h&&yf(l,p,m,r,n,t,a.x,a.y)&&0<=Cb(a.prev,a,a.next))return!1;a=a.nextZ}return!0}function jg(a,b){return a.x-b.x}function ag(a,b,c,d,f){a=(a-c)*f|0;b=(b-d)*f|0;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&
1431655765|((b|b<<1)&1431655765)<<1}function yf(a,b,c,d,f,h,l,m){return(f-l)*(b-m)>=(a-l)*(h-m)&&(a-l)*(d-m)>=(c-l)*(b-m)&&(c-l)*(h-m)>=(f-l)*(d-m)}function Cb(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function Hb(a,b){return a.x===b.x&&a.y===b.y}function Wb(a,b,c,d){const f=Ic(Cb(a,b,c)),h=Ic(Cb(a,b,d)),l=Ic(Cb(c,d,a)),m=Ic(Cb(c,d,b));return f!==h&&l!==m||0===f&&le(a,c,b)||0===h&&le(a,d,b)||0===l&&le(c,a,d)||0===m&&le(c,b,d)?!0:!1}function le(a,b,c){return b.x<=Math.max(a.x,c.x)&&b.x>=
Math.min(a.x,c.x)&&b.y<=Math.max(a.y,c.y)&&b.y>=Math.min(a.y,c.y)}function Ic(a){return 0<a?1:0>a?-1:0}function Le(a,b){return 0>Cb(a.prev,a,a.next)?0<=Cb(a,b,a.next)&&0<=Cb(a,a.prev,b):0>Cb(a,b,a.prev)||0>Cb(a,a.next,b)}function ck(a,b){const c=new Li(a.i,a.x,a.y),d=new Li(b.i,b.x,b.y),f=a.next,h=b.prev;a.next=b;b.prev=a;c.next=f;f.prev=c;d.next=c;c.prev=d;h.next=d;d.prev=h;return d}function dk(a,b,c,d){a=new Li(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}
function Me(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Li(a,b,c){this.i=a;this.x=b;this.y=c;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function Bf(a){const b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function ek(a,b){for(let c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}function Ne(a,b,c){const d=`${a.x},${a.y},${a.z}-${b.x},${b.y},${b.z}`;a=`${b.x},${b.y},${b.z}-${a.x},${a.y},${a.z}`;if(!0===
c.has(d)||!0===c.has(a))return!1;c.add(d);c.add(a);return!0}function yd(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)}function zd(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function gk(a){const b=a.length,c=Array(b);for(let d=0;d!==b;++d)c[d]=d;c.sort(function(d,f){return a[d]-a[f]});return c}function fd(a,b,c){const d=a.length,f=new a.constructor(d);for(let h=0,l=0;l!==d;++h){const m=c[h]*b;for(let n=0;n!==b;++n)f[l++]=
a[m+n]}return f}function wh(a,b,c,d){let f=1,h=a[0];for(;void 0!==h&&void 0===h[d];)h=a[f++];if(void 0!==h){var l=h[d];if(void 0!==l)if(Array.isArray(l)){do l=h[d],void 0!==l&&(b.push(h.time),c.push.apply(c,l)),h=a[f++];while(void 0!==h)}else if(void 0!==l.toArray){do l=h[d],void 0!==l&&(b.push(h.time),l.toArray(c,c.length)),h=a[f++];while(void 0!==h)}else{do l=h[d],void 0!==l&&(b.push(h.time),c.push(l)),h=a[f++];while(void 0!==h)}}}function ul(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return Qc;
case "vector":case "vector2":case "vector3":case "vector4":return ic;case "color":return Hf;case "quaternion":return Eb;case "bool":case "boolean":return od;case "string":return dc}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a);}function Ef(){return("undefined"===typeof performance?Date:performance).now()}function gd(a,b){return a.distance-b.distance}function yh(a,b,c,d){a.layers.test(b.layers)&&a.raycast(b,c);if(!0===d){a=a.children;for(let f=0,h=a.length;f<h;f++)yh(a[f],b,c,!0)}}function hk(a){const b=
[];!0===a.isBone&&b.push(a);for(let c=0;c<a.children.length;c++)b.push.apply(b,hk(a.children[c]));return b}function Ib(a,b,c,d,f,h,l){Ml.set(f,h,l).unproject(d);a=b[a];if(void 0!==a){c=c.getAttribute("position");for(let m=0,n=a.length;m<n;m++)c.setXYZ(a[m],Ml.x,Ml.y,Ml.z)}}class Pc{addEventListener(a,b){void 0===this._listeners&&(this._listeners={});const c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)}hasEventListener(a,b){if(void 0===this._listeners)return!1;const c=
this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)}removeEventListener(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))}dispatchEvent(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(let c=0,d=b.length;c<d;c++)b[c].call(this,a);a.target=null}}}}const Jc="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let sg=1234567;const Oe=Math.PI/180,ne=180/Math.PI,vl={DEG2RAD:Oe,RAD2DEG:ne,generateUUID:Oa,clamp:Za,euclideanModulo:Pb,mapLinear:function(a,b,c,d,f){return d+(a-b)*(f-d)/(c-b)},inverseLerp:function(a,b,c){return a!==b?(c-a)/(b-a):0},lerp:vc,damp:function(a,b,c,d){return vc(a,b,1-Math.exp(-c*d))},pingpong:function(a,b=1){return b-Math.abs(Pb(a,2*b)-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=
c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){void 0!==a&&(sg=a);a=sg+=1831565813;a=Math.imul(a^a>>>15,a|1);a^=a+Math.imul(a^a>>>7,a|61);return((a^a>>>14)>>>0)/4294967296},degToRad:function(a){return a*Oe},radToDeg:function(a){return a*ne},isPowerOfTwo:Ec,ceilPowerOfTwo:rb,floorPowerOfTwo:Mc,
setQuaternionFromProperEuler:function(a,b,c,d,f){var h=Math.cos;const l=Math.sin,m=h(c/2);c=l(c/2);const n=h((b+d)/2),p=l((b+d)/2),r=h((b-d)/2),t=l((b-d)/2);h=h((d-b)/2);b=l((d-b)/2);switch(f){case "XYX":a.set(m*p,c*r,c*t,m*n);break;case "YZY":a.set(c*t,m*p,c*r,m*n);break;case "ZXZ":a.set(c*r,c*t,m*p,m*n);break;case "XZX":a.set(m*p,c*b,c*h,m*n);break;case "YXY":a.set(c*h,m*p,c*b,m*n);break;case "ZYZ":a.set(c*b,c*h,m*p,m*n);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+
f)}},normalize:Ya,denormalize:Gb};class va{constructor(a=0,b=0){va.prototype.isVector2=!0;this.x=a;this.y=b}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,b){this.x=a;this.y=b;return this}setScalar(a){this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y)}copy(a){this.x=a.x;this.y=a.y;return this}add(a){this.x+=a.x;this.y+=a.y;return this}addScalar(a){this.x+=a;this.y+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;return this}sub(a){this.x-=a.x;this.y-=a.y;return this}subScalar(a){this.x-=a;this.y-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-
b.y;return this}multiply(a){this.x*=a.x;this.y*=a.y;return this}multiplyScalar(a){this.x*=a;this.y*=a;return this}divide(a){this.x/=a.x;this.y/=a.y;return this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this}clamp(a,b){this.x=Math.max(a.x,
Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=
Math.trunc(this.x);this.y=Math.trunc(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(a){const b=Math.sqrt(this.lengthSq()*a.lengthSq());
if(0===b)return Math.PI/2;a=this.dot(a)/b;return Math.acos(Za(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=this.x-a.x;a=this.y-a.y;return b*b+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;return this}equals(a){return a.x===this.x&&a.y===
this.y}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;return a}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);return this}rotateAround(a,b){const c=Math.cos(b);b=Math.sin(b);const d=this.x-a.x,f=this.y-a.y;this.x=d*c-f*b+a.x;this.y=d*b+f*c+a.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}class nb{constructor(a,b,c,d,f,h,l,m,n){nb.prototype.isMatrix3=!0;this.elements=
[1,0,0,0,1,0,0,0,1];void 0!==a&&this.set(a,b,c,d,f,h,l,m,n)}set(a,b,c,d,f,h,l,m,n){const p=this.elements;p[0]=a;p[1]=d;p[2]=l;p[3]=b;p[4]=f;p[5]=m;p[6]=c;p[7]=h;p[8]=n;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this}extractBasis(a,b,c){a.setFromMatrix3Column(this,0);b.setFromMatrix3Column(this,1);c.setFromMatrix3Column(this,2);return this}setFromMatrix4(a){a=
a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];const f=c[3],h=c[6],l=c[1],m=c[4],n=c[7],p=c[2],r=c[5];c=c[8];const t=d[0],w=d[3],B=d[6],z=d[1],A=d[4],v=d[7],G=d[2],J=d[5];d=d[8];b[0]=a*t+f*z+h*G;b[3]=a*w+f*A+h*J;b[6]=a*B+f*v+h*d;b[1]=l*t+m*z+n*G;b[4]=l*w+m*A+n*J;b[7]=l*B+m*v+n*d;b[2]=p*t+r*z+
c*G;b[5]=p*w+r*A+c*J;b[8]=p*B+r*v+c*d;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this}determinant(){var a=this.elements;const b=a[0],c=a[1],d=a[2],f=a[3],h=a[4],l=a[5],m=a[6],n=a[7];a=a[8];return b*h*a-b*l*n-c*f*a+c*l*m+d*f*n-d*h*m}invert(){const a=this.elements,b=a[0],c=a[1],d=a[2],f=a[3],h=a[4],l=a[5],m=a[6],n=a[7],p=a[8],r=p*h-l*n,t=l*m-p*f,w=n*f-h*m;var B=b*r+c*t+d*w;if(0===B)return this.set(0,0,0,0,0,0,0,
0,0);B=1/B;a[0]=r*B;a[1]=(d*n-p*c)*B;a[2]=(l*c-d*h)*B;a[3]=t*B;a[4]=(p*b-d*m)*B;a[5]=(d*f-l*b)*B;a[6]=w*B;a[7]=(c*m-n*b)*B;a[8]=(h*b-c*f)*B;return this}transpose(){let a;const b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this}setUvTransform(a,
b,c,d,f,h,l){const m=Math.cos(f);f=Math.sin(f);this.set(c*m,c*f,-c*(m*h+f*l)+h+a,-d*f,d*m,-d*(-f*h+m*l)+l+b,0,0,1);return this}scale(a,b){this.premultiply(Bh.makeScale(a,b));return this}rotate(a){this.premultiply(Bh.makeRotation(-a));return this}translate(a,b){this.premultiply(Bh.makeTranslation(a,b));return this}makeTranslation(a,b){a.isVector2?this.set(1,0,a.x,0,1,a.y,0,0,1):this.set(1,0,a,0,1,b,0,0,1);return this}makeRotation(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,a,b,0,0,0,1);return this}makeScale(a,
b){this.set(a,0,0,0,b,0,0,0,1);return this}equals(a){const b=this.elements;a=a.elements;for(let c=0;9>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b=0){for(let c=0;9>c;c++)this.elements[c]=a[c+b];return this}toArray(a=[],b=0){const c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}clone(){return(new this.constructor).fromArray(this.elements)}}const Bh=new nb,Yd={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,
Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array},Ch={},jk=(new nb).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Re=(new nb).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),ug={["srgb-linear"]:{transfer:"linear",primaries:"rec709",toReference:a=>a,fromReference:a=>a},srgb:{transfer:"srgb",primaries:"rec709",toReference:a=>a.convertSRGBToLinear(),fromReference:a=>a.convertLinearToSRGB()},["display-p3-linear"]:{transfer:"linear",primaries:"p3",
toReference:a=>a.applyMatrix3(Re),fromReference:a=>a.applyMatrix3(jk)},["display-p3"]:{transfer:"srgb",primaries:"p3",toReference:a=>a.convertSRGBToLinear().applyMatrix3(Re),fromReference:a=>a.applyMatrix3(jk).convertLinearToSRGB()}},vg=new Set(["srgb-linear","display-p3-linear"]),Db={enabled:!0,_workingColorSpace:"srgb-linear",get legacyMode(){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");return!this.enabled},set legacyMode(a){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");
this.enabled=!a},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(a){if(!vg.has(a))throw Error(`Unsupported working color space, "${a}".`);this._workingColorSpace=a},convert:function(a,b,c){if(!1===this.enabled||b===c||!b||!c)return a;b=ug[b].toReference;c=ug[c].fromReference;return c(b(a))},fromWorkingColorSpace:function(a,b){return this.convert(a,this._workingColorSpace,b)},toWorkingColorSpace:function(a,b){return this.convert(a,b,this._workingColorSpace)},getPrimaries:function(a){return ug[a].primaries},
getTransfer:function(a){return""===a?"linear":ug[a].transfer}};let Se;class wg{static getDataURL(a){if(/^data:/i.test(a.src)||"undefined"===typeof HTMLCanvasElement)return a.src;if(a instanceof HTMLCanvasElement)var b=a;else void 0===Se&&(Se=Hc("canvas")),Se.width=a.width,Se.height=a.height,b=Se.getContext("2d"),a instanceof ImageData?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height),b=Se;return 2048<b.width||2048<b.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",
a),b.toDataURL("image/jpeg",.6)):b.toDataURL("image/png")}static sRGBToLinear(a){if("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap){var b=Hc("canvas");b.width=a.width;b.height=a.height;var c=b.getContext("2d");c.drawImage(a,0,0,a.width,a.height);a=c.getImageData(0,0,a.width,a.height);const d=a.data;for(let f=0;f<d.length;f++)d[f]=255*bc(d[f]/255);
c.putImageData(a,0,0);return b}if(a.data){b=a.data.slice(0);for(c=0;c<b.length;c++)b[c]=b instanceof Uint8Array||b instanceof Uint8ClampedArray?Math.floor(255*bc(b[c]/255)):bc(b[c]);return{data:b,width:a.width,height:a.height}}console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.");return a}}let xl=0;class Te{constructor(a=null){this.isSource=!0;Object.defineProperty(this,"id",{value:xl++});this.uuid=Oa();this.data=a;this.version=0}set needsUpdate(a){!0===
a&&this.version++}toJSON(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.images[this.uuid])return a.images[this.uuid];const c={uuid:this.uuid,url:""},d=this.data;if(null!==d){let f;if(Array.isArray(d)){f=[];for(let h=0,l=d.length;h<l;h++)d[h].isDataTexture?f.push(Ge(d[h].image)):f.push(Ge(d[h]))}else f=Ge(d);c.url=f}b||(a.images[this.uuid]=c);return c}}let kk=0;class hc extends Pc{constructor(a=hc.DEFAULT_IMAGE,b=hc.DEFAULT_MAPPING,c=1001,d=1001,f=1006,h=1008,l=1023,m=1009,n=hc.DEFAULT_ANISOTROPY,
p=""){super();this.isTexture=!0;Object.defineProperty(this,"id",{value:kk++});this.uuid=Oa();this.name="";this.source=new Te(a);this.mipmaps=[];this.mapping=b;this.channel=0;this.wrapS=c;this.wrapT=d;this.magFilter=f;this.minFilter=h;this.anisotropy=n;this.format=l;this.internalFormat=null;this.type=m;this.offset=new va(0,0);this.repeat=new va(1,1);this.center=new va(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new nb;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=
4;"string"===typeof p?this.colorSpace=p:(Nb("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=3001===p?"srgb":"");this.userData={};this.version=0;this.onUpdate=null;this.needsPMREMUpdate=this.isRenderTargetTexture=!1}get image(){return this.source.data}set image(a=null){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(a){this.name=
a.name;this.source=a.source;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.channel=a.channel;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;
this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.colorSpace=a.colorSpace;this.userData=JSON.parse(JSON.stringify(a.userData));this.needsUpdate=!0;return this}toJSON(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const c={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,channel:this.channel,
repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};0<Object.keys(this.userData).length&&
(c.userData=this.userData);b||(a.textures[this.uuid]=c);return c}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%
2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}set needsUpdate(a){!0===a&&(this.version++,this.source.needsUpdate=!0)}get encoding(){Nb("THREE.Texture: Property .encoding has been replaced by .colorSpace.");return"srgb"===this.colorSpace?3001:3E3}set encoding(a){Nb("THREE.Texture: Property .encoding has been replaced by .colorSpace.");this.colorSpace=3001===a?"srgb":""}}hc.DEFAULT_IMAGE=null;hc.DEFAULT_MAPPING=300;hc.DEFAULT_ANISOTROPY=1;class Ab{constructor(a=0,b=0,c=
0,d=1){Ab.prototype.isVector4=!0;this.x=a;this.y=b;this.z=c;this.w=d}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this}setScalar(a){this.w=this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setW(a){this.w=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=
b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this}addVectors(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this}multiply(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=
a;this.w*=a;return this}applyMatrix4(a){const b=this.x,c=this.y,d=this.z,f=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*f;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*f;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*f;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*f;return this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this}setAxisAngleFromRotationMatrix(a){a=
a.elements;var b=a[0];var c=a[4];var d=a[8];const f=a[1];var h=a[5],l=a[9];var m=a[2];var n=a[6];var p=a[10];if(.01>Math.abs(c-f)&&.01>Math.abs(d-m)&&.01>Math.abs(l-n)){if(.1>Math.abs(c+f)&&.1>Math.abs(d+m)&&.1>Math.abs(l+n)&&.1>Math.abs(b+h+p-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;h=(h+1)/2;p=(p+1)/2;c=(c+f)/4;d=(d+m)/4;l=(l+n)/4;b>h&&b>p?.01>b?(n=0,c=m=.707106781):(n=Math.sqrt(b),m=c/n,c=d/n):h>p?.01>h?(n=.707106781,m=0,c=.707106781):(m=Math.sqrt(h),n=c/m,c=l/m):.01>p?(m=n=.707106781,
c=0):(c=Math.sqrt(p),n=d/c,m=l/c);this.set(n,m,c,a);return this}a=Math.sqrt((n-l)*(n-l)+(d-m)*(d-m)+(f-c)*(f-c));.001>Math.abs(a)&&(a=1);this.x=(n-l)/a;this.y=(d-m)/a;this.z=(f-c)/a;this.w=Math.acos((b+h+p-1)/2);return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this}clamp(a,b){this.x=
Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));this.w=Math.max(a,Math.min(b,this.w));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=
Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=Math.trunc(this.x);this.y=Math.trunc(this.y);this.z=Math.trunc(this.z);this.w=Math.trunc(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=
-this.z;this.w=-this.w;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*
b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;this.w=a.w+(b.w-a.w)*c;return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=
a.getW(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}class Qi extends Pc{constructor(a=1,b=1,c={}){super();this.isRenderTarget=!0;this.width=a;this.height=b;this.depth=1;this.scissor=new Ab(0,0,a,b);this.scissorTest=!1;this.viewport=new Ab(0,0,a,b);a={width:a,height:b,depth:1};void 0!==c.encoding&&(Nb("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),
c.colorSpace=3001===c.encoding?"srgb":"");c=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},c);this.texture=new hc(a,c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.colorSpace);this.texture.isRenderTargetTexture=!0;this.texture.flipY=!1;this.texture.generateMipmaps=c.generateMipmaps;this.texture.internalFormat=c.internalFormat;this.depthBuffer=c.depthBuffer;this.stencilBuffer=c.stencilBuffer;
this.depthTexture=c.depthTexture;this.samples=c.samples}setSize(a,b,c=1){if(this.width!==a||this.height!==b||this.depth!==c)this.width=a,this.height=b,this.depth=c,this.texture.image.width=a,this.texture.image.height=b,this.texture.image.depth=c,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)}clone(){return(new this.constructor).copy(this)}copy(a){this.width=a.width;this.height=a.height;this.depth=a.depth;this.scissor.copy(a.scissor);this.scissorTest=a.scissorTest;this.viewport.copy(a.viewport);
this.texture=a.texture.clone();this.texture.isRenderTargetTexture=!0;const b=Object.assign({},a.texture.image);this.texture.source=new Te(b);this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.samples=a.samples;return this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sb extends Qi{constructor(a=1,b=1,c={}){super(a,b,c);this.isWebGLRenderTarget=!0}}class xg extends hc{constructor(a=null,b=1,c=1,d=1){super(null);
this.isDataArrayTexture=!0;this.image={data:a,width:b,height:c,depth:d};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class lk extends Sb{constructor(a=1,b=1,c=1){super(a,b);this.isWebGLArrayRenderTarget=!0;this.depth=c;this.texture=new xg(null,a,b,c);this.texture.isRenderTargetTexture=!0}}class re extends hc{constructor(a=null,b=1,c=1,d=1){super(null);this.isData3DTexture=!0;this.image={data:a,width:b,height:c,depth:d};this.minFilter=
this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class If extends Sb{constructor(a=1,b=1,c=1){super(a,b);this.isWebGL3DRenderTarget=!0;this.depth=c;this.texture=new re(null,a,b,c);this.texture.isRenderTargetTexture=!0}}class Zd extends Sb{constructor(a=1,b=1,c=1,d={}){super(a,b,d);this.isWebGLMultipleRenderTargets=!0;a=this.texture;this.texture=[];for(b=0;b<c;b++)this.texture[b]=a.clone(),this.texture[b].isRenderTargetTexture=!0}setSize(a,b,c=1){if(this.width!==
a||this.height!==b||this.depth!==c){this.width=a;this.height=b;this.depth=c;for(let d=0,f=this.texture.length;d<f;d++)this.texture[d].image.width=a,this.texture[d].image.height=b,this.texture[d].image.depth=c;this.dispose()}this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)}copy(a){this.dispose();this.width=a.width;this.height=a.height;this.depth=a.depth;this.scissor.copy(a.scissor);this.scissorTest=a.scissorTest;this.viewport.copy(a.viewport);this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;
null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.texture.length=0;for(let b=0,c=a.texture.length;b<c;b++)this.texture[b]=a.texture[b].clone(),this.texture[b].isRenderTargetTexture=!0;return this}}class zc{constructor(a=0,b=0,c=0,d=1){this.isQuaternion=!0;this._x=a;this._y=b;this._z=c;this._w=d}static slerpFlat(a,b,c,d,f,h,l){let m=c[d+0],n=c[d+1],p=c[d+2];c=c[d+3];d=f[h+0];const r=f[h+1],t=f[h+2];f=f[h+3];if(0===l)a[b+0]=m,a[b+1]=n,a[b+2]=p,a[b+3]=c;else if(1===l)a[b+0]=d,a[b+
1]=r,a[b+2]=t,a[b+3]=f;else{if(c!==f||m!==d||n!==r||p!==t){h=1-l;var w=m*d+n*r+p*t+c*f,B=0<=w?1:-1,z=1-w*w;z>Number.EPSILON&&(z=Math.sqrt(z),w=Math.atan2(z,w*B),h=Math.sin(h*w)/z,l=Math.sin(l*w)/z);B*=l;m=m*h+d*B;n=n*h+r*B;p=p*h+t*B;c=c*h+f*B;h===1-l&&(l=1/Math.sqrt(m*m+n*n+p*p+c*c),m*=l,n*=l,p*=l,c*=l)}a[b]=m;a[b+1]=n;a[b+2]=p;a[b+3]=c}}static multiplyQuaternionsFlat(a,b,c,d,f,h){const l=c[d],m=c[d+1],n=c[d+2];c=c[d+3];d=f[h];const p=f[h+1],r=f[h+2];f=f[h+3];a[b]=l*f+c*d+m*r-n*p;a[b+1]=m*f+c*p+n*
d-l*r;a[b+2]=n*f+c*r+l*p-m*d;a[b+3]=c*f-l*d-m*p-n*r;return a}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a;this._onChangeCallback()}set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){this._x=
a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this}setFromEuler(a,b){var c=a._x,d=a._y,f=a._z;a=a._order;var h=Math.cos;const l=Math.sin,m=h(c/2),n=h(d/2);h=h(f/2);c=l(c/2);d=l(d/2);f=l(f/2);switch(a){case "XYZ":this._x=c*n*h+m*d*f;this._y=m*d*h-c*n*f;this._z=m*n*f+c*d*h;this._w=m*n*h-c*d*f;break;case "YXZ":this._x=c*n*h+m*d*f;this._y=m*d*h-c*n*f;this._z=m*n*f-c*d*h;this._w=m*n*h+c*d*f;break;case "ZXY":this._x=c*n*h-m*d*f;this._y=m*d*h+c*n*f;this._z=m*n*f+c*d*h;this._w=m*
n*h-c*d*f;break;case "ZYX":this._x=c*n*h-m*d*f;this._y=m*d*h+c*n*f;this._z=m*n*f-c*d*h;this._w=m*n*h+c*d*f;break;case "YZX":this._x=c*n*h+m*d*f;this._y=m*d*h+c*n*f;this._z=m*n*f-c*d*h;this._w=m*n*h-c*d*f;break;case "XZY":this._x=c*n*h-m*d*f;this._y=m*d*h-c*n*f;this._z=m*n*f+c*d*h;this._w=m*n*h+c*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}!1!==b&&this._onChangeCallback();return this}setFromAxisAngle(a,b){b/=2;const c=Math.sin(b);this._x=a.x*
c;this._y=a.y*c;this._z=a.z*c;this._w=Math.cos(b);this._onChangeCallback();return this}setFromRotationMatrix(a){var b=a.elements,c=b[0];a=b[4];const d=b[8],f=b[1],h=b[5],l=b[9],m=b[2],n=b[6];b=b[10];const p=c+h+b;0<p?(c=.5/Math.sqrt(p+1),this._w=.25/c,this._x=(n-l)*c,this._y=(d-m)*c,this._z=(f-a)*c):c>h&&c>b?(c=2*Math.sqrt(1+c-h-b),this._w=(n-l)/c,this._x=.25*c,this._y=(a+f)/c,this._z=(d+m)/c):h>b?(c=2*Math.sqrt(1+h-c-b),this._w=(d-m)/c,this._x=(a+f)/c,this._y=.25*c,this._z=(l+n)/c):(c=2*Math.sqrt(1+
b-c-h),this._w=(f-a)/c,this._x=(d+m)/c,this._y=(l+n)/c,this._z=.25*c);this._onChangeCallback();return this}setFromUnitVectors(a,b){let c=a.dot(b)+1;c<Number.EPSILON?(c=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*b.z-a.z*b.y,this._y=a.z*b.x-a.x*b.z,this._z=a.x*b.y-a.y*b.x);this._w=c;return this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(Za(this.dot(a),-1,1)))}rotateTowards(a,b){const c=this.angleTo(a);if(0===c)return this;
this.slerp(a,Math.min(1,b/c));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=this.length();0===a?(this._z=this._y=this._x=0,this._w=
1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();return this}multiply(a){return this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,b){const c=a._x,d=a._y,f=a._z;a=a._w;const h=b._x,l=b._y,m=b._z;b=b._w;this._x=c*b+a*h+d*m-f*l;this._y=d*b+a*l+f*h-c*m;this._z=f*b+a*m+c*l-d*h;this._w=a*b-c*h-d*l-f*m;this._onChangeCallback();return this}slerp(a,b){if(0===b)return this;if(1===b)return this.copy(a);const c=this._x,
d=this._y,f=this._z,h=this._w;var l=h*a._w+c*a._x+d*a._y+f*a._z;0>l?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,l=-l):this.copy(a);if(1<=l)return this._w=h,this._x=c,this._y=d,this._z=f,this;a=1-l*l;if(a<=Number.EPSILON)return l=1-b,this._w=l*h+b*this._w,this._x=l*c+b*this._x,this._y=l*d+b*this._y,this._z=l*f+b*this._z,this.normalize(),this._onChangeCallback(),this;a=Math.sqrt(a);const m=Math.atan2(a,l);l=Math.sin((1-b)*m)/a;b=Math.sin(b*m)/a;this._w=h*l+this._w*b;this._x=c*l+this._x*
b;this._y=d*l+this._y*b;this._z=f*l+this._z*b;this._onChangeCallback();return this}slerpQuaternions(a,b,c){return this.copy(a).slerp(b,c)}random(){var a=Math.random();const b=Math.sqrt(1-a);a=Math.sqrt(a);const c=2*Math.PI*Math.random(),d=2*Math.PI*Math.random();return this.set(b*Math.cos(c),a*Math.sin(d),a*Math.cos(d),b*Math.sin(c))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,b=0){this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this._onChangeCallback();
return this}toArray(a=[],b=0){a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a}fromBufferAttribute(a,b){this._x=a.getX(b);this._y=a.getY(b);this._z=a.getZ(b);this._w=a.getW(b);return this}toJSON(){return this.toArray()}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}class I{constructor(a=0,b=0,c=0){I.prototype.isVector3=!0;this.x=a;this.y=b;this.z=c}set(a,b,c){void 0===c&&(c=this.z);
this.x=a;this.y=b;this.z=c;return this}setScalar(a){this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,
this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this}multiply(a){this.x*=
a.x;this.y*=a.y;this.z*=a.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this}applyEuler(a){return this.applyQuaternion(mk.setFromEuler(a))}applyAxisAngle(a,b){return this.applyQuaternion(mk.setFromAxisAngle(a,b))}applyMatrix3(a){const b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const b=
this.x,c=this.y,d=this.z;a=a.elements;const f=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*f;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*f;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*f;return this}applyQuaternion(a){var b=this.x;const c=this.y,d=this.z,f=a.x,h=a.y,l=a.z;a=a.w;const m=a*b+h*d-l*c,n=a*c+l*b-f*d,p=a*d+f*c-h*b;b=-f*b-h*c-l*d;this.x=m*a+b*-f+n*-l-p*-h;this.y=n*a+b*-h+p*-f-m*-l;this.z=p*a+b*-l+m*-h-n*-f;return this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const b=
this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()}divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);
this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=Math.trunc(this.x);this.y=Math.trunc(this.y);this.z=Math.trunc(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;return this}cross(a){return this.crossVectors(this,a)}crossVectors(a,b){const c=a.x,d=a.y;a=a.z;const f=b.x,h=b.y;b=b.z;this.x=d*b-a*h;this.y=a*f-c*b;this.z=c*h-d*f;return this}projectOnVector(a){var b=
a.lengthSq();if(0===b)return this.set(0,0,0);b=a.dot(this)/b;return this.copy(a).multiplyScalar(b)}projectOnPlane(a){Ri.copy(this).projectOnVector(a);return this.sub(Ri)}reflect(a){return this.sub(Ri.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const b=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===b)return Math.PI/2;a=this.dot(a)/b;return Math.acos(Za(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*
b+c*c+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,b,c){const d=Math.sin(b)*a;this.x=d*Math.sin(c);this.y=Math.cos(b)*a;this.z=d*Math.cos(c);return this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,b,c){this.x=a*Math.sin(b);this.y=c;this.z=a*Math.cos(b);return this}setFromMatrixPosition(a){a=
a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}setFromMatrixScale(a){const b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this}setFromMatrixColumn(a,b){return this.fromArray(a.elements,4*b)}setFromMatrix3Column(a,b){return this.fromArray(a.elements,3*b)}setFromEuler(a){this.x=a._x;this.y=a._y;this.z=a._z;return this}setFromColor(a){this.x=a.r;this.y=a.g;this.z=a.b;return this}equals(a){return a.x===
this.x&&a.y===this.y&&a.z===this.z}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const a=2*(Math.random()-.5),b=Math.random()*Math.PI*2,c=Math.sqrt(1-Math.pow(a,2));this.x=c*Math.cos(b);this.y=c*Math.sin(b);this.z=a;return this}*[Symbol.iterator](){yield this.x;
yield this.y;yield this.z}}const Ri=new I,mk=new zc;class Ed{constructor(a=new I(Infinity,Infinity,Infinity),b=new I(-Infinity,-Infinity,-Infinity)){this.isBox3=!0;this.min=a;this.max=b}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromArray(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b+=3)this.expandByPoint(pd.fromArray(a,b));return this}setFromBufferAttribute(a){this.makeEmpty();for(let b=0,c=a.count;b<c;b++)this.expandByPoint(pd.fromBufferAttribute(a,b));return this}setFromPoints(a){this.makeEmpty();
for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=pd.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}setFromObject(a,b=!1){this.makeEmpty();return this.expandByObject(a,b)}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<
this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}expandByObject(a,b=!1){a.updateWorldMatrix(!1,!1);if(void 0!==a.boundingBox)null===
a.boundingBox&&a.computeBoundingBox(),Jf.copy(a.boundingBox),Jf.applyMatrix4(a.matrixWorld),this.union(Jf);else{var c=a.geometry;if(void 0!==c)if(b&&void 0!==c.attributes&&void 0!==c.attributes.position){c=c.attributes.position;for(let d=0,f=c.count;d<f;d++)pd.fromBufferAttribute(c,d).applyMatrix4(a.matrixWorld),this.expandByPoint(pd)}else null===c.boundingBox&&c.computeBoundingBox(),Jf.copy(c.boundingBox),Jf.applyMatrix4(a.matrixWorld),this.union(Jf)}a=a.children;for(let d=0,f=a.length;d<f;d++)this.expandByObject(a[d],
b);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,b){return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||
a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0}intersectsSphere(a){this.clampPoint(a.center,pd);return pd.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let b,c;0<a.normal.x?(b=a.normal.x*this.min.x,c=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,c=a.normal.x*this.min.x);0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*
this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(Ag);Hh.subVectors(this.max,Ag);te.subVectors(a.a,Ag);Ve.subVectors(a.b,Ag);We.subVectors(a.c,Ag);ue.subVectors(Ve,te);Fd.subVectors(We,Ve);Xe.subVectors(te,We);a=[0,-ue.z,ue.y,0,-Fd.z,Fd.y,0,-Xe.z,Xe.y,ue.z,0,-ue.x,Fd.z,0,-Fd.x,Xe.z,0,-Xe.x,-ue.y,ue.x,0,-Fd.y,Fd.x,0,-Xe.y,Xe.x,0];if(!td(a,te,Ve,We,Hh))return!1;a=[1,0,0,0,1,0,0,0,1];if(!td(a,
te,Ve,We,Hh))return!1;Bg.crossVectors(ue,Fd);a=[Bg.x,Bg.y,Bg.z];return td(a,te,Ve,We,Hh)}clampPoint(a,b){return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,pd).distanceTo(a)}getBoundingSphere(a){this.isEmpty()?a.makeEmpty():(this.getCenter(a.center),a.radius=.5*this.getSize(pd).length());return a}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}applyMatrix4(a){if(this.isEmpty())return this;
id[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);id[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a);id[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);id[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);id[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a);id[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);id[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);id[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a);this.setFromPoints(id);
return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const id=[new I,new I,new I,new I,new I,new I,new I,new I],pd=new I,Jf=new Ed,te=new I,Ve=new I,We=new I,ue=new I,Fd=new I,Xe=new I,Ag=new I,Hh=new I,Bg=new I,Ye=new I,zl=new Ed,Ih=new I,Gh=new I;class Tb{constructor(a=new I,b=-1){this.center=a;this.radius=b}set(a,b){this.center.copy(a);this.radius=b;return this}setFromPoints(a,b){const c=this.center;void 0!==b?c.copy(b):
zl.setFromPoints(a).getCenter(c);b=0;for(let d=0,f=a.length;d<f;d++)b=Math.max(b,c.distanceToSquared(a[d]));this.radius=Math.sqrt(b);return this}copy(a){this.center.copy(a.center);this.radius=a.radius;return this}isEmpty(){return 0>this.radius}makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const b=this.radius+a.radius;
return a.center.distanceToSquared(this.center)<=b*b}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,b){const c=this.center.distanceToSquared(a);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b}getBoundingBox(a){if(this.isEmpty())return a.makeEmpty(),a;a.set(this.center,this.center);a.expandByScalar(this.radius);return a}applyMatrix4(a){this.center.applyMatrix4(a);
this.radius*=a.getMaxScaleOnAxis();return this}translate(a){this.center.add(a);return this}expandByPoint(a){if(this.isEmpty())return this.center.copy(a),this.radius=0,this;Ih.subVectors(a,this.center);a=Ih.lengthSq();if(a>this.radius*this.radius){a=Math.sqrt(a);const b=.5*(a-this.radius);this.center.addScaledVector(Ih,b/a);this.radius+=b}return this}union(a){if(a.isEmpty())return this;if(this.isEmpty())return this.copy(a),this;!0===this.center.equals(a.center)?this.radius=Math.max(this.radius,a.radius):
(Gh.subVectors(a.center,this.center).setLength(a.radius),this.expandByPoint(Ih.copy(a.center).add(Gh)),this.expandByPoint(Ih.copy(a.center).sub(Gh)));return this}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ae=new I,Si=new I,Lh=new I,ce=new I,Ti=new I,Cg=new I,Ui=new I;class Ze{constructor(a=new I,b=new I(0,0,-1)){this.origin=a;this.direction=b}set(a,b){this.origin.copy(a);this.direction.copy(b);return this}copy(a){this.origin.copy(a.origin);
this.direction.copy(a.direction);return this}at(a,b){return b.copy(this.origin).addScaledVector(this.direction,a)}lookAt(a){this.direction.copy(a).sub(this.origin).normalize();return this}recast(a){this.origin.copy(this.at(a,ae));return this}closestPointToPoint(a,b){b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.origin).addScaledVector(this.direction,a)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const b=ae.subVectors(a,
this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(a);ae.copy(this.origin).addScaledVector(this.direction,b);return ae.distanceToSquared(a)}distanceSqToSegment(a,b,c,d){Si.copy(a).add(b).multiplyScalar(.5);Lh.copy(b).sub(a).normalize();ce.copy(this.origin).sub(Si);var f=.5*a.distanceTo(b),h=-this.direction.dot(Lh);const l=ce.dot(this.direction),m=-ce.dot(Lh),n=ce.lengthSq(),p=Math.abs(1-h*h);let r;0<p?(a=h*m-l,b=h*l-m,r=f*p,0<=a?b>=-r?b<=r?(f=1/p,a*=f,b*=f,h=a*(a+h*b+2*l)+
b*(h*a+b+2*m)+n):(b=f,a=Math.max(0,-(h*b+l)),h=-a*a+b*(b+2*m)+n):(b=-f,a=Math.max(0,-(h*b+l)),h=-a*a+b*(b+2*m)+n):b<=-r?(a=Math.max(0,-(-h*f+l)),b=0<a?-f:Math.min(Math.max(-f,-m),f),h=-a*a+b*(b+2*m)+n):b<=r?(a=0,b=Math.min(Math.max(-f,-m),f),h=b*(b+2*m)+n):(a=Math.max(0,-(h*f+l)),b=0<a?f:Math.min(Math.max(-f,-m),f),h=-a*a+b*(b+2*m)+n)):(b=0<h?-f:f,a=Math.max(0,-(h*b+l)),h=-a*a+b*(b+2*m)+n);c&&c.copy(this.origin).addScaledVector(this.direction,a);d&&d.copy(Si).addScaledVector(Lh,b);return h}intersectSphere(a,
b){ae.subVectors(a.center,this.origin);var c=ae.dot(this.direction),d=ae.dot(ae)-c*c;a=a.radius*a.radius;if(d>a)return null;a=Math.sqrt(a-d);d=c-a;c+=a;return 0>c?null:0>d?this.at(c,b):this.at(d,b)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null}intersectPlane(a,b){a=this.distanceToPlane(a);return null===
a?null:this.at(a,b)}intersectsPlane(a){const b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1}intersectBox(a,b){let c;var d=1/this.direction.x;var f=1/this.direction.y;const h=1/this.direction.z,l=this.origin;0<=d?(c=(a.min.x-l.x)*d,d*=a.max.x-l.x):(c=(a.max.x-l.x)*d,d*=a.min.x-l.x);if(0<=f){var m=(a.min.y-l.y)*f;f*=a.max.y-l.y}else m=(a.max.y-l.y)*f,f*=a.min.y-l.y;if(c>f||m>d)return null;if(m>c||isNaN(c))c=m;if(f<d||isNaN(d))d=f;0<=h?(m=(a.min.z-l.z)*h,a=(a.max.z-
l.z)*h):(m=(a.max.z-l.z)*h,a=(a.min.z-l.z)*h);if(c>a||m>d)return null;if(m>c||c!==c)c=m;if(a<d||d!==d)d=a;return 0>d?null:this.at(0<=c?c:d,b)}intersectsBox(a){return null!==this.intersectBox(a,ae)}intersectTriangle(a,b,c,d,f){Ti.subVectors(b,a);Cg.subVectors(c,a);Ui.crossVectors(Ti,Cg);b=this.direction.dot(Ui);if(0<b){if(d)return null;d=1}else if(0>b)d=-1,b=-b;else return null;ce.subVectors(this.origin,a);a=d*this.direction.dot(Cg.crossVectors(ce,Cg));if(0>a)return null;c=d*this.direction.dot(Ti.cross(ce));
if(0>c||a+c>b)return null;a=-d*ce.dot(Ui);return 0>a?null:this.at(a/b,f)}applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class kb{constructor(a,b,c,d,f,h,l,m,n,p,r,t,w,B,z,A){kb.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];void 0!==a&&this.set(a,b,c,d,f,h,l,m,n,p,r,t,w,B,z,A)}set(a,b,c,d,f,h,l,m,n,
p,r,t,w,B,z,A){const v=this.elements;v[0]=a;v[4]=b;v[8]=c;v[12]=d;v[1]=f;v[5]=h;v[9]=l;v[13]=m;v[2]=n;v[6]=p;v[10]=r;v[14]=t;v[3]=w;v[7]=B;v[11]=z;v[15]=A;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new kb).fromArray(this.elements)}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this}copyPosition(a){const b=
this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this}setFromMatrix3(a){a=a.elements;this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1);return this}extractBasis(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this}makeBasis(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this}extractRotation(a){const b=this.elements,c=a.elements,d=1/Lf.setFromMatrixColumn(a,0).length(),f=1/Lf.setFromMatrixColumn(a,
1).length();a=1/Lf.setFromMatrixColumn(a,2).length();b[0]=c[0]*d;b[1]=c[1]*d;b[2]=c[2]*d;b[3]=0;b[4]=c[4]*f;b[5]=c[5]*f;b[6]=c[6]*f;b[7]=0;b[8]=c[8]*a;b[9]=c[9]*a;b[10]=c[10]*a;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromEuler(a){const b=this.elements;var c=a.x,d=a.y,f=a.z;const h=Math.cos(c);c=Math.sin(c);const l=Math.cos(d);d=Math.sin(d);const m=Math.cos(f);f=Math.sin(f);if("XYZ"===a.order){a=h*m;var n=h*f,p=c*m,r=c*f;b[0]=l*m;b[4]=-l*f;b[8]=d;b[1]=n+p*d;b[5]=a-r*d;b[9]=
-c*l;b[2]=r-a*d;b[6]=p+n*d;b[10]=h*l}else"YXZ"===a.order?(a=l*m,n=l*f,p=d*m,r=d*f,b[0]=a+r*c,b[4]=p*c-n,b[8]=h*d,b[1]=h*f,b[5]=h*m,b[9]=-c,b[2]=n*c-p,b[6]=r+a*c,b[10]=h*l):"ZXY"===a.order?(a=l*m,n=l*f,p=d*m,r=d*f,b[0]=a-r*c,b[4]=-h*f,b[8]=p+n*c,b[1]=n+p*c,b[5]=h*m,b[9]=r-a*c,b[2]=-h*d,b[6]=c,b[10]=h*l):"ZYX"===a.order?(a=h*m,n=h*f,p=c*m,r=c*f,b[0]=l*m,b[4]=p*d-n,b[8]=a*d+r,b[1]=l*f,b[5]=r*d+a,b[9]=n*d-p,b[2]=-d,b[6]=c*l,b[10]=h*l):"YZX"===a.order?(a=h*l,n=h*d,p=c*l,r=c*d,b[0]=l*m,b[4]=r-a*f,b[8]=
p*f+n,b[1]=f,b[5]=h*m,b[9]=-c*m,b[2]=-d*m,b[6]=n*f+p,b[10]=a-r*f):"XZY"===a.order&&(a=h*l,n=h*d,p=c*l,r=c*d,b[0]=l*m,b[4]=-f,b[8]=d*m,b[1]=a*f+r,b[5]=h*m,b[9]=n*f-p,b[2]=p*f-n,b[6]=c*m,b[10]=r*f+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromQuaternion(a){return this.compose(Bl,a,Al)}lookAt(a,b,c){const d=this.elements;Rc.subVectors(a,b);0===Rc.lengthSq()&&(Rc.z=1);Rc.normalize();ve.crossVectors(c,Rc);0===ve.lengthSq()&&(1===Math.abs(c.z)?Rc.x+=1E-4:Rc.z+=1E-4,
Rc.normalize(),ve.crossVectors(c,Rc));ve.normalize();Dg.crossVectors(Rc,ve);d[0]=ve.x;d[4]=Dg.x;d[8]=Rc.x;d[1]=ve.y;d[5]=Dg.y;d[9]=Rc.y;d[2]=ve.z;d[6]=Dg.z;d[10]=Rc.z;return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];const f=c[4],h=c[8],l=c[12],m=c[1],n=c[5],p=c[9],r=c[13],t=c[2],w=c[6],B=c[10],z=c[14],A=c[3],v=c[7],G=c[11];c=c[15];const J=d[0],O=d[4],K=d[8],P=
d[12],ba=d[1],ca=d[5],U=d[9],pa=d[13],X=d[2],za=d[6],ta=d[10],xa=d[14],ya=d[3],Ca=d[7],Wa=d[11];d=d[15];b[0]=a*J+f*ba+h*X+l*ya;b[4]=a*O+f*ca+h*za+l*Ca;b[8]=a*K+f*U+h*ta+l*Wa;b[12]=a*P+f*pa+h*xa+l*d;b[1]=m*J+n*ba+p*X+r*ya;b[5]=m*O+n*ca+p*za+r*Ca;b[9]=m*K+n*U+p*ta+r*Wa;b[13]=m*P+n*pa+p*xa+r*d;b[2]=t*J+w*ba+B*X+z*ya;b[6]=t*O+w*ca+B*za+z*Ca;b[10]=t*K+w*U+B*ta+z*Wa;b[14]=t*P+w*pa+B*xa+z*d;b[3]=A*J+v*ba+G*X+c*ya;b[7]=A*O+v*ca+G*za+c*Ca;b[11]=A*K+v*U+G*ta+c*Wa;b[15]=A*P+v*pa+G*xa+c*d;return this}multiplyScalar(a){const b=
this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this}determinant(){const a=this.elements,b=a[0],c=a[4],d=a[8],f=a[12],h=a[1],l=a[5],m=a[9],n=a[13],p=a[2],r=a[6],t=a[10],w=a[14];return a[3]*(+f*m*r-d*n*r-f*l*t+c*n*t+d*l*w-c*m*w)+a[7]*(+b*m*w-b*n*t+f*h*t-d*h*w+d*n*p-f*m*p)+a[11]*(+b*n*r-b*l*w-f*h*r+c*h*w+f*l*p-c*n*p)+a[15]*(-d*l*p-b*m*r+b*l*t+d*h*r-c*h*t+c*m*p)}transpose(){const a=this.elements;
let b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this}setPosition(a,b,c){const d=this.elements;a.isVector3?(d[12]=a.x,d[13]=a.y,d[14]=a.z):(d[12]=a,d[13]=b,d[14]=c);return this}invert(){const a=this.elements,b=a[0],c=a[1],d=a[2],f=a[3],h=a[4],l=a[5],m=a[6],n=a[7],p=a[8],r=a[9],t=a[10],w=a[11],B=a[12],z=a[13],A=a[14],v=a[15],G=r*A*n-z*t*n+z*m*w-l*A*w-r*m*v+l*t*v,J=B*t*n-p*A*n-B*m*w+h*
A*w+p*m*v-h*t*v,O=p*z*n-B*r*n+B*l*w-h*z*w-p*l*v+h*r*v,K=B*r*m-p*z*m-B*l*t+h*z*t+p*l*A-h*r*A;var P=b*G+c*J+d*O+f*K;if(0===P)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);P=1/P;a[0]=G*P;a[1]=(z*t*f-r*A*f-z*d*w+c*A*w+r*d*v-c*t*v)*P;a[2]=(l*A*f-z*m*f+z*d*n-c*A*n-l*d*v+c*m*v)*P;a[3]=(r*m*f-l*t*f-r*d*n+c*t*n+l*d*w-c*m*w)*P;a[4]=J*P;a[5]=(p*A*f-B*t*f+B*d*w-b*A*w-p*d*v+b*t*v)*P;a[6]=(B*m*f-h*A*f-B*d*n+b*A*n+h*d*v-b*m*v)*P;a[7]=(h*t*f-p*m*f+p*d*n-b*t*n-h*d*w+b*m*w)*P;a[8]=O*P;a[9]=(B*r*f-p*z*f-B*c*w+b*
z*w+p*c*v-b*r*v)*P;a[10]=(h*z*f-B*l*f+B*c*n-b*z*n-h*c*v+b*l*v)*P;a[11]=(p*l*f-h*r*f-p*c*n+b*r*n+h*c*w-b*l*w)*P;a[12]=K*P;a[13]=(p*z*d-B*r*d+B*c*t-b*z*t-p*c*A+b*r*A)*P;a[14]=(B*l*d-h*z*d-B*c*m+b*z*m+h*c*A-b*l*A)*P;a[15]=(h*r*d-p*l*d+p*c*m-b*r*m-h*c*t+b*l*t)*P;return this}scale(a){const b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*
a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,b,c){a.isVector3?this.set(1,0,0,a.x,0,1,0,a.y,0,0,1,a.z,0,0,0,1):this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this}makeRotationX(a){const b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this}makeRotationY(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this}makeRotationZ(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,-a,
0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(a,b){const c=Math.cos(b);b=Math.sin(b);const d=1-c,f=a.x,h=a.y;a=a.z;const l=d*f,m=d*h;this.set(l*f+c,l*h-b*a,l*a+b*h,0,l*h+b*a,m*h+c,m*a-b*f,0,l*a-b*h,m*a+b*f,d*a*a+c,0,0,0,0,1);return this}makeScale(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this}makeShear(a,b,c,d,f,h){this.set(1,c,f,0,a,1,h,0,b,d,1,0,0,0,0,1);return this}compose(a,b,c){const d=this.elements;var f=b._x,h=b._y,l=b._z,m=b._w,n=f+f,p=h+h,r=l+l;b=f*n;const t=f*p;
f*=r;const w=h*p;h*=r;l*=r;n*=m;p*=m;m*=r;r=c.x;const B=c.y;c=c.z;d[0]=(1-(w+l))*r;d[1]=(t+m)*r;d[2]=(f-p)*r;d[3]=0;d[4]=(t-m)*B;d[5]=(1-(b+l))*B;d[6]=(h+n)*B;d[7]=0;d[8]=(f+p)*c;d[9]=(h-n)*c;d[10]=(1-(b+w))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this}decompose(a,b,c){var d=this.elements;let f=Lf.set(d[0],d[1],d[2]).length();const h=Lf.set(d[4],d[5],d[6]).length(),l=Lf.set(d[8],d[9],d[10]).length();0>this.determinant()&&(f=-f);a.x=d[12];a.y=d[13];a.z=d[14];jc.copy(this);a=1/f;d=1/
h;const m=1/l;jc.elements[0]*=a;jc.elements[1]*=a;jc.elements[2]*=a;jc.elements[4]*=d;jc.elements[5]*=d;jc.elements[6]*=d;jc.elements[8]*=m;jc.elements[9]*=m;jc.elements[10]*=m;b.setFromRotationMatrix(jc);c.x=f;c.y=h;c.z=l;return this}makePerspective(a,b,c,d,f,h,l=2E3){const m=this.elements;if(2E3===l)l=-(h+f)/(h-f),h=-2*h*f/(h-f);else if(2001===l)l=-h/(h-f),h=-h*f/(h-f);else throw Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);m[0]=2*f/(b-a);m[4]=0;m[8]=(b+a)/(b-a);m[12]=
0;m[1]=0;m[5]=2*f/(c-d);m[9]=(c+d)/(c-d);m[13]=0;m[2]=0;m[6]=0;m[10]=l;m[14]=h;m[3]=0;m[7]=0;m[11]=-1;m[15]=0;return this}makeOrthographic(a,b,c,d,f,h,l=2E3){const m=this.elements,n=1/(b-a),p=1/(c-d);var r=1/(h-f);if(2E3===l)f=(h+f)*r,r*=-2;else if(2001===l)f*=r,r*=-1;else throw Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);m[0]=2*n;m[4]=0;m[8]=0;m[12]=-((b+a)*n);m[1]=0;m[5]=2*p;m[9]=0;m[13]=-((c+d)*p);m[2]=0;m[6]=0;m[10]=r;m[14]=-f;m[3]=0;m[7]=0;m[11]=0;m[15]=1;return this}equals(a){const b=
this.elements;a=a.elements;for(let c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b=0){for(let c=0;16>c;c++)this.elements[c]=a[c+b];return this}toArray(a=[],b=0){const c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}}const Lf=new I,jc=new kb,Bl=new I(0,0,0),Al=new I(1,1,1),ve=new I,Dg=new I,Rc=new I,be=new kb,
Eg=new zc;class Wi{constructor(a=0,b=0,c=0,d=Wi.DEFAULT_ORDER){this.isEuler=!0;this._x=a;this._y=b;this._z=c;this._order=d}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a;this._onChangeCallback()}set(a,b,c,d=this._order){this._x=a;this._y=b;this._z=c;this._order=d;this._onChangeCallback();
return this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();return this}setFromRotationMatrix(a,b=this._order,c=!0){var d=a.elements;a=d[0];const f=d[4],h=d[8],l=d[1],m=d[5],n=d[9],p=d[2],r=d[6];d=d[10];switch(b){case "XYZ":this._y=Math.asin(Za(h,-1,1));.9999999>Math.abs(h)?(this._x=Math.atan2(-n,d),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(r,m),this._z=0);break;case "YXZ":this._x=
Math.asin(-Za(n,-1,1));.9999999>Math.abs(n)?(this._y=Math.atan2(h,d),this._z=Math.atan2(l,m)):(this._y=Math.atan2(-p,a),this._z=0);break;case "ZXY":this._x=Math.asin(Za(r,-1,1));.9999999>Math.abs(r)?(this._y=Math.atan2(-p,d),this._z=Math.atan2(-f,m)):(this._y=0,this._z=Math.atan2(l,a));break;case "ZYX":this._y=Math.asin(-Za(p,-1,1));.9999999>Math.abs(p)?(this._x=Math.atan2(r,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-f,m));break;case "YZX":this._z=Math.asin(Za(l,-1,1));.9999999>Math.abs(l)?
(this._x=Math.atan2(-n,m),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(h,d));break;case "XZY":this._z=Math.asin(-Za(f,-1,1));.9999999>Math.abs(f)?(this._x=Math.atan2(r,m),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-n,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+b)}this._order=b;!0===c&&this._onChangeCallback();return this}setFromQuaternion(a,b,c){be.makeRotationFromQuaternion(a);return this.setFromRotationMatrix(be,b,
c)}setFromVector3(a,b=this._order){return this.set(a.x,a.y,a.z,b)}reorder(a){Eg.setFromEuler(this);return this.setFromQuaternion(Eg,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this}toArray(a=[],b=0){a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;
yield this._y;yield this._z;yield this._order}}Wi.DEFAULT_ORDER="XYZ";class Zi{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask=this.mask|1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!==(this.mask&a.mask)}isEnabled(a){return 0!==(this.mask&(1<<a|0))}}let pk=0;const $i=new I,Nf=new zc,de=new kb,Mh=new I,Nh=new I,tm=new I,Cl=new zc,qk=new I(1,0,0),rk=new I(0,1,0),sk=new I(0,0,1),Dl={type:"added"},
tk={type:"removed"};class wb extends Pc{constructor(){super();this.isObject3D=!0;Object.defineProperty(this,"id",{value:pk++});this.uuid=Oa();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=wb.DEFAULT_UP.clone();const a=new I,b=new Wi,c=new zc,d=new I(1,1,1);b._onChange(function(){c.setFromEuler(b,!1)});c._onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,
value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new kb},normalMatrix:{value:new nb}});this.matrix=new kb;this.matrixWorld=new kb;this.matrixAutoUpdate=wb.DEFAULT_MATRIX_AUTO_UPDATE;this.matrixWorldNeedsUpdate=!1;this.matrixWorldAutoUpdate=wb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE;this.layers=new Zi;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.animations=[];this.userData=
{}}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(a){this.quaternion.premultiply(a);return this}setRotationFromAxisAngle(a,b){this.quaternion.setFromAxisAngle(a,b)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,
b){Nf.setFromAxisAngle(a,b);this.quaternion.multiply(Nf);return this}rotateOnWorldAxis(a,b){Nf.setFromAxisAngle(a,b);this.quaternion.premultiply(Nf);return this}rotateX(a){return this.rotateOnAxis(qk,a)}rotateY(a){return this.rotateOnAxis(rk,a)}rotateZ(a){return this.rotateOnAxis(sk,a)}translateOnAxis(a,b){$i.copy(a).applyQuaternion(this.quaternion);this.position.add($i.multiplyScalar(b));return this}translateX(a){return this.translateOnAxis(qk,a)}translateY(a){return this.translateOnAxis(rk,a)}translateZ(a){return this.translateOnAxis(sk,
a)}localToWorld(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(de.copy(this.matrixWorld).invert())}lookAt(a,b,c){a.isVector3?Mh.copy(a):Mh.set(a,b,c);a=this.parent;this.updateWorldMatrix(!0,!1);Nh.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?de.lookAt(Nh,Mh,this.up):de.lookAt(Mh,Nh,this.up);this.quaternion.setFromRotationMatrix(de);a&&(de.extractRotation(a.matrixWorld),Nf.setFromRotationMatrix(de),
this.quaternion.premultiply(Nf.invert()))}add(a){if(1<arguments.length){for(let b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(Dl)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this}remove(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);
return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,this.children.splice(b,1),a.dispatchEvent(tk));return this}removeFromParent(){const a=this.parent;null!==a&&a.remove(this);return this}clear(){return this.remove(...this.children)}attach(a){this.updateWorldMatrix(!0,!1);de.copy(this.matrixWorld).invert();null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),de.multiply(a.parent.matrixWorld));a.applyMatrix4(de);this.add(a);a.updateWorldMatrix(!1,!0);return this}getObjectById(a){return this.getObjectByProperty("id",
a)}getObjectByName(a){return this.getObjectByProperty("name",a)}getObjectByProperty(a,b){if(this[a]===b)return this;for(let c=0,d=this.children.length;c<d;c++){const f=this.children[c].getObjectByProperty(a,b);if(void 0!==f)return f}}getObjectsByProperty(a,b){let c=[];this[a]===b&&c.push(this);for(let d=0,f=this.children.length;d<f;d++){const h=this.children[d].getObjectsByProperty(a,b);0<h.length&&(c=c.concat(h))}return c}getWorldPosition(a){this.updateWorldMatrix(!0,!1);return a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){this.updateWorldMatrix(!0,
!1);this.matrixWorld.decompose(Nh,a,tm);return a}getWorldScale(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(Nh,Cl,a);return a}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()}raycast(){}traverse(a){a(this);const b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].traverse(a)}traverseVisible(a){if(!1!==this.visible){a(this);var b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}}traverseAncestors(a){const b=
this.parent;null!==b&&(a(b),b.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;const b=this.children;for(let c=0,d=b.length;c<d;c++){const f=b[c];!0!==f.matrixWorldAutoUpdate&&
!0!==a||f.updateMatrixWorld(a)}}updateWorldMatrix(a,b){const c=this.parent;!0===a&&null!==c&&!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===b){a=this.children;for(let d=0,f=a.length;d<f;d++)b=a[d],!0===b.matrixWorldAutoUpdate&&b.updateWorldMatrix(!1,!0)}}toJSON(a){function b(m,n){void 0===m[n.uuid]&&(m[n.uuid]=n.toJSON(a));
return n.uuid}function c(m){const n=[];for(const p in m){const r=m[p];delete r.metadata;n.push(r)}return n}var d=void 0===a||"string"===typeof a;const f={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},f.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const h={};h.uuid=this.uuid;h.type=this.type;""!==this.name&&(h.name=this.name);!0===this.castShadow&&(h.castShadow=!0);!0===this.receiveShadow&&(h.receiveShadow=!0);!1===this.visible&&
(h.visible=!1);!1===this.frustumCulled&&(h.frustumCulled=!1);0!==this.renderOrder&&(h.renderOrder=this.renderOrder);0<Object.keys(this.userData).length&&(h.userData=this.userData);h.layers=this.layers.mask;h.matrix=this.matrix.toArray();h.up=this.up.toArray();!1===this.matrixAutoUpdate&&(h.matrixAutoUpdate=!1);this.isInstancedMesh&&(h.type="InstancedMesh",h.count=this.count,h.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(h.instanceColor=this.instanceColor.toJSON()));if(this.isScene)this.background&&
(this.background.isColor?h.background=this.background.toJSON():this.background.isTexture&&(h.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(h.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){h.geometry=b(a.geometries,this.geometry);var l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes)if(l=l.shapes,Array.isArray(l))for(let m=0,n=l.length;m<n;m++)b(a.shapes,
l[m]);else b(a.shapes,l)}this.isSkinnedMesh&&(h.bindMode=this.bindMode,h.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(b(a.skeletons,this.skeleton),h.skeleton=this.skeleton.uuid));if(void 0!==this.material)if(Array.isArray(this.material)){l=[];for(let m=0,n=this.material.length;m<n;m++)l.push(b(a.materials,this.material[m]));h.material=l}else h.material=b(a.materials,this.material);if(0<this.children.length)for(h.children=[],l=0;l<this.children.length;l++)h.children.push(this.children[l].toJSON(a).object);
if(0<this.animations.length)for(h.animations=[],l=0;l<this.animations.length;l++)h.animations.push(b(a.animations,this.animations[l]));if(d){d=c(a.geometries);l=c(a.materials);const m=c(a.textures),n=c(a.images),p=c(a.shapes),r=c(a.skeletons),t=c(a.animations),w=c(a.nodes);0<d.length&&(f.geometries=d);0<l.length&&(f.materials=l);0<m.length&&(f.textures=m);0<n.length&&(f.images=n);0<p.length&&(f.shapes=p);0<r.length&&(f.skeletons=r);0<t.length&&(f.animations=t);0<w.length&&(f.nodes=w)}f.object=h;return f}clone(a){return(new this.constructor).copy(this,
a)}copy(a,b=!0){this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.rotation.order=a.rotation.order;this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.matrixWorldAutoUpdate=a.matrixWorldAutoUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;
this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.animations=a.animations.slice();this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}}wb.DEFAULT_UP=new I(0,1,0);wb.DEFAULT_MATRIX_AUTO_UPDATE=!0;wb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const qd=new I,Hd=new I,dj=new I,we=new I,Id=new I,Ac=new I,se=new I,$d=new I,Hg=new I,ad=new I;let Qh=!1;class Bc{constructor(a=new I,b=new I,c=new I){this.a=
a;this.b=b;this.c=c}static getNormal(a,b,c,d){d.subVectors(c,b);qd.subVectors(a,b);d.cross(qd);a=d.lengthSq();return 0<a?d.multiplyScalar(1/Math.sqrt(a)):d.set(0,0,0)}static getBarycoord(a,b,c,d,f){qd.subVectors(d,b);Hd.subVectors(c,b);dj.subVectors(a,b);a=qd.dot(qd);b=qd.dot(Hd);c=qd.dot(dj);var h=Hd.dot(Hd);d=Hd.dot(dj);var l=a*h-b*b;if(0===l)return f.set(-2,-1,-1);l=1/l;h=(h*c-b*d)*l;a=(a*d-b*c)*l;return f.set(1-h-a,a,h)}static containsPoint(a,b,c,d){this.getBarycoord(a,b,c,d,we);return 0<=we.x&&
0<=we.y&&1>=we.x+we.y}static getUV(a,b,c,d,f,h,l,m){!1===Qh&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Qh=!0);return this.getInterpolation(a,b,c,d,f,h,l,m)}static getInterpolation(a,b,c,d,f,h,l,m){this.getBarycoord(a,b,c,d,we);m.setScalar(0);m.addScaledVector(f,we.x);m.addScaledVector(h,we.y);m.addScaledVector(l,we.z);return m}static isFrontFacing(a,b,c,d){qd.subVectors(c,b);Hd.subVectors(a,b);return 0>qd.cross(Hd).dot(d)?!0:!1}set(a,b,c){this.a.copy(a);
this.b.copy(b);this.c.copy(c);return this}setFromPointsAndIndices(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this}setFromAttributeAndIndices(a,b,c,d){this.a.fromBufferAttribute(a,b);this.b.fromBufferAttribute(a,c);this.c.fromBufferAttribute(a,d);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this}getArea(){qd.subVectors(this.c,this.b);Hd.subVectors(this.a,this.b);return.5*qd.cross(Hd).length()}getMidpoint(a){return a.addVectors(this.a,
this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return Bc.getNormal(this.a,this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,b){return Bc.getBarycoord(a,this.a,this.b,this.c,b)}getUV(a,b,c,d,f){!1===Qh&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Qh=!0);return Bc.getInterpolation(a,this.a,this.b,this.c,b,c,d,f)}getInterpolation(a,b,c,d,f){return Bc.getInterpolation(a,this.a,this.b,this.c,b,c,d,f)}containsPoint(a){return Bc.containsPoint(a,
this.a,this.b,this.c)}isFrontFacing(a){return Bc.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,b){const c=this.a;var d=this.b,f=this.c;Id.subVectors(d,c);Ac.subVectors(f,c);$d.subVectors(a,c);var h=Id.dot($d),l=Ac.dot($d);if(0>=h&&0>=l)return b.copy(c);Hg.subVectors(a,d);const m=Id.dot(Hg),n=Ac.dot(Hg);if(0<=m&&n<=m)return b.copy(d);var p=h*n-m*l;if(0>=p&&0<=h&&0>=m)return d=h/(h-m),b.copy(c).addScaledVector(Id,d);ad.subVectors(a,f);
a=Id.dot(ad);const r=Ac.dot(ad);if(0<=r&&a<=r)return b.copy(f);h=a*l-h*r;if(0>=h&&0<=l&&0>=r)return p=l/(l-r),b.copy(c).addScaledVector(Ac,p);l=m*r-a*n;if(0>=l&&0<=n-m&&0<=a-r)return se.subVectors(f,d),p=(n-m)/(n-m+(a-r)),b.copy(d).addScaledVector(se,p);f=1/(l+h+p);d=h*f;p*=f;return b.copy(c).addScaledVector(Id,d).addScaledVector(Ac,p)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}let wk=0;class Sc extends Pc{constructor(){super();this.isMaterial=!0;Object.defineProperty(this,
"id",{value:wk++});this.uuid=Oa();this.name="";this.type="Material";this.blending=1;this.side=0;this.vertexColors=!1;this.opacity=1;this.alphaHash=this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=519;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=7680;this.stencilWrite=
!1;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.forceSinglePass=this.premultipliedAlpha=this.alphaToCoverage=this.dithering=!1;this.toneMapped=this.visible=!0;this.userData={};this._alphaTest=this.version=0}get alphaTest(){return this._alphaTest}set alphaTest(a){0<this._alphaTest!==0<a&&this.version++;this._alphaTest=a}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(void 0!==
a)for(const b in a){const c=a[b];if(void 0===c){console.warn(`THREE.Material: parameter '${b}' has value of undefined.`);continue}const d=this[b];void 0===d?console.warn(`THREE.Material: '${b}' is not a property of THREE.${this.type}.`):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]=c}}toJSON(a){function b(f){const h=[];for(const l in f){const m=f[l];delete m.metadata;h.push(m)}return h}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},images:{}});const d={metadata:{version:4.6,
type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);void 0!==this.sheen&&(d.sheen=this.sheen);this.sheenColor&&this.sheenColor.isColor&&(d.sheenColor=this.sheenColor.getHex());void 0!==this.sheenRoughness&&(d.sheenRoughness=this.sheenRoughness);this.emissive&&this.emissive.isColor&&
(d.emissive=this.emissive.getHex());this.emissiveIntensity&&1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.specularIntensity&&(d.specularIntensity=this.specularIntensity);this.specularColor&&this.specularColor.isColor&&(d.specularColor=this.specularColor.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&
(d.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid);this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray());void 0!==this.iridescence&&(d.iridescence=
this.iridescence);void 0!==this.iridescenceIOR&&(d.iridescenceIOR=this.iridescenceIOR);void 0!==this.iridescenceThicknessRange&&(d.iridescenceThicknessRange=this.iridescenceThicknessRange);this.iridescenceMap&&this.iridescenceMap.isTexture&&(d.iridescenceMap=this.iridescenceMap.toJSON(a).uuid);this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(d.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid);void 0!==this.anisotropy&&(d.anisotropy=this.anisotropy);void 0!==
this.anisotropyRotation&&(d.anisotropyRotation=this.anisotropyRotation);this.anisotropyMap&&this.anisotropyMap.isTexture&&(d.anisotropyMap=this.anisotropyMap.toJSON(a).uuid);this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid,d.lightMapIntensity=this.lightMapIntensity);
this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=
this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.specularIntensityMap&&this.specularIntensityMap.isTexture&&
(d.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid);this.specularColorMap&&this.specularColorMap.isTexture&&(d.specularColorMap=this.specularColorMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,void 0!==this.combine&&(d.combine=this.combine));void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity);void 0!==this.reflectivity&&(d.reflectivity=this.reflectivity);void 0!==this.refractionRatio&&(d.refractionRatio=this.refractionRatio);
this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.transmission&&(d.transmission=this.transmission);this.transmissionMap&&this.transmissionMap.isTexture&&(d.transmissionMap=this.transmissionMap.toJSON(a).uuid);void 0!==this.thickness&&(d.thickness=this.thickness);this.thicknessMap&&this.thicknessMap.isTexture&&(d.thicknessMap=this.thicknessMap.toJSON(a).uuid);void 0!==this.attenuationDistance&&Infinity!==this.attenuationDistance&&(d.attenuationDistance=
this.attenuationDistance);void 0!==this.attenuationColor&&(d.attenuationColor=this.attenuationColor.getHex());void 0!==this.size&&(d.size=this.size);null!==this.shadowSide&&(d.shadowSide=this.shadowSide);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(d.blending=this.blending);0!==this.side&&(d.side=this.side);!0===this.vertexColors&&(d.vertexColors=!0);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=!0);d.depthFunc=this.depthFunc;
d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;d.colorWrite=this.colorWrite;d.stencilWrite=this.stencilWrite;d.stencilWriteMask=this.stencilWriteMask;d.stencilFunc=this.stencilFunc;d.stencilRef=this.stencilRef;d.stencilFuncMask=this.stencilFuncMask;d.stencilFail=this.stencilFail;d.stencilZFail=this.stencilZFail;d.stencilZPass=this.stencilZPass;void 0!==this.rotation&&0!==this.rotation&&(d.rotation=this.rotation);!0===this.polygonOffset&&(d.polygonOffset=!0);0!==this.polygonOffsetFactor&&
(d.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits);void 0!==this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==this.gapSize&&(d.gapSize=this.gapSize);void 0!==this.scale&&(d.scale=this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.alphaHash&&(d.alphaHash=!0);!0===this.alphaToCoverage&&(d.alphaToCoverage=
!0);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=!0);!0===this.forceSinglePass&&(d.forceSinglePass=!0);!0===this.wireframe&&(d.wireframe=!0);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);!0===this.flatShading&&(d.flatShading=!0);!1===this.visible&&(d.visible=!1);!1===this.toneMapped&&(d.toneMapped=!1);!1===this.fog&&
(d.fog=!1);0<Object.keys(this.userData).length&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d}clone(){return(new this.constructor).copy(this)}copy(a){this.name=a.name;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=
a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;const b=a.clippingPlanes;let c=null;if(null!==b){const d=b.length;c=Array(d);for(let f=
0;f!==d;++f)c[f]=b[f].clone()}this.clippingPlanes=c;this.clipIntersection=a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.alphaHash=a.alphaHash;this.alphaToCoverage=a.alphaToCoverage;this.premultipliedAlpha=a.premultipliedAlpha;
this.forceSinglePass=a.forceSinglePass;this.visible=a.visible;this.toneMapped=a.toneMapped;this.userData=JSON.parse(JSON.stringify(a.userData));return this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){!0===a&&this.version++}}const yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,
chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,
dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,
lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,
midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,
salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ye={h:0,s:0,l:0},Kf={h:0,s:0,l:0};class Ma{constructor(a,b,c){this.isColor=!0;this.b=this.g=this.r=
1;return this.set(a,b,c)}set(a,b,c){void 0===b&&void 0===c?a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a):this.setRGB(a,b,c);return this}setScalar(a){this.b=this.g=this.r=a;return this}setHex(a,b="srgb"){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;Db.toWorkingColorSpace(this,b);return this}setRGB(a,b,c,d=Db.workingColorSpace){this.r=a;this.g=b;this.b=c;Db.toWorkingColorSpace(this,d);return this}setHSL(a,b,c,d=
Db.workingColorSpace){a=Pb(a,1);b=Za(b,0,1);c=Za(c,0,1);0===b?this.r=this.g=this.b=c:(b=.5>=c?c*(1+b):c+b-c*b,c=2*c-b,this.r=ld(c,b,a+1/3),this.g=ld(c,b,a),this.b=ld(c,b,a-1/3));Db.toWorkingColorSpace(this,d);return this}setStyle(a,b="srgb"){function c(h){void 0!==h&&1>parseFloat(h)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var d;if(d=/^(\w+)\(([^\)]*)\)/.exec(a)){var f=d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return c(d[4]),
this.setRGB(Math.min(255,parseInt(d[1],10))/255,Math.min(255,parseInt(d[2],10))/255,Math.min(255,parseInt(d[3],10))/255,b);if(d=/^\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return c(d[4]),this.setRGB(Math.min(100,parseInt(d[1],10))/100,Math.min(100,parseInt(d[2],10))/100,Math.min(100,parseInt(d[3],10))/100,b);break;case "hsl":case "hsla":if(d=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return c(d[4]),this.setHSL(parseFloat(d[1])/
360,parseFloat(d[2])/100,parseFloat(d[3])/100,b);break;default:console.warn("THREE.Color: Unknown color model "+a)}}else if(d=/^#([A-Fa-f\d]+)$/.exec(a)){f=d[1];d=f.length;if(3===d)return this.setRGB(parseInt(f.charAt(0),16)/15,parseInt(f.charAt(1),16)/15,parseInt(f.charAt(2),16)/15,b);if(6===d)return this.setHex(parseInt(f,16),b);console.warn("THREE.Color: Invalid hex color "+a)}else if(a&&0<a.length)return this.setColorName(a,b);return this}setColorName(a,b="srgb"){const c=yk[a.toLowerCase()];void 0!==
c?this.setHex(c,b):console.warn("THREE.Color: Unknown color "+a);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}copySRGBToLinear(a){this.r=bc(a.r);this.g=bc(a.g);this.b=bc(a.b);return this}copyLinearToSRGB(a){this.r=Tc(a.r);this.g=Tc(a.g);this.b=Tc(a.b);return this}convertSRGBToLinear(){this.copySRGBToLinear(this);return this}convertLinearToSRGB(){this.copyLinearToSRGB(this);return this}getHex(a="srgb"){Db.fromWorkingColorSpace(kc.copy(this),
a);return 65536*Math.round(Za(255*kc.r,0,255))+256*Math.round(Za(255*kc.g,0,255))+Math.round(Za(255*kc.b,0,255))}getHexString(a="srgb"){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,b=Db.workingColorSpace){Db.fromWorkingColorSpace(kc.copy(this),b);b=kc.r;const c=kc.g,d=kc.b,f=Math.max(b,c,d);var h=Math.min(b,c,d);let l;const m=(h+f)/2;if(h===f)h=l=0;else{const n=f-h;h=.5>=m?n/(f+h):n/(2-f-h);switch(f){case b:l=(c-d)/n+(c<d?6:0);break;case c:l=(d-b)/n+2;break;case d:l=(b-c)/n+4}l/=
6}a.h=l;a.s=h;a.l=m;return a}getRGB(a,b=Db.workingColorSpace){Db.fromWorkingColorSpace(kc.copy(this),b);a.r=kc.r;a.g=kc.g;a.b=kc.b;return a}getStyle(a="srgb"){Db.fromWorkingColorSpace(kc.copy(this),a);const b=kc.r,c=kc.g,d=kc.b;return"srgb"!==a?`color(${a} ${b.toFixed(3)} ${c.toFixed(3)} ${d.toFixed(3)})`:`rgb(${Math.round(255*b)},${Math.round(255*c)},${Math.round(255*d)})`}offsetHSL(a,b,c){this.getHSL(ye);return this.setHSL(ye.h+a,ye.s+b,ye.l+c)}add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this}addColors(a,
b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this}addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this}sub(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this}multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this}multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this}lerp(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this}lerpColors(a,b,c){this.r=a.r+(b.r-a.r)*c;this.g=a.g+(b.g-a.g)*c;this.b=
a.b+(b.b-a.b)*c;return this}lerpHSL(a,b){this.getHSL(ye);a.getHSL(Kf);a=vc(ye.h,Kf.h,b);const c=vc(ye.s,Kf.s,b);b=vc(ye.l,Kf.l,b);this.setHSL(a,c,b);return this}setFromVector3(a){this.r=a.x;this.g=a.y;this.b=a.z;return this}applyMatrix3(a){const b=this.r,c=this.g,d=this.b;a=a.elements;this.r=a[0]*b+a[3]*c+a[6]*d;this.g=a[1]*b+a[4]*c+a[7]*d;this.b=a[2]*b+a[5]*c+a[8]*d;return this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,b=0){this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this}toArray(a=
[],b=0){a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}fromBufferAttribute(a,b){this.r=a.getX(b);this.g=a.getY(b);this.b=a.getZ(b);return this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r;yield this.g;yield this.b}}const kc=new Ma;Ma.NAMES=yk;class xe extends Sc{constructor(a){super();this.isMeshBasicMaterial=!0;this.type="MeshBasicMaterial";this.color=new Ma(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=
this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=
a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}const ge=function(){var a=new ArrayBuffer(4);const b=new Float32Array(a);a=new Uint32Array(a);const c=new Uint32Array(512),d=new Uint32Array(512);for(var f=0;256>f;++f){var h=f-127;-27>h?(c[f]=0,c[f|256]=32768,d[f]=24,d[f|256]=24):-14>h?(c[f]=1024>>-h-14,c[f|256]=
1024>>-h-14|32768,d[f]=-h-1,d[f|256]=-h-1):15>=h?(c[f]=h+15<<10,c[f|256]=h+15<<10|32768,d[f]=13,d[f|256]=13):128>h?(c[f]=31744,c[f|256]=64512,d[f]=24,d[f|256]=24):(c[f]=31744,c[f|256]=64512,d[f]=13,d[f|256]=13)}f=new Uint32Array(2048);h=new Uint32Array(64);const l=new Uint32Array(64);for(var m=1;1024>m;++m){let n=m<<13,p=0;for(;0===(n&8388608);)n<<=1,p-=8388608;n&=-8388609;p+=947912704;f[m]=n|p}for(m=1024;2048>m;++m)f[m]=939524096+(m-1024<<13);for(m=1;31>m;++m)h[m]=m<<23;h[31]=1199570944;h[32]=2147483648;
for(m=33;63>m;++m)h[m]=2147483648+(m-32<<23);h[63]=3347054592;for(m=1;64>m;++m)32!==m&&(l[m]=1024);return{floatView:b,uint32View:a,baseTable:c,shiftTable:d,mantissaTable:f,exponentTable:h,offsetTable:l}}(),Rh={toHalfFloat:Qb,fromHalfFloat:Yc},lc=new I,Sh=new va;class xb{constructor(a,b,c=!1){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0;this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=
c;this.usage=35044;this.updateRange={offset:0,count:-1};this.gpuType=1015;this.version=0}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;this.gpuType=a.gpuType;return this}copyAt(a,b,c){a*=this.itemSize;c*=b.itemSize;for(let d=0,f=this.itemSize;d<f;d++)this.array[a+d]=b.array[c+d];return this}copyArray(a){this.array.set(a);
return this}applyMatrix3(a){if(2===this.itemSize)for(let b=0,c=this.count;b<c;b++)Sh.fromBufferAttribute(this,b),Sh.applyMatrix3(a),this.setXY(b,Sh.x,Sh.y);else if(3===this.itemSize)for(let b=0,c=this.count;b<c;b++)lc.fromBufferAttribute(this,b),lc.applyMatrix3(a),this.setXYZ(b,lc.x,lc.y,lc.z);return this}applyMatrix4(a){for(let b=0,c=this.count;b<c;b++)lc.fromBufferAttribute(this,b),lc.applyMatrix4(a),this.setXYZ(b,lc.x,lc.y,lc.z);return this}applyNormalMatrix(a){for(let b=0,c=this.count;b<c;b++)lc.fromBufferAttribute(this,
b),lc.applyNormalMatrix(a),this.setXYZ(b,lc.x,lc.y,lc.z);return this}transformDirection(a){for(let b=0,c=this.count;b<c;b++)lc.fromBufferAttribute(this,b),lc.transformDirection(a),this.setXYZ(b,lc.x,lc.y,lc.z);return this}set(a,b=0){this.array.set(a,b);return this}getComponent(a,b){a=this.array[a*this.itemSize+b];this.normalized&&(a=Gb(a,this.array));return a}setComponent(a,b,c){this.normalized&&(c=Ya(c,this.array));this.array[a*this.itemSize+b]=c;return this}getX(a){a=this.array[a*this.itemSize];
this.normalized&&(a=Gb(a,this.array));return a}setX(a,b){this.normalized&&(b=Ya(b,this.array));this.array[a*this.itemSize]=b;return this}getY(a){a=this.array[a*this.itemSize+1];this.normalized&&(a=Gb(a,this.array));return a}setY(a,b){this.normalized&&(b=Ya(b,this.array));this.array[a*this.itemSize+1]=b;return this}getZ(a){a=this.array[a*this.itemSize+2];this.normalized&&(a=Gb(a,this.array));return a}setZ(a,b){this.normalized&&(b=Ya(b,this.array));this.array[a*this.itemSize+2]=b;return this}getW(a){a=
this.array[a*this.itemSize+3];this.normalized&&(a=Gb(a,this.array));return a}setW(a,b){this.normalized&&(b=Ya(b,this.array));this.array[a*this.itemSize+3]=b;return this}setXY(a,b,c){a*=this.itemSize;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array));this.array[a+0]=b;this.array[a+1]=c;return this}setXYZ(a,b,c,d){a*=this.itemSize;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array),d=Ya(d,this.array));this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this}setXYZW(a,b,c,d,f){a*=
this.itemSize;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array),d=Ya(d,this.array),f=Ya(f,this.array));this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=f;return this}onUpload(a){this.onUploadCallback=a;return this}clone(){return(new this.constructor(this.array,this.itemSize)).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};""!==this.name&&(a.name=this.name);35044!==this.usage&&
(a.usage=this.usage);if(0!==this.updateRange.offset||-1!==this.updateRange.count)a.updateRange=this.updateRange;return a}}class xm extends xb{constructor(a,b,c){super(new Int8Array(a),b,c)}}class ym extends xb{constructor(a,b,c){super(new Uint8Array(a),b,c)}}class cf extends xb{constructor(a,b,c){super(new Uint8ClampedArray(a),b,c)}}class um extends xb{constructor(a,b,c){super(new Int16Array(a),b,c)}}class bj extends xb{constructor(a,b,c){super(new Uint16Array(a),b,c)}}class zm extends xb{constructor(a,
b,c){super(new Int32Array(a),b,c)}}class lj extends xb{constructor(a,b,c){super(new Uint32Array(a),b,c)}}class af extends xb{constructor(a,b,c){super(new Uint16Array(a),b,c);this.isFloat16BufferAttribute=!0}getX(a){a=Yc(this.array[a*this.itemSize]);this.normalized&&(a=Gb(a,this.array));return a}setX(a,b){this.normalized&&(b=Ya(b,this.array));this.array[a*this.itemSize]=Qb(b);return this}getY(a){a=Yc(this.array[a*this.itemSize+1]);this.normalized&&(a=Gb(a,this.array));return a}setY(a,b){this.normalized&&
(b=Ya(b,this.array));this.array[a*this.itemSize+1]=Qb(b);return this}getZ(a){a=Yc(this.array[a*this.itemSize+2]);this.normalized&&(a=Gb(a,this.array));return a}setZ(a,b){this.normalized&&(b=Ya(b,this.array));this.array[a*this.itemSize+2]=Qb(b);return this}getW(a){a=Yc(this.array[a*this.itemSize+3]);this.normalized&&(a=Gb(a,this.array));return a}setW(a,b){this.normalized&&(b=Ya(b,this.array));this.array[a*this.itemSize+3]=Qb(b);return this}setXY(a,b,c){a*=this.itemSize;this.normalized&&(b=Ya(b,this.array),
c=Ya(c,this.array));this.array[a+0]=Qb(b);this.array[a+1]=Qb(c);return this}setXYZ(a,b,c,d){a*=this.itemSize;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array),d=Ya(d,this.array));this.array[a+0]=Qb(b);this.array[a+1]=Qb(c);this.array[a+2]=Qb(d);return this}setXYZW(a,b,c,d,f){a*=this.itemSize;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array),d=Ya(d,this.array),f=Ya(f,this.array));this.array[a+0]=Qb(b);this.array[a+1]=Qb(c);this.array[a+2]=Qb(d);this.array[a+3]=Qb(f);return this}}class Sa extends xb{constructor(a,
b,c){super(new Float32Array(a),b,c)}}class vm extends xb{constructor(a,b,c){super(new Float64Array(a),b,c)}}let Am=0;const Yb=new kb,Kh=new wb,Lg=new I,mc=new Ed,Pe=new Ed,Xb=new I;class ob extends Pc{constructor(){super();this.isBufferGeometry=!0;Object.defineProperty(this,"id",{value:Am++});this.uuid=Oa();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange=
{start:0,count:Infinity};this.userData={}}getIndex(){return this.index}setIndex(a){Array.isArray(a)?this.index=new (Ub(a)?lj:bj)(a,1):this.index=a;return this}getAttribute(a){return this.attributes[a]}setAttribute(a,b){this.attributes[a]=b;return this}deleteAttribute(a){delete this.attributes[a];return this}hasAttribute(a){return void 0!==this.attributes[a]}addGroup(a,b,c=0){this.groups.push({start:a,count:b,materialIndex:c})}clearGroups(){this.groups=[]}setDrawRange(a,b){this.drawRange.start=a;this.drawRange.count=
b}applyMatrix4(a){var b=this.attributes.position;void 0!==b&&(b.applyMatrix4(a),b.needsUpdate=!0);b=this.attributes.normal;if(void 0!==b){const c=(new nb).getNormalMatrix(a);b.applyNormalMatrix(c);b.needsUpdate=!0}b=this.attributes.tangent;void 0!==b&&(b.transformDirection(a),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this}applyQuaternion(a){Yb.makeRotationFromQuaternion(a);this.applyMatrix4(Yb);return this}rotateX(a){Yb.makeRotationX(a);
this.applyMatrix4(Yb);return this}rotateY(a){Yb.makeRotationY(a);this.applyMatrix4(Yb);return this}rotateZ(a){Yb.makeRotationZ(a);this.applyMatrix4(Yb);return this}translate(a,b,c){Yb.makeTranslation(a,b,c);this.applyMatrix4(Yb);return this}scale(a,b,c){Yb.makeScale(a,b,c);this.applyMatrix4(Yb);return this}lookAt(a){Kh.lookAt(a);Kh.updateMatrix();this.applyMatrix4(Kh.matrix);return this}center(){this.computeBoundingBox();this.boundingBox.getCenter(Lg).negate();this.translate(Lg.x,Lg.y,Lg.z);return this}setFromPoints(a){const b=
[];for(let c=0,d=a.length;c<d;c++){const f=a[c];b.push(f.x,f.y,f.z||0)}this.setAttribute("position",new Sa(b,3));return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Ed);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new I(-Infinity,-Infinity,
-Infinity),new I(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),b)for(let c=0,d=b.length;c<d;c++)mc.setFromBufferAttribute(b[c]),this.morphTargetsRelative?(Xb.addVectors(this.boundingBox.min,mc.min),this.boundingBox.expandByPoint(Xb),Xb.addVectors(this.boundingBox.max,mc.max),this.boundingBox.expandByPoint(Xb)):(this.boundingBox.expandByPoint(mc.min),this.boundingBox.expandByPoint(mc.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||
isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Tb);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingSphere.set(new I,Infinity);else if(a){const c=this.boundingSphere.center;mc.setFromBufferAttribute(a);if(b)for(let f=0,h=b.length;f<h;f++)Pe.setFromBufferAttribute(b[f]),this.morphTargetsRelative?(Xb.addVectors(mc.min,Pe.min),mc.expandByPoint(Xb),Xb.addVectors(mc.max,Pe.max),mc.expandByPoint(Xb)):(mc.expandByPoint(Pe.min),mc.expandByPoint(Pe.max));mc.getCenter(c);let d=0;for(let f=0,h=a.count;f<h;f++)Xb.fromBufferAttribute(a,f),d=Math.max(d,c.distanceToSquared(Xb));if(b)for(let f=
0,h=b.length;f<h;f++){const l=b[f],m=this.morphTargetsRelative;for(let n=0,p=l.count;n<p;n++)Xb.fromBufferAttribute(l,n),m&&(Lg.fromBufferAttribute(a,n),Xb.add(Lg)),d=Math.max(d,c.distanceToSquared(Xb))}this.boundingSphere.radius=Math.sqrt(d);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){function a(U,pa,X){t.fromArray(f,3*U);w.fromArray(f,3*pa);
B.fromArray(f,3*X);z.fromArray(l,2*U);A.fromArray(l,2*pa);v.fromArray(l,2*X);w.sub(t);B.sub(t);A.sub(z);v.sub(z);const za=1/(A.x*v.y-v.x*A.y);isFinite(za)&&(G.copy(w).multiplyScalar(v.y).addScaledVector(B,-A.y).multiplyScalar(za),J.copy(B).multiplyScalar(A.x).addScaledVector(w,-v.x).multiplyScalar(za),n[U].add(G),n[pa].add(G),n[X].add(G),p[U].add(J),p[pa].add(J),p[X].add(J))}function b(U){ba.fromArray(h,3*U);ca.copy(ba);var pa=n[U];K.copy(pa);K.sub(ba.multiplyScalar(ba.dot(pa))).normalize();P.crossVectors(ca,
pa);pa=P.dot(p[U]);m[4*U]=K.x;m[4*U+1]=K.y;m[4*U+2]=K.z;m[4*U+3]=0>pa?-1:1}var c=this.index,d=this.attributes;if(null===c||void 0===d.position||void 0===d.normal||void 0===d.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{c=c.array;var f=d.position.array,h=d.normal.array,l=d.uv.array;d=f.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new xb(new Float32Array(4*d),4));var m=this.getAttribute("tangent").array,
n=[],p=[];for(var r=0;r<d;r++)n[r]=new I,p[r]=new I;var t=new I,w=new I,B=new I,z=new va,A=new va,v=new va,G=new I,J=new I;d=this.groups;0===d.length&&(d=[{start:0,count:c.length}]);for(let U=0,pa=d.length;U<pa;++U){var O=d[U];r=O.start;O=O.count;for(let X=r,za=r+O;X<za;X+=3)a(c[X+0],c[X+1],c[X+2])}var K=new I,P=new I,ba=new I,ca=new I;for(let U=0,pa=d.length;U<pa;++U){O=d[U];r=O.start;O=O.count;for(let X=r,za=r+O;X<za;X+=3)b(c[X+0]),b(c[X+1]),b(c[X+2])}}}computeVertexNormals(){const a=this.index,
b=this.getAttribute("position");if(void 0!==b){let c=this.getAttribute("normal");if(void 0===c)c=new xb(new Float32Array(3*b.count),3),this.setAttribute("normal",c);else for(let t=0,w=c.count;t<w;t++)c.setXYZ(t,0,0,0);const d=new I,f=new I,h=new I,l=new I,m=new I,n=new I,p=new I,r=new I;if(a)for(let t=0,w=a.count;t<w;t+=3){const B=a.getX(t+0),z=a.getX(t+1),A=a.getX(t+2);d.fromBufferAttribute(b,B);f.fromBufferAttribute(b,z);h.fromBufferAttribute(b,A);p.subVectors(h,f);r.subVectors(d,f);p.cross(r);
l.fromBufferAttribute(c,B);m.fromBufferAttribute(c,z);n.fromBufferAttribute(c,A);l.add(p);m.add(p);n.add(p);c.setXYZ(B,l.x,l.y,l.z);c.setXYZ(z,m.x,m.y,m.z);c.setXYZ(A,n.x,n.y,n.z)}else for(let t=0,w=b.count;t<w;t+=3)d.fromBufferAttribute(b,t+0),f.fromBufferAttribute(b,t+1),h.fromBufferAttribute(b,t+2),p.subVectors(h,f),r.subVectors(d,f),p.cross(r),c.setXYZ(t+0,p.x,p.y,p.z),c.setXYZ(t+1,p.x,p.y,p.z),c.setXYZ(t+2,p.x,p.y,p.z);this.normalizeNormals();c.needsUpdate=!0}}normalizeNormals(){const a=this.attributes.normal;
for(let b=0,c=a.count;b<c;b++)Xb.fromBufferAttribute(a,b),Xb.normalize(),a.setXYZ(b,Xb.x,Xb.y,Xb.z)}toNonIndexed(){function a(m,n){const p=m.array,r=m.itemSize,t=m.normalized,w=new p.constructor(n.length*r);let B,z=0;for(let A=0,v=n.length;A<v;A++){B=m.isInterleavedBufferAttribute?n[A]*m.data.stride+m.offset:n[A]*r;for(let G=0;G<r;G++)w[z++]=p[B++]}return new xb(w,r,t)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const b=
new ob;var c=this.index.array,d=this.attributes;for(var f in d){var h=a(d[f],c);b.setAttribute(f,h)}d=this.morphAttributes;for(var l in d){f=[];h=d[l];for(let m=0,n=h.length;m<n;m++){const p=a(h[m],c);f.push(p)}b.morphAttributes[l]=f}b.morphTargetsRelative=this.morphTargetsRelative;c=this.groups;for(let m=0,n=c.length;m<n;m++)l=c[m],b.addGroup(l.start,l.count,l.materialIndex);return b}toJSON(){const a={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;
a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};c=this.index;null!==c&&(a.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});c=this.attributes;for(var d in c)a.data.attributes[d]=c[d].toJSON(a.data);d={};c=!1;for(b in this.morphAttributes){const f=this.morphAttributes[b],h=
[];for(let l=0,m=f.length;l<m;l++)h.push(f[l].toJSON(a.data));0<h.length&&(d[b]=h,c=!0)}c&&(a.data.morphAttributes=d,a.data.morphTargetsRelative=this.morphTargetsRelative);b=this.groups;0<b.length&&(a.data.groups=JSON.parse(JSON.stringify(b)));b=this.boundingSphere;null!==b&&(a.data.boundingSphere={center:b.center.toArray(),radius:b.radius});return a}clone(){return(new this.constructor).copy(this)}copy(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=
this.boundingBox=null;var b={};this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone(b));c=a.attributes;for(var d in c)this.setAttribute(d,c[d].clone(b));d=a.morphAttributes;for(var f in d){c=[];const h=d[f];for(let l=0,m=h.length;l<m;l++)c.push(h[l].clone(b));this.morphAttributes[f]=c}this.morphTargetsRelative=a.morphTargetsRelative;b=a.groups;for(let h=0,l=b.length;h<l;h++)f=b[h],this.addGroup(f.start,f.count,f.materialIndex);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;
null!==b&&(this.boundingSphere=b.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this}dispose(){this.dispatchEvent({type:"dispose"})}}const Pi=new kb,oe=new Ze,mj=new Tb,Gl=new I,Ae=new I,ff=new I,Sf=new I,Yh=new I,nj=new I,Mg=new va,gf=new va,oj=new va,Zh=new I,Ck=new I,$g=new I,Jb=new I,gc=new I;class wc extends wb{constructor(a=new ob,b=new xe){super();this.isMesh=!0;this.type="Mesh";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,
b){super.copy(a,b);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));this.material=Array.isArray(a.material)?a.material.slice():a.material;this.geometry=a.geometry;return this}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=
0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}getVertexPosition(a,b){var c=this.geometry;const d=c.morphAttributes.position,f=c.morphTargetsRelative;b.fromBufferAttribute(c.attributes.position,a);c=this.morphTargetInfluences;if(d&&c){nj.set(0,0,0);for(let h=0,l=d.length;h<l;h++){const m=c[h];0!==m&&(Yh.fromBufferAttribute(d[h],a),f?nj.addScaledVector(Yh,m):nj.addScaledVector(Yh.sub(b),m))}b.add(nj)}return b}raycast(a,b){const c=this.geometry,
d=this.matrixWorld;void 0!==this.material&&(null===c.boundingSphere&&c.computeBoundingSphere(),mj.copy(c.boundingSphere),mj.applyMatrix4(d),oe.copy(a.ray).recast(a.near),!1===mj.containsPoint(oe.origin)&&(null===oe.intersectSphere(mj,Gl)||oe.origin.distanceToSquared(Gl)>Math.pow(a.far-a.near,2))||(Pi.copy(d).invert(),oe.copy(a.ray).applyMatrix4(Pi),null!==c.boundingBox&&!1===oe.intersectsBox(c.boundingBox)||this._computeIntersections(a,b,oe)))}_computeIntersections(a,b,c){var d=this.geometry;const f=
this.material;var h=d.index,l=d.attributes.position;const m=d.attributes.uv,n=d.attributes.uv1,p=d.attributes.normal;var r=d.groups;d=d.drawRange;if(null!==h)if(Array.isArray(f))for(let z=0,A=r.length;z<A;z++){l=r[z];var t=f[l.materialIndex];var w=Math.max(l.start,d.start);var B=Math.min(h.count,Math.min(l.start+l.count,d.start+d.count));for(let v=w,G=B;v<G;v+=3){w=h.getX(v);B=h.getX(v+1);const J=h.getX(v+2);if(w=ud(this,t,a,c,m,n,p,w,B,J))w.faceIndex=Math.floor(v/3),w.face.materialIndex=l.materialIndex,
b.push(w)}}else{r=Math.max(0,d.start);d=Math.min(h.count,d.start+d.count);for(let z=r,A=d;z<A;z+=3)if(d=h.getX(z),r=h.getX(z+1),l=h.getX(z+2),w=ud(this,f,a,c,m,n,p,d,r,l))w.faceIndex=Math.floor(z/3),b.push(w)}else if(void 0!==l)if(Array.isArray(f))for(let z=0,A=r.length;z<A;z++){h=r[z];t=f[h.materialIndex];w=Math.max(h.start,d.start);B=Math.min(l.count,Math.min(h.start+h.count,d.start+d.count));for(let v=w,G=B;v<G;v+=3)if(w=ud(this,t,a,c,m,n,p,v,v+1,v+2))w.faceIndex=Math.floor(v/3),w.face.materialIndex=
h.materialIndex,b.push(w)}else{h=Math.max(0,d.start);d=Math.min(l.count,d.start+d.count);for(let z=h,A=d;z<A;z+=3)if(w=ud(this,f,a,c,m,n,p,z,z+1,z+2))w.faceIndex=Math.floor(z/3),b.push(w)}}}class Nd extends ob{constructor(a=1,b=1,c=1,d=1,f=1,h=1){function l(z,A,v,G,J,O,K,P,ba,ca,U){const pa=O/ba,X=K/ca,za=O/2,ta=K/2,xa=P/2;K=ba+1;const ya=ca+1;let Ca=O=0;const Wa=new I;for(let T=0;T<ya;T++){const Ba=T*X-ta;for(let Na=0;Na<K;Na++)Wa[z]=(Na*pa-za)*G,Wa[A]=Ba*J,Wa[v]=xa,p.push(Wa.x,Wa.y,Wa.z),Wa[z]=
0,Wa[A]=0,Wa[v]=0<P?1:-1,r.push(Wa.x,Wa.y,Wa.z),t.push(Na/ba),t.push(1-T/ca),O+=1}for(z=0;z<ca;z++)for(A=0;A<ba;A++)v=w+A+K*(z+1),G=w+(A+1)+K*(z+1),J=w+(A+1)+K*z,n.push(w+A+K*z,v,J),n.push(v,G,J),Ca+=6;m.addGroup(B,Ca,U);B+=Ca;w+=O}super();this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:f,depthSegments:h};const m=this;d=Math.floor(d);f=Math.floor(f);h=Math.floor(h);const n=[],p=[],r=[],t=[];let w=0,B=0;l("z","y","x",-1,-1,c,b,a,h,f,0);l("z","y","x",
1,-1,c,b,-a,h,f,1);l("x","z","y",1,1,a,c,b,d,h,2);l("x","z","y",1,-1,a,c,-b,d,h,3);l("x","y","z",1,-1,a,b,c,d,f,4);l("x","y","z",-1,-1,a,b,-c,d,f,5);this.setIndex(n);this.setAttribute("position",new Sa(p,3));this.setAttribute("normal",new Sa(r,3));this.setAttribute("uv",new Sa(t,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Nd(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}const he={clone:bd,merge:Rb};
class Od extends Sc{constructor(a){super();this.isShaderMaterial=!0;this.type="ShaderMaterial";this.defines={};this.uniforms={};this.uniformsGroups=[];this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.clipping=this.lights=this.fog=!1;this.forceSinglePass=!0;this.extensions={derivatives:!1,
fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&this.setValues(a)}copy(a){super.copy(a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=bd(a.uniforms);var b=a.uniformsGroups;const c=[];for(let d=0;d<b.length;d++)c.push(b[d].clone());this.uniformsGroups=c;this.defines=Object.assign({},a.defines);this.wireframe=
a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.fog=a.fog;this.lights=a.lights;this.clipping=a.clipping;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this}toJSON(a){const b=super.toJSON(a);b.glslVersion=this.glslVersion;b.uniforms={};for(const c in this.uniforms){const d=this.uniforms[c].value;b.uniforms[c]=d&&d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d&&d.isColor?{type:"c",value:d.getHex()}:d&&d.isVector2?{type:"v2",value:d.toArray()}:d&&d.isVector3?
{type:"v3",value:d.toArray()}:d&&d.isVector4?{type:"v4",value:d.toArray()}:d&&d.isMatrix3?{type:"m3",value:d.toArray()}:d&&d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;b.lights=this.lights;b.clipping=this.clipping;a={};for(const c in this.extensions)!0===this.extensions[c]&&(a[c]=!0);0<Object.keys(a).length&&(b.extensions=a);return b}}class Yg extends wb{constructor(){super();
this.isCamera=!0;this.type="Camera";this.matrixWorldInverse=new kb;this.projectionMatrix=new kb;this.projectionMatrixInverse=new kb;this.coordinateSystem=2E3}copy(a,b){super.copy(a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);this.coordinateSystem=a.coordinateSystem;return this}getWorldDirection(a){return super.getWorldDirection(a).negate()}updateMatrixWorld(a){super.updateMatrixWorld(a);
this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,b){super.updateWorldMatrix(a,b);this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class xc extends Yg{constructor(a=50,b=1,c=.1,d=2E3){super();this.isPerspectiveCamera=!0;this.type="PerspectiveCamera";this.fov=a;this.zoom=1;this.near=c;this.far=d;this.focus=10;this.aspect=b;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}copy(a,b){super.copy(a,
b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this}setFocalLength(a){a=.5*this.getFilmHeight()/a;this.fov=2*ne*Math.atan(a);this.updateProjectionMatrix()}getFocalLength(){const a=Math.tan(.5*Oe*this.fov);return.5*this.getFilmHeight()/a}getEffectiveFOV(){return 2*ne*Math.atan(Math.tan(.5*Oe*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*
Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(a,b,c,d,f,h){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=f;this.view.height=h;this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){const a=
this.near;let b=a*Math.tan(.5*Oe*this.fov)/this.zoom,c=2*b,d=this.aspect*c,f=-.5*d;var h=this.view;if(null!==this.view&&this.view.enabled){const l=h.fullWidth,m=h.fullHeight;f+=h.offsetX*d/l;b-=h.offsetY*c/m;d*=h.width/l;c*=h.height/m}h=this.filmOffset;0!==h&&(f+=a*h/this.getFilmWidth());this.projectionMatrix.makePerspective(f,f+d,b,b-c,a,this.far,this.coordinateSystem);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.fov=this.fov;a.object.zoom=
this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}}class zj extends wb{constructor(a,b,c){super();this.type="CubeCamera";this.renderTarget=c;this.coordinateSystem=null;this.activeMipmapLevel=0;c=new xc(-90,1,a,b);c.layers=this.layers;this.add(c);c=new xc(-90,1,a,b);c.layers=this.layers;this.add(c);c=
new xc(-90,1,a,b);c.layers=this.layers;this.add(c);c=new xc(-90,1,a,b);c.layers=this.layers;this.add(c);c=new xc(-90,1,a,b);c.layers=this.layers;this.add(c);a=new xc(-90,1,a,b);a.layers=this.layers;this.add(a)}updateCoordinateSystem(){const a=this.coordinateSystem,b=this.children.concat(),[c,d,f,h,l,m]=b;for(const n of b)this.remove(n);if(2E3===a)c.up.set(0,1,0),c.lookAt(1,0,0),d.up.set(0,1,0),d.lookAt(-1,0,0),f.up.set(0,0,-1),f.lookAt(0,1,0),h.up.set(0,0,1),h.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,
0,1),m.up.set(0,1,0),m.lookAt(0,0,-1);else if(2001===a)c.up.set(0,-1,0),c.lookAt(-1,0,0),d.up.set(0,-1,0),d.lookAt(1,0,0),f.up.set(0,0,1),f.lookAt(0,1,0),h.up.set(0,0,-1),h.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),m.up.set(0,-1,0),m.lookAt(0,0,-1);else throw Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+a);for(const n of b)this.add(n),n.updateMatrixWorld()}update(a,b){null===this.parent&&this.updateMatrixWorld();const {renderTarget:c,activeMipmapLevel:d}=this;
this.coordinateSystem!==a.coordinateSystem&&(this.coordinateSystem=a.coordinateSystem,this.updateCoordinateSystem());const [f,h,l,m,n,p]=this.children,r=a.getRenderTarget(),t=a.getActiveCubeFace(),w=a.getActiveMipmapLevel(),B=a.xr.enabled;a.xr.enabled=!1;const z=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;a.setRenderTarget(c,0,d);a.render(b,f);a.setRenderTarget(c,1,d);a.render(b,h);a.setRenderTarget(c,2,d);a.render(b,l);a.setRenderTarget(c,3,d);a.render(b,m);a.setRenderTarget(c,4,d);a.render(b,
n);c.texture.generateMipmaps=z;a.setRenderTarget(c,5,d);a.render(b,p);a.setRenderTarget(r,t,w);a.xr.enabled=B;c.texture.needsPMREMUpdate=!0}}class fc extends hc{constructor(a,b,c,d,f,h,l,m,n,p){a=void 0!==a?a:[];super(a,void 0!==b?b:301,c,d,f,h,l,m,n,p);this.isCubeTexture=!0;this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class pj extends Sb{constructor(a=1,b={}){super(a,a,b);this.isWebGLCubeRenderTarget=!0;a={width:a,height:a,depth:1};a=[a,a,a,a,a,a];void 0!==b.encoding&&
(Nb("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),b.colorSpace=3001===b.encoding?"srgb":"");this.texture=new fc(a,b.mapping,b.wrapS,b.wrapT,b.magFilter,b.minFilter,b.format,b.type,b.anisotropy,b.colorSpace);this.texture.isRenderTargetTexture=!0;this.texture.generateMipmaps=void 0!==b.generateMipmaps?b.generateMipmaps:!1;this.texture.minFilter=void 0!==b.minFilter?b.minFilter:1006}fromEquirectangularTexture(a,b){this.texture.type=b.type;this.texture.colorSpace=
b.colorSpace;this.texture.generateMipmaps=b.generateMipmaps;this.texture.minFilter=b.minFilter;this.texture.magFilter=b.magFilter;var c=new Nd(5,5,5),d=new Od({name:"CubemapFromEquirect",uniforms:bd({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include \x3cbegin_vertex\x3e\n\t\t\t\t\t#include \x3cproject_vertex\x3e\n\n\t\t\t\t}\n\t\t\t",
fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include \x3ccommon\x3e\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction \x3d normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV \x3d equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});d.uniforms.tEquirect.value=b;c=new wc(c,d);d=b.minFilter;1008===b.minFilter&&(b.minFilter=1006);(new zj(1,10,this)).update(a,
c);b.minFilter=d;c.geometry.dispose();c.material.dispose();return this}clear(a,b,c,d){const f=a.getRenderTarget();for(let h=0;6>h;h++)a.setRenderTarget(this,h),a.clear(b,c,d);a.setRenderTarget(f)}}const Be=new I,Dh=new I,of=new nb;class Uc{constructor(a=new I(1,0,0),b=0){this.isPlane=!0;this.normal=a;this.constant=b}set(a,b){this.normal.copy(a);this.constant=b;return this}setComponents(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this}setFromNormalAndCoplanarPoint(a,b){this.normal.copy(a);
this.constant=-b.dot(this.normal);return this}setFromCoplanarPoints(a,b,c){b=Be.subVectors(c,b).cross(Dh.subVectors(a,b)).normalize();this.setFromNormalAndCoplanarPoint(b,a);return this}copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this}normalize(){const a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}negate(){this.constant*=-1;this.normal.negate();return this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-
a.radius}projectPoint(a,b){return b.copy(a).addScaledVector(this.normal,-this.distanceToPoint(a))}intersectLine(a,b){const c=a.delta(Be);var d=this.normal.dot(c);if(0===d)return 0===this.distanceToPoint(a.start)?b.copy(a.start):null;d=-(a.start.dot(this.normal)+this.constant)/d;return 0>d||1<d?null:b.copy(a.start).addScaledVector(c,d)}intersectsLine(a){const b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,
b){b=b||of.getNormalMatrix(a);a=this.coplanarPoint(Be).applyMatrix4(a);b=this.normal.applyMatrix3(b).normalize();this.constant=-a.dot(b);return this}translate(a){this.constant-=a.dot(this.normal);return this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ie=new Tb,He=new I;class Yf{constructor(a=new Uc,b=new Uc,c=new Uc,d=new Uc,f=new Uc,h=new Uc){this.planes=[a,b,c,d,f,h]}set(a,b,c,d,f,h){const l=this.planes;l[0].copy(a);
l[1].copy(b);l[2].copy(c);l[3].copy(d);l[4].copy(f);l[5].copy(h);return this}copy(a){const b=this.planes;for(let c=0;6>c;c++)b[c].copy(a.planes[c]);return this}setFromProjectionMatrix(a,b=2E3){const c=this.planes;var d=a.elements;a=d[0];const f=d[1],h=d[2],l=d[3],m=d[4],n=d[5],p=d[6],r=d[7],t=d[8],w=d[9],B=d[10],z=d[11],A=d[12],v=d[13],G=d[14];d=d[15];c[0].setComponents(l-a,r-m,z-t,d-A).normalize();c[1].setComponents(l+a,r+m,z+t,d+A).normalize();c[2].setComponents(l+f,r+n,z+w,d+v).normalize();c[3].setComponents(l-
f,r-n,z-w,d-v).normalize();c[4].setComponents(l-h,r-p,z-B,d-G).normalize();if(2E3===b)c[5].setComponents(l+h,r+p,z+B,d+G).normalize();else if(2001===b)c[5].setComponents(h,p,B,G).normalize();else throw Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+b);return this}intersectsObject(a){if(void 0!==a.boundingSphere)null===a.boundingSphere&&a.computeBoundingSphere(),ie.copy(a.boundingSphere).applyMatrix4(a.matrixWorld);else{const b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();
ie.copy(b.boundingSphere).applyMatrix4(a.matrixWorld)}return this.intersectsSphere(ie)}intersectsSprite(a){ie.center.set(0,0,0);ie.radius=.7071067811865476;ie.applyMatrix4(a.matrixWorld);return this.intersectsSphere(ie)}intersectsSphere(a){const b=this.planes,c=a.center;a=-a.radius;for(let d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0}intersectsBox(a){const b=this.planes;for(let c=0;6>c;c++){const d=b[c];He.x=0<d.normal.x?a.max.x:a.min.x;He.y=0<d.normal.y?a.max.y:a.min.y;He.z=0<d.normal.z?
a.max.z:a.min.z;if(0>d.distanceToPoint(He))return!1}return!0}containsPoint(a){const b=this.planes;for(let c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Xf extends ob{constructor(a=1,b=1,c=1,d=1){super();this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var f=a/2,h=b/2;c=Math.floor(c);d=Math.floor(d);const l=c+1;var m=d+1,n=a/c,p=b/d;b=[];a=[];const r=[],t=[];for(let w=0;w<m;w++){const B=
w*p-h;for(let z=0;z<l;z++)a.push(z*n-f,-B,0),r.push(0,0,1),t.push(z/c),t.push(1-w/d)}for(f=0;f<d;f++)for(h=0;h<c;h++)m=h+l*(f+1),n=h+1+l*(f+1),p=h+1+l*f,b.push(h+l*f,m,p),b.push(m,n,p);this.setIndex(b);this.setAttribute("position",new Sa(a,3));this.setAttribute("normal",new Sa(r,3));this.setAttribute("uv",new Sa(t,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Xf(a.width,a.height,a.widthSegments,a.heightSegments)}}const gb={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a \x3c getAlphaHashThreshold( vPosition ) ) discard;\n#endif",
alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE \x3d 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv \x3d max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale \x3d 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales \x3d vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha \x3d vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor \x3d fract( log2( pixScale ) );\n\t\tfloat x \x3d ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a \x3d min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases \x3d vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold \x3d ( x \x3c ( 1.0 - a ) )\n\t\t\t? ( ( x \x3c a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",
alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a \x3c alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD )\n\t\tfloat dotNV \x3d saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed \x3d vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition \x3d vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal \x3d vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent \x3d vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",
iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 \x3d mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 \x3d sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase \x3d 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val \x3d vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos \x3d vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var \x3d vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz \x3d val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x +\x3d 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /\x3d 1.0685e-7;\n\t\tvec3 rgb \x3d XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR \x3d mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq \x3d pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq \x3d 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq \x3c 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 \x3d sqrt( cosTheta2Sq );\n\t\tfloat R0 \x3d IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 \x3d F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 \x3d 1.0 - R12;\n\t\tfloat phi12 \x3d 0.0;\n\t\tif ( iridescenceIOR \x3c outsideIOR ) phi12 \x3d PI;\n\t\tfloat phi21 \x3d PI - phi12;\n\t\tvec3 baseIOR \x3d Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 \x3d IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 \x3d F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 \x3d vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] \x3c iridescenceIOR ) phi23[ 0 ] \x3d PI;\n\t\tif ( baseIOR[ 1 ] \x3c iridescenceIOR ) phi23[ 1 ] \x3d PI;\n\t\tif ( baseIOR[ 2 ] \x3c iridescenceIOR ) phi23[ 2 ] \x3d PI;\n\t\tfloat OPD \x3d 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi \x3d vec3( phi21 ) + phi23;\n\t\tvec3 R123 \x3d clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 \x3d sqrt( R123 );\n\t\tvec3 Rs \x3d pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 \x3d R12 + Rs;\n\t\tI \x3d C0;\n\t\tvec3 Cm \x3d Rs - T121;\n\t\tfor ( int m \x3d 1; m \x3c\x3d 2; ++ m ) {\n\t\t\tCm *\x3d r123;\n\t\t\tvec3 Sm \x3d 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI +\x3d Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vBumpMapUv );\n\t\tvec2 dSTdy \x3d dFdy( vBumpMapUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos.xyz );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES \x3c NUM_CLIPPING_PLANES\n\t\tbool clipped \x3d true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d UNION_CLIPPING_PLANES; i \x3c NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\tclipped \x3d ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) \x26\x26 clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvClipPosition \x3d - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *\x3d vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *\x3d vColor;\n#endif",
color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor \x3d vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor \x3d vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *\x3d color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *\x3d instanceColor.xyz;\n#endif",
common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent \x3d max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] \x3d vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] \x3d vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] \x3d vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights \x3d vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] \x3d\x3d - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u \x3d atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v \x3d asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection \x3d abs( direction );\n\t\tfloat face \x3d - 1.0;\n\t\tif ( absDirection.x \x3e absDirection.z ) {\n\t\t\tif ( absDirection.x \x3e absDirection.y )\n\t\t\t\tface \x3d direction.x \x3e 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z \x3e absDirection.y )\n\t\t\t\tface \x3d direction.z \x3e 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face \x3d\x3d 0.0 ) {\n\t\t\tuv \x3d vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 1.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face \x3d\x3d 2.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face \x3d\x3d 3.0 ) {\n\t\t\tuv \x3d vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 4.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv \x3d vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face \x3d getFace( direction );\n\t\tfloat filterInt \x3d max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt \x3d max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize \x3d exp2( mipInt );\n\t\thighp vec2 uv \x3d getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face \x3e 2.0 ) {\n\t\t\tuv.y +\x3d faceSize;\n\t\t\tface -\x3d 3.0;\n\t\t}\n\t\tuv.x +\x3d face * faceSize;\n\t\tuv.x +\x3d filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y +\x3d 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *\x3d CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *\x3d CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip \x3d 0.0;\n\t\tif ( roughness \x3e\x3d cubeUV_r1 ) {\n\t\t\tmip \x3d ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r4 ) {\n\t\t\tmip \x3d ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r5 ) {\n\t\t\tmip \x3d ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r6 ) {\n\t\t\tmip \x3d ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip \x3d - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip \x3d clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF \x3d fract( mip );\n\t\tfloat mipInt \x3d floor( mip );\n\t\tvec3 color0 \x3d bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF \x3d\x3d 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 \x3d bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex:"vec3 transformedNormal \x3d objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m \x3d mat3( instanceMatrix );\n\ttransformedNormal /\x3d vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal \x3d m * transformedNormal;\n#endif\ntransformedNormal \x3d normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal \x3d - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent \x3d ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent \x3d - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif",
emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor \x3d linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 \x3d mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB \x3d mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",
envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag \x3d normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor \x3d vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec \x3d reflect( - viewDir, normal );\n\t\t\treflectVec \x3d normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal \x3d cross( bitangent, viewDir );\n\t\t\t\tbentNormal \x3d normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal \x3d normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",
envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex:"#ifdef USE_FOG\n\tvFogDepth \x3d - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL \x3d dot( normal, lightDirection );\n\tvec2 coord \x3d vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw \x3d fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel \x3d texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse +\x3d lightMapIrradiance;\n#endif",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularStrength \x3d specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",
lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x \x3d normal.x, y \x3d normal.y, z \x3d normal.z;\n\tvec3 result \x3d shCoefficients[ 0 ] * 0.886227;\n\tresult +\x3d shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult +\x3d shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult +\x3d shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult +\x3d shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult +\x3d shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult +\x3d shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult +\x3d shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult +\x3d shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance \x3d shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance \x3e 0.0 \x26\x26 decayExponent \x3e 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance \x3e 0.0 ) {\n\t\t\tdistanceFalloff *\x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color \x3d directionalLight.color;\n\t\tlight.direction \x3d directionalLight.direction;\n\t\tlight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector \x3d pointLight.position - geometryPosition;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tlight.color \x3d pointLight.color;\n\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector \x3d spotLight.position - geometryPosition;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat angleCos \x3d dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation \x3d getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation \x3e 0.0 ) {\n\t\t\tfloat lightDistance \x3d length( lVector );\n\t\t\tlight.color \x3d spotLight.color * spotAttenuation;\n\t\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color \x3d vec3( 0.0 );\n\t\t\tlight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL \x3d dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",
lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance \x3d getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy \x3d max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness \x3d max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness \x3d max( roughnessFactor, 0.0525 );material.roughness +\x3d geometryRoughness;\nmaterial.roughness \x3d min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior \x3d ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor \x3d specularIntensity;\n\t\tvec3 specularColorFactor \x3d specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *\x3d texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *\x3d texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 \x3d mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor \x3d 1.0;\n\t\tvec3 specularColorFactor \x3d vec3( 1.0 );\n\t\tmaterial.specularF90 \x3d 1.0;\n\t#endif\n\tmaterial.specularColor \x3d mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 \x3d 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat \x3d clearcoat;\n\tmaterial.clearcoatRoughness \x3d clearcoatRoughness;\n\tmaterial.clearcoatF0 \x3d vec3( 0.04 );\n\tmaterial.clearcoatF90 \x3d 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *\x3d texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *\x3d texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat \x3d saturate( material.clearcoat );\tmaterial.clearcoatRoughness \x3d max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness +\x3d geometryRoughness;\n\tmaterial.clearcoatRoughness \x3d min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence \x3d iridescence;\n\tmaterial.iridescenceIOR \x3d iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *\x3d texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness \x3d (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness \x3d iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor \x3d sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *\x3d texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness \x3d clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *\x3d texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat \x3d mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar \x3d texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV \x3d anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV \x3d anisotropyVector;\n\t#endif\n\tmaterial.anisotropy \x3d length( anisotropyV );\n\tanisotropyV /\x3d material.anisotropy;\n\tmaterial.anisotropy \x3d saturate( material.anisotropy );\n\tmaterial.alphaT \x3d mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT \x3d tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB \x3d tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular \x3d vec3( 0.0 );\nvec3 sheenSpecular \x3d vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x \x3d clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 \x3d x * x;\n    float x5 \x3d clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv \x3d dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl \x3d dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v \x3d 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 \x3d alphaT * alphaB;\n\t\thighp vec3 v \x3d vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 \x3d dot( v, v );\n\t\tfloat w2 \x3d a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 \x3d material.clearcoatF0;\n\t\tfloat f90 \x3d material.clearcoatF90;\n\t\tfloat roughness \x3d material.clearcoatRoughness;\n\t\tfloat alpha \x3d pow2( roughness );\n\t\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\t\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F \x3d F_Schlick( f0, f90, dotVH );\n\t\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D \x3d D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 \x3d material.specularColor;\n\tfloat f90 \x3d material.specularF90;\n\tfloat roughness \x3d material.roughness;\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF \x3d mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL \x3d dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV \x3d dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH \x3d dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL \x3d dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV \x3d dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH \x3d dot( material.anisotropyB, halfDir );\n\t\tfloat V \x3d V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D \x3d D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D \x3d D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE \x3d 64.0;\n\tconst float LUT_SCALE \x3d ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS \x3d 0.5 / LUT_SIZE;\n\tfloat dotNV \x3d saturate( dot( N, V ) );\n\tvec2 uv \x3d vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv \x3d uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l \x3d length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x \x3d dot( v1, v2 );\n\tfloat y \x3d abs( x );\n\tfloat a \x3d 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b \x3d 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v \x3d a / b;\n\tfloat theta_sintheta \x3d ( x \x3e 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 \x3d rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 \x3d rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal \x3d cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) \x3c 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 \x3d normalize( V - N * dot( V, N ) );\n\tT2 \x3d - cross( N, T1 );\n\tmat3 mat \x3d mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] \x3d mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] \x3d mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] \x3d mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] \x3d mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] \x3d normalize( coords[ 0 ] );\n\tcoords[ 1 ] \x3d normalize( coords[ 1 ] );\n\tcoords[ 2 ] \x3d normalize( coords[ 2 ] );\n\tcoords[ 3 ] \x3d normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor \x3d vec3( 0.0 );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result \x3d LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha \x3d pow2( roughness );\n\tfloat invAlpha \x3d 1.0 / alpha;\n\tfloat cos2h \x3d dotNH * dotNH;\n\tfloat sin2h \x3d max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat D \x3d D_Charlie( sheenRoughness, dotNH );\n\tfloat V \x3d V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat r2 \x3d roughness * roughness;\n\tfloat a \x3d roughness \x3c 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b \x3d roughness \x3c 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG \x3d exp( a * dotNV + b ) + ( roughness \x3c 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab \x3d vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr \x3d mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr \x3d specularColor;\n\t#endif\n\tvec3 FssEss \x3d Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess \x3d fab.x + fab.y;\n\tfloat Ems \x3d 1.0 - Ess;\n\tvec3 Favg \x3d Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms \x3d FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter +\x3d FssEss;\n\tmultiScatter +\x3d Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal \x3d geometryNormal;\n\t\tvec3 viewDir \x3d geometryViewDir;\n\t\tvec3 position \x3d geometryPosition;\n\t\tvec3 lightPos \x3d rectAreaLight.position;\n\t\tvec3 halfWidth \x3d rectAreaLight.halfWidth;\n\t\tvec3 halfHeight \x3d rectAreaLight.halfHeight;\n\t\tvec3 lightColor \x3d rectAreaLight.color;\n\t\tfloat roughness \x3d material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] \x3d lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] \x3d lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] \x3d lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] \x3d lightPos + halfWidth + halfHeight;\n\t\tvec2 uv \x3d LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 \x3d texture2D( ltc_1, uv );\n\t\tvec4 t2 \x3d texture2D( ltc_2, uv );\n\t\tmat3 mInv \x3d mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel \x3d ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular +\x3d lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse +\x3d lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc \x3d saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance \x3d dotNLcc * directLight.color;\n\t\tclearcoatSpecular +\x3d ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular +\x3d clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering \x3d vec3( 0.0 );\n\tvec3 multiScattering \x3d vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance \x3d irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering \x3d singleScattering + multiScattering;\n\tvec3 diffuse \x3d material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular +\x3d radiance * singleScattering;\n\treflectedLight.indirectSpecular +\x3d multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse +\x3d diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin:"\nvec3 geometryPosition \x3d - vViewPosition;\nvec3 geometryNormal \x3d normal;\nvec3 geometryViewDir \x3d ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal;\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal \x3d clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi \x3d saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness \x3d\x3d 0.0 ) {\n\t\tmaterial.iridescence \x3d 0.0;\n\t} else {\n\t\tmaterial.iridescence \x3d saturate( material.iridescence );\n\t}\n\tif ( material.iridescence \x3e 0.0 ) {\n\t\tmaterial.iridescenceFresnel \x3d evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 \x3d Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow \x3d pointLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX \x3c NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord \x3d vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap \x3d all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor \x3d texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color \x3d inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow \x3d spotLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow \x3d directionalLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight \x3d rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance \x3d vec3( 0.0 );\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance +\x3d getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d vec3( 0.0 );\n\tvec3 clearcoatRadiance \x3d vec3( 0.0 );\n#endif",
lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance +\x3d getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance +\x3d getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance +\x3d getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance +\x3d getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",
lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT \x3d vIsPerspective \x3d\x3d 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t\tvIsPerspective \x3d float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z \x3d log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *\x3d gl_Position.w;\n\t\t}\n\t#endif\n#endif",
map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor \x3d texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor \x3d vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *\x3d sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv \x3d vUv;\n\t#else\n\t\tvec2 uv \x3d ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *\x3d texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
metalnessmap_fragment:"float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *\x3d texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) \x26\x26 defined( MORPHTARGETS_TEXTURE )\n\tvColor *\x3d morphTargetBaseInfluence;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",
morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) objectNormal +\x3d getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal +\x3d morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal +\x3d morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal +\x3d morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal +\x3d morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex \x3d vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y \x3d texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x \x3d texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV \x3d ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",
morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) transformed +\x3d getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed +\x3d morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed +\x3d morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed +\x3d morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed +\x3d morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed +\x3d morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed +\x3d morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed +\x3d morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed +\x3d morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",
normal_fragment_begin:"float faceDirection \x3d gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx \x3d dFdx( vViewPosition );\n\tvec3 fdy \x3d dFdy( vViewPosition );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *\x3d faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn \x3d mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn \x3d getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) \x26\x26 ! defined( FLAT_SHADED )\n\t\ttbn[0] *\x3d faceDirection;\n\t\ttbn[1] *\x3d faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 \x3d mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 \x3d getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) \x26\x26 ! defined( FLAT_SHADED )\n\t\ttbn2[0] *\x3d faceDirection;\n\t\ttbn2[1] *\x3d faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal \x3d normal;",
normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal \x3d texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal \x3d - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\tnormal \x3d normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN \x3d texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *\x3d normalScale;\n\tnormal \x3d normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",
normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent \x3d normalize( transformedTangent );\n\t\tvBitangent \x3d normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) \x26\x26 ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( uv.st );\n\t\tvec2 st1 \x3d dFdy( uv.st );\n\t\tvec3 N \x3d surf_norm;\n\t\tvec3 q1perp \x3d cross( q1, N );\n\t\tvec3 q0perp \x3d cross( N, q0 );\n\t\tvec3 T \x3d q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B \x3d q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det \x3d max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale \x3d ( det \x3d\x3d 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",
clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal \x3d nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN \x3d texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *\x3d clearcoatNormalScale;\n\tclearcoatNormal \x3d normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",
iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a \x3d 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *\x3d material.transmissionAlpha;\n#endif\ngl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r \x3d vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition \x3d vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition \x3d instanceMatrix * mvPosition;\n#endif\nmvPosition \x3d modelViewMatrix * mvPosition;\ngl_Position \x3d projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb \x3d dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position \x3d rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB \x3d vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB \x3d mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
roughnessmap_fragment:"float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *\x3d texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS \x3e 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion \x3d 1.0;\n\t\tvec2 distribution \x3d texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow \x3d step( compare , distribution.x );\n\t\tif (hard_shadow !\x3d 1.0 ) {\n\t\t\tfloat distance \x3d compare - distribution.x ;\n\t\t\tfloat variance \x3d max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability \x3d variance / (variance + distance * distance );\t\t\tsoftness_probability \x3d clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion \x3d clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow \x3d 1.0;\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbool inFrustum \x3d shadowCoord.x \x3e\x3d 0.0 \x26\x26 shadowCoord.x \x3c\x3d 1.0 \x26\x26 shadowCoord.y \x3e\x3d 0.0 \x26\x26 shadowCoord.y \x3c\x3d 1.0;\n\t\tbool frustumTest \x3d inFrustum \x26\x26 shadowCoord.z \x3c\x3d 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 \x3d dx0 / 2.0;\n\t\t\tfloat dy2 \x3d dy0 / 2.0;\n\t\t\tfloat dx3 \x3d dx1 / 2.0;\n\t\t\tfloat dy3 \x3d dy1 / 2.0;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx \x3d texelSize.x;\n\t\t\tfloat dy \x3d texelSize.y;\n\t\t\tvec2 uv \x3d shadowCoord.xy;\n\t\t\tvec2 f \x3d fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -\x3d f * texelSize;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow \x3d VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow \x3d texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp +\x3d shadowBias;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) \x26\x26 ( NUM_DIR_LIGHT_SHADOWS \x3e 0 || NUM_POINT_LIGHT_SHADOWS \x3e 0 ) ) || ( NUM_SPOT_LIGHT_COORDS \x3e 0 )\n\tvec3 shadowWorldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition \x3d worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) \x26\x26 UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz +\x3d shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] \x3d spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight \x3d spotLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight \x3d pointLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j \x3d i * 4.0;\n\t\tfloat x \x3d mod( j, float( boneTextureSize ) );\n\t\tfloat y \x3d floor( j / float( boneTextureSize ) );\n\t\tfloat dx \x3d 1.0 / float( boneTextureSize );\n\t\tfloat dy \x3d 1.0 / float( boneTextureSize );\n\t\ty \x3d dy * ( y + 0.5 );\n\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\ttransformed \x3d ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent \x3d vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\tcolor \x3d max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a \x3d v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b \x3d v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat \x3d mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat \x3d mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *\x3d toneMappingExposure / 0.6;\n\tcolor \x3d ACESInputMat * color;\n\tcolor \x3d RRTAndODTFit( color );\n\tcolor \x3d ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission \x3d transmission;\n\tmaterial.transmissionAlpha \x3d 1.0;\n\tmaterial.thickness \x3d thickness;\n\tmaterial.attenuationDistance \x3d attenuationDistance;\n\tmaterial.attenuationColor \x3d attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *\x3d texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *\x3d texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos \x3d vWorldPosition;\n\tvec3 v \x3d normalize( cameraPosition - pos );\n\tvec3 n \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted \x3d getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha \x3d mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse \x3d mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",
transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv \x3d uv * texelSize.zw + 0.5;\n\t\tvec2 iuv \x3d floor( uv );\n\t\tvec2 fuv \x3d fract( uv );\n\t\tfloat g0x \x3d g0( fuv.x );\n\t\tfloat g1x \x3d g1( fuv.x );\n\t\tfloat h0x \x3d h0( fuv.x );\n\t\tfloat h1x \x3d h1( fuv.x );\n\t\tfloat h0y \x3d h0( fuv.y );\n\t\tfloat h1y \x3d h1( fuv.y );\n\t\tvec2 p0 \x3d ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 \x3d ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 \x3d ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 \x3d ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize \x3d vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize \x3d vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv \x3d 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv \x3d 1.0 / cLodSize;\n\t\tvec4 fSample \x3d bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample \x3d bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector \x3d refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x \x3d length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y \x3d length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z \x3d length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod \x3d log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient \x3d -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance \x3d exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay \x3d getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit \x3d position + transmissionRay;\n\t\tvec4 ndcPos \x3d projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords \x3d ndcPos.xy / ndcPos.w;\n\t\trefractionCoords +\x3d 1.0;\n\t\trefractionCoords /\x3d 2.0;\n\t\tvec4 transmittedLight \x3d getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance \x3d diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor \x3d transmittance * transmittedLight.rgb;\n\t\tvec3 F \x3d EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor \x3d ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",
uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",
uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",
uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv \x3d vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv \x3d ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv \x3d ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv \x3d ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv \x3d ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv \x3d ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv \x3d ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv \x3d ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv \x3d ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv \x3d ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv \x3d ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv \x3d ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv \x3d ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv \x3d ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv \x3d ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv \x3d ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv \x3d ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv \x3d ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv \x3d ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv \x3d ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv \x3d ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv \x3d ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv \x3d ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv \x3d ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",
worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvec4 worldPosition \x3d vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition \x3d instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition \x3d modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position \x3d vec4( position.xy, 1.0, 1.0 );\n}",
background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor \x3d texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor \x3d vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
backgroundCube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include \x3ccube_uv_reflection_fragment\x3e\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor \x3d textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor \x3d textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
cube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor \x3d textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor \x3d texColor;\n\tgl_FragColor.a *\x3d opacity;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
depth_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvHighPrecisionZW \x3d gl_Position.zw;\n}",
depth_frag:"#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\tfloat fragCoordZ \x3d 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition.xyz;\n}",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\tfloat dist \x3d length( vWorldPosition - referencePosition );\n\tdist \x3d ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist \x3d saturate( dist );\n\tgl_FragColor \x3d packDepthToRGBA( dist );\n}",
equirect_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvec3 direction \x3d normalize( vWorldDirection );\n\tvec2 sampleUV \x3d equirectUv( direction );\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvLineDistance \x3d scale * lineDistance;\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
meshbasic_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinbase_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse +\x3d lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse +\x3d vec3( 1.0 );\n\t#endif\n\t#include \x3caomap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d diffuseColor.rgb;\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_lambert_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_lambert_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n}",
meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tvec3 viewDir \x3d normalize( vViewPosition );\n\tvec3 x \x3d normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y \x3d cross( viewDir, x );\n\tvec2 uv \x3d vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor \x3d texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor \x3d vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight \x3d diffuseColor.rgb * matcapColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n}",
meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a \x3d 1.0;\n\t#endif\n}",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n#ifdef USE_TRANSMISSION\n\tvWorldPosition \x3d worldPosition.xyz;\n#endif\n}",
meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3ciridescence_fragment\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_physical_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3ctransmission_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cclearcoat_pars_fragment\x3e\n#include \x3ciridescence_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cclearcoat_normal_fragment_begin\x3e\n\t#include \x3cclearcoat_normal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 totalDiffuse \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular \x3d reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include \x3ctransmission_fragment\x3e\n\tvec3 outgoingLight \x3d totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp \x3d 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight \x3d outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc \x3d saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc \x3d F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight \x3d outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cgradientmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_toon_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_toon_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
points_vert:"uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_PointSize \x3d size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *\x3d ( scale / - mvPosition.z );\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
shadow_vert:"#include \x3ccommon\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\t#include \x3clogdepthbuf_fragment\x3e\n\tgl_FragColor \x3d vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}",
sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x \x3d length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y \x3d length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *\x3d - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition \x3d ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy +\x3d rotatedPosition;\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}"},
Da={common:{diffuse:{value:new Ma(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nb},alphaMap:{value:null},alphaMapTransform:{value:new nb},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nb}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nb}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},
lightMapTransform:{value:new nb}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nb},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nb},normalScale:{value:new va(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nb},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nb}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nb}},
roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nb}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new Ma(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},
spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},
shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ma(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nb},alphaTest:{value:0},uvTransform:{value:new nb}},sprite:{diffuse:{value:new Ma(16777215)},
opacity:{value:1},center:{value:new va(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nb},alphaMap:{value:null},alphaMapTransform:{value:new nb},alphaTest:{value:0}}},Zc={basic:{uniforms:Rb([Da.common,Da.specularmap,Da.envmap,Da.aomap,Da.lightmap,Da.fog]),vertexShader:gb.meshbasic_vert,fragmentShader:gb.meshbasic_frag},lambert:{uniforms:Rb([Da.common,Da.specularmap,Da.envmap,Da.aomap,Da.lightmap,Da.emissivemap,Da.bumpmap,Da.normalmap,Da.displacementmap,Da.fog,Da.lights,{emissive:{value:new Ma(0)}}]),
vertexShader:gb.meshlambert_vert,fragmentShader:gb.meshlambert_frag},phong:{uniforms:Rb([Da.common,Da.specularmap,Da.envmap,Da.aomap,Da.lightmap,Da.emissivemap,Da.bumpmap,Da.normalmap,Da.displacementmap,Da.fog,Da.lights,{emissive:{value:new Ma(0)},specular:{value:new Ma(1118481)},shininess:{value:30}}]),vertexShader:gb.meshphong_vert,fragmentShader:gb.meshphong_frag},standard:{uniforms:Rb([Da.common,Da.envmap,Da.aomap,Da.lightmap,Da.emissivemap,Da.bumpmap,Da.normalmap,Da.displacementmap,Da.roughnessmap,
Da.metalnessmap,Da.fog,Da.lights,{emissive:{value:new Ma(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gb.meshphysical_vert,fragmentShader:gb.meshphysical_frag},toon:{uniforms:Rb([Da.common,Da.aomap,Da.lightmap,Da.emissivemap,Da.bumpmap,Da.normalmap,Da.displacementmap,Da.gradientmap,Da.fog,Da.lights,{emissive:{value:new Ma(0)}}]),vertexShader:gb.meshtoon_vert,fragmentShader:gb.meshtoon_frag},matcap:{uniforms:Rb([Da.common,Da.bumpmap,Da.normalmap,Da.displacementmap,
Da.fog,{matcap:{value:null}}]),vertexShader:gb.meshmatcap_vert,fragmentShader:gb.meshmatcap_frag},points:{uniforms:Rb([Da.points,Da.fog]),vertexShader:gb.points_vert,fragmentShader:gb.points_frag},dashed:{uniforms:Rb([Da.common,Da.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gb.linedashed_vert,fragmentShader:gb.linedashed_frag},depth:{uniforms:Rb([Da.common,Da.displacementmap]),vertexShader:gb.depth_vert,fragmentShader:gb.depth_frag},normal:{uniforms:Rb([Da.common,Da.bumpmap,
Da.normalmap,Da.displacementmap,{opacity:{value:1}}]),vertexShader:gb.meshnormal_vert,fragmentShader:gb.meshnormal_frag},sprite:{uniforms:Rb([Da.sprite,Da.fog]),vertexShader:gb.sprite_vert,fragmentShader:gb.sprite_frag},background:{uniforms:{uvTransform:{value:new nb},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gb.background_vert,fragmentShader:gb.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},
vertexShader:gb.backgroundCube_vert,fragmentShader:gb.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gb.cube_vert,fragmentShader:gb.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gb.equirect_vert,fragmentShader:gb.equirect_frag},distanceRGBA:{uniforms:Rb([Da.common,Da.displacementmap,{referencePosition:{value:new I},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:gb.distanceRGBA_vert,fragmentShader:gb.distanceRGBA_frag},
shadow:{uniforms:Rb([Da.lights,Da.fog,{color:{value:new Ma(0)},opacity:{value:1}}]),vertexShader:gb.shadow_vert,fragmentShader:gb.shadow_frag}};Zc.physical={uniforms:Rb([Zc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nb},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nb},clearcoatNormalScale:{value:new va(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nb},
iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nb},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nb},sheen:{value:0},sheenColor:{value:new Ma(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nb},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nb},transmission:{value:0},
transmissionMap:{value:null},transmissionMapTransform:{value:new nb},transmissionSamplerSize:{value:new va},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nb},attenuationDistance:{value:0},attenuationColor:{value:new Ma(0)},specularColor:{value:new Ma(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nb},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nb},
anisotropyVector:{value:new va},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nb}}]),vertexShader:gb.meshphysical_vert,fragmentShader:gb.meshphysical_frag};const pf={r:0,b:0,g:0};class Zf extends Yg{constructor(a=-1,b=1,c=1,d=-1,f=.1,h=2E3){super();this.isOrthographicCamera=!0;this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=f;this.far=h;this.updateProjectionMatrix()}copy(a,b){super.copy(a,b);this.left=a.left;this.right=
a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this}setViewOffset(a,b,c,d,f,h){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=f;this.view.height=h;this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=
!1);this.updateProjectionMatrix()}updateProjectionMatrix(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2;let f=c-a;c+=a;a=d+b;b=d-b;null!==this.view&&this.view.enabled&&(d=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom,f+=d*this.view.offsetX,c=f+d*this.view.width,a-=b*this.view.offsetY,b=a-b*this.view.height);this.projectionMatrix.makeOrthographic(f,
c,a,b,this.near,this.far,this.coordinateSystem);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}}const li=[.125,.215,.35,.446,.526,.582],th=new Zf,Bk=new Ma;let Xh=null;const ze=(1+Math.sqrt(5))/2,$b=1/ze,Aj=[new I(1,
1,1),new I(-1,1,1),new I(1,1,-1),new I(-1,1,-1),new I(0,ze,$b),new I(0,ze,-$b),new I($b,0,ze),new I(-$b,0,ze),new I(ze,$b,0),new I(-ze,$b,0)];class Zg{constructor(a){this._renderer=a;this._pingPongRenderTarget=null;this._cubeSize=this._lodMax=0;this._lodPlanes=[];this._sizeLods=[];this._sigmas=[];this._equirectMaterial=this._cubemapMaterial=this._blurMaterial=null;this._compileMaterial(this._blurMaterial)}fromScene(a,b=0,c=.1,d=100){Xh=this._renderer.getRenderTarget();this._setSize(256);const f=this._allocateTargets();
f.depthBuffer=!0;this._sceneToCubeUV(a,c,d,f);0<b&&this._blur(f,0,0,b);this._applyPMREM(f);this._cleanup(f);return f}fromEquirectangular(a,b=null){return this._fromTexture(a,b)}fromCubemap(a,b=null){return this._fromTexture(a,b)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=lb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=ab(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose();
null!==this._cubemapMaterial&&this._cubemapMaterial.dispose();null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a));this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose();null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(Xh);a.scissorTest=!1;Ga(a,0,0,a.width,
a.height)}_fromTexture(a,b){301===a.mapping||302===a.mapping?this._setSize(0===a.image.length?16:a.image[0].width||a.image[0].image.width):this._setSize(a.image.width/4);Xh=this._renderer.getRenderTarget();b=b||this._allocateTargets();this._textureToCubeUV(a,b);this._applyPMREM(b);this._cleanup(b);return b}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),b=4*this._cubeSize;var c={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:"srgb-linear",depthBuffer:!1};
const d=Ea(a,b,c);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==a||this._pingPongRenderTarget.height!==b){null!==this._pingPongRenderTarget&&this._dispose();this._pingPongRenderTarget=Ea(a,b,c);var {_lodMax:f}=this;c=f;var h=[];const p=[],r=[];let t=c;const w=c-4+1+li.length;for(let B=0;B<w;B++){var l=Math.pow(2,t);p.push(l);var m=1/l;B>c-4?m=li[B-c+4-1]:0===B&&(m=0);r.push(m);m=1/(l-2);l=-m;m=1+m;var n=[l,l,m,l,m,m,l,l,m,m,l,m];l=new Float32Array(108);m=new Float32Array(72);
const z=new Float32Array(36);for(let A=0;6>A;A++){const v=A%3*2/3-1,G=2<A?0:-1;l.set([v,G,0,v+2/3,G,0,v+2/3,G+1,0,v,G,0,v+2/3,G+1,0,v,G+1,0],18*A);m.set(n,12*A);z.set([A,A,A,A,A,A],6*A)}n=new ob;n.setAttribute("position",new xb(l,3));n.setAttribute("uv",new xb(m,2));n.setAttribute("faceIndex",new xb(z,1));h.push(n);4<t&&t--}({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}={lodPlanes:h,sizeLods:p,sigmas:r});c=f;f=new Float32Array(20);h=new I(0,1,0);this._blurMaterial=new Od({name:"SphericalGaussianBlur",
defines:{n:20,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/b,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:f},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:h}},vertexShader:ub(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include \x3ccube_uv_reflection_fragment\x3e\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta \x3d cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection \x3d vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis \x3d latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis \x3d vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis \x3d normalize( axis );\n\n\t\t\t\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb +\x3d weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i \x3d 1; i \x3c n; i++ ) {\n\n\t\t\t\t\tif ( i \x3e\x3d samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta \x3d dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}return d}_compileMaterial(a){a=new wc(this._lodPlanes[0],a);this._renderer.compile(a,th)}_sceneToCubeUV(a,b,c,d){b=new xc(90,1,b,c);c=[1,-1,1,1,1,1];const f=[1,1,1,-1,-1,-1],h=this._renderer,l=h.autoClear,m=h.toneMapping;h.getClearColor(Bk);h.toneMapping=0;h.autoClear=!1;var n=new xe({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1});const p=new wc(new Nd,n);let r=!1;const t=a.background;t?t.isColor&&(n.color.copy(t),a.background=null,r=!0):(n.color.copy(Bk),
r=!0);for(n=0;6>n;n++){const w=n%3;0===w?(b.up.set(0,c[n],0),b.lookAt(f[n],0,0)):1===w?(b.up.set(0,0,c[n]),b.lookAt(0,f[n],0)):(b.up.set(0,c[n],0),b.lookAt(0,0,f[n]));const B=this._cubeSize;Ga(d,w*B,2<n?B:0,B,B);h.setRenderTarget(d);r&&h.render(p,b);h.render(a,b)}p.geometry.dispose();p.material.dispose();h.toneMapping=m;h.autoClear=l;a.background=t}_textureToCubeUV(a,b){const c=this._renderer;var d=301===a.mapping||302===a.mapping;d?(null===this._cubemapMaterial&&(this._cubemapMaterial=lb()),this._cubemapMaterial.uniforms.flipEnvMap.value=
!1===a.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=ab());const f=d?this._cubemapMaterial:this._equirectMaterial;d=new wc(this._lodPlanes[0],f);f.uniforms.envMap.value=a;a=this._cubeSize;Ga(b,0,0,3*a,2*a);c.setRenderTarget(b);c.render(d,th)}_applyPMREM(a){const b=this._renderer,c=b.autoClear;b.autoClear=!1;for(let d=1;d<this._lodPlanes.length;d++)this._blur(a,d-1,d,Math.sqrt(this._sigmas[d]*this._sigmas[d]-this._sigmas[d-1]*this._sigmas[d-1]),Aj[(d-1)%Aj.length]);
b.autoClear=c}_blur(a,b,c,d,f){const h=this._pingPongRenderTarget;this._halfBlur(a,h,b,c,d,"latitudinal",f);this._halfBlur(h,a,c,c,d,"longitudinal",f)}_halfBlur(a,b,c,d,f,h,l){const m=this._renderer;var n=this._blurMaterial;"latitudinal"!==h&&"longitudinal"!==h&&console.error("blur direction must be either latitudinal or longitudinal!");const p=new wc(this._lodPlanes[d],n);n=n.uniforms;var r=this._sizeLods[c]-1;r=isFinite(f)?Math.PI/(2*r):2*Math.PI/39;var t=f/r;const w=isFinite(f)?1+Math.floor(3*
t):20;20<w&&console.warn(`sigmaRadians, ${f}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${20}`);f=[];let B=0;for(let A=0;20>A;++A){var z=A/t;z=Math.exp(-z*z/2);f.push(z);0===A?B+=z:A<w&&(B+=2*z)}for(t=0;t<f.length;t++)f[t]/=B;n.envMap.value=a.texture;n.samples.value=w;n.weights.value=f;n.latitudinal.value="latitudinal"===h;l&&(n.poleAxis.value=l);({_lodMax:a}=this);n.dTheta.value=r;n.mipInt.value=a-c;c=this._sizeLods[d];Ga(b,3*c*(d>a-4?d-a+4:0),4*(this._cubeSize-
c),3*c,2*c);m.setRenderTarget(b);m.render(p,th)}}const ki=new hc,Xi=new xg,$h=new re,ok=new fc,$f=[],Hl=[],Gk=new Float32Array(16),mi=new Float32Array(9),qf=new Float32Array(4);class bg{constructor(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=ri(b.type)}}class Lk{constructor(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=dd(b.type)}}class vf{constructor(a){this.id=a;this.seq=[];this.map={}}setValue(a,b,c){const d=this.seq;for(let f=0,h=d.length;f!==h;++f){const l=
d[f];l.setValue(a,b[l.id],c)}}}const bh=/(\w+)(\])?(\[|\.)?/g;class mg{constructor(a,b){this.seq=[];this.map={};const c=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(let p=0;p<c;++p){var d=a.getActiveUniform(b,p),f=a.getUniformLocation(b,d.name),h=this,l=d.name;const r=l.length;for(bh.lastIndex=0;;){const t=bh.exec(l),w=bh.lastIndex;var m=t[1],n=t[3];"]"===t[2]&&(m|=0);if(void 0===n||"["===n&&w+2===r){l=h;d=void 0===n?new bg(m,d,f):new Lk(m,d,f);l.seq.push(d);l.map[d.id]=d;break}else n=h.map[m],
void 0===n&&(n=new vf(m),m=h,h=n,m.seq.push(h),m.map[h.id]=h),h=n}}}setValue(a,b,c,d){b=this.map[b];void 0!==b&&b.setValue(a,c,d)}setOptional(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)}static upload(a,b,c,d){for(let f=0,h=b.length;f!==h;++f){const l=b[f],m=c[l.id];!1!==m.needsUpdate&&l.setValue(a,m.value,d)}}static seqWithValue(a,b){const c=[];for(let d=0,f=a.length;d!==f;++d){const h=a[d];h.id in b&&c.push(h)}return c}}let ai=0;const rf=/^[ \t]*#include +<([\w\d./]+)>/gm,oi=new Map([["encodings_fragment",
"colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]),ch=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;let Dj=0;class Xl{constructor(){this.shaderCache=new Map;this.materialCache=new Map}update(a){var b=a.fragmentShader;const c=this._getShaderStage(a.vertexShader);b=this._getShaderStage(b);a=this._getShaderCacheForMaterial(a);!1===a.has(c)&&
(a.add(c),c.usedTimes++);!1===a.has(b)&&(a.add(b),b.usedTimes++);return this}remove(a){const b=this.materialCache.get(a);for(const c of b)c.usedTimes--,0===c.usedTimes&&this.shaderCache.delete(c.code);this.materialCache.delete(a);return this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear();this.materialCache.clear()}_getShaderCacheForMaterial(a){const b=this.materialCache;
let c=b.get(a);void 0===c&&(c=new Set,b.set(a,c));return c}_getShaderStage(a){const b=this.shaderCache;let c=b.get(a);void 0===c&&(c=new Gj(a),b.set(a,c));return c}}class Gj{constructor(a){this.id=Dj++;this.code=a;this.usedTimes=0}}let Sd=0;class Pd extends Sc{constructor(a){super();this.isMeshDepthMaterial=!0;this.type="MeshDepthMaterial";this.depthPacking=3200;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=
1;this.setValues(a)}copy(a){super.copy(a);this.depthPacking=a.depthPacking;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this}}class Qd extends Sc{constructor(a){super();this.isMeshDistanceMaterial=!0;this.type="MeshDistanceMaterial";this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=
1;this.displacementBias=0;this.setValues(a)}copy(a){super.copy(a);this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this}}class je extends xc{constructor(a=[]){super();this.isArrayCamera=!0;this.cameras=a}}class Rd extends wb{constructor(){super();this.isGroup=!0;this.type="Group"}}const dh={type:"move"};class uf{constructor(){this._hand=this._grip=this._targetRay=null}getHandSpace(){null===
this._hand&&(this._hand=new Rd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1});return this._hand}getTargetRaySpace(){null===this._targetRay&&(this._targetRay=new Rd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new I,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new I);return this._targetRay}getGripSpace(){null===this._grip&&(this._grip=
new Rd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new I,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new I);return this._grip}dispatchEvent(a){null!==this._targetRay&&this._targetRay.dispatchEvent(a);null!==this._grip&&this._grip.dispatchEvent(a);null!==this._hand&&this._hand.dispatchEvent(a);return this}connect(a){if(a&&a.hand){const b=this._hand;if(b)for(const c of a.hand.values())this._getHandJoint(b,c)}this.dispatchEvent({type:"connected",
data:a});return this}disconnect(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);return this}update(a,b,c){let d=null,f=null,h=null;const l=this._targetRay,m=this._grip,n=this._hand;if(a&&"visible-blurred"!==b.session.visibilityState){if(n&&a.hand){h=!0;for(var p of a.hand.values()){const r=b.getJointPose(p,c),t=this._getHandJoint(n,p);null!==r&&(t.matrix.fromArray(r.transform.matrix),
t.matrix.decompose(t.position,t.rotation,t.scale),t.matrixWorldNeedsUpdate=!0,t.jointRadius=r.radius);t.visible=null!==r}p=n.joints["index-finger-tip"].position.distanceTo(n.joints["thumb-tip"].position);n.inputState.pinching&&.025<p?(n.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!n.inputState.pinching&&.015>=p&&(n.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else null!==m&&a.gripSpace&&(f=
b.getPose(a.gripSpace,c),null!==f&&(m.matrix.fromArray(f.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,f.linearVelocity?(m.hasLinearVelocity=!0,m.linearVelocity.copy(f.linearVelocity)):m.hasLinearVelocity=!1,f.angularVelocity?(m.hasAngularVelocity=!0,m.angularVelocity.copy(f.angularVelocity)):m.hasAngularVelocity=!1));null!==l&&(d=b.getPose(a.targetRaySpace,c),null===d&&null!==f&&(d=f),null!==d&&(l.matrix.fromArray(d.transform.matrix),l.matrix.decompose(l.position,
l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,d.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(d.linearVelocity)):l.hasLinearVelocity=!1,d.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(d.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(dh)))}null!==l&&(l.visible=null!==d);null!==m&&(m.visible=null!==f);null!==n&&(n.visible=null!==h);return this}_getHandJoint(a,b){if(void 0===a.joints[b.jointName]){const c=new Rd;c.matrixAutoUpdate=!1;c.visible=!1;a.joints[b.jointName]=
c;a.add(c)}return a.joints[b.jointName]}}class Lj extends hc{constructor(a,b,c,d,f,h,l,m,n,p){p=void 0!==p?p:1026;if(1026!==p&&1027!==p)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&1026===p&&(c=1014);void 0===c&&1027===p&&(c=1020);super(null,d,f,h,l,m,p,c,n);this.isDepthTexture=!0;this.image={width:a,height:b};this.magFilter=void 0!==l?l:1003;this.minFilter=void 0!==m?m:1003;this.generateMipmaps=this.flipY=!1;this.compareFunction=null}copy(a){super.copy(a);
this.compareFunction=a.compareFunction;return this}toJSON(a){a=super.toJSON(a);null!==this.compareFunction&&(a.compareFunction=this.compareFunction);return a}}class cg extends Pc{constructor(a,b){function c(T){var Ba=ba.indexOf(T.inputSource);-1!==Ba&&(Ba=P[Ba],void 0!==Ba&&(Ba.update(T.inputSource,T.frame,w||p),Ba.dispatchEvent({type:T.type,data:T.inputSource})))}function d(){m.removeEventListener("select",c);m.removeEventListener("selectstart",c);m.removeEventListener("selectend",c);m.removeEventListener("squeeze",
c);m.removeEventListener("squeezestart",c);m.removeEventListener("squeezeend",c);m.removeEventListener("end",d);m.removeEventListener("inputsourceschange",f);for(let T=0;T<P.length;T++){const Ba=ba[T];null!==Ba&&(ba[T]=null,P[T].disconnect(Ba))}ta=za=null;a.setRenderTarget(O);K=m=z=A=v=null;Wa.stop();l.isPresenting=!1;l.dispatchEvent({type:"sessionend"})}function f(T){for(var Ba=0;Ba<T.removed.length;Ba++){var Na=T.removed[Ba],Xa=ba.indexOf(Na);0<=Xa&&(ba[Xa]=null,P[Xa].disconnect(Na))}for(Ba=0;Ba<
T.added.length;Ba++){Na=T.added[Ba];Xa=ba.indexOf(Na);if(-1===Xa){for(let wa=0;wa<P.length;wa++)if(wa>=ba.length){ba.push(Na);Xa=wa;break}else if(null===ba[wa]){ba[wa]=Na;Xa=wa;break}if(-1===Xa)break}(Xa=P[Xa])&&Xa.connect(Na)}}function h(T,Ba){null===Ba?T.matrixWorld.copy(T.matrix):T.matrixWorld.multiplyMatrices(Ba.matrixWorld,T.matrix);T.matrixWorldInverse.copy(T.matrixWorld).invert()}super();const l=this;let m=null,n=1,p=null,r="local-floor",t=1,w=null,B=null,z=null,A=null,v=null,G=null;const J=
b.getContextAttributes();let O=null,K=null;const P=[],ba=[],ca=new xc;ca.layers.enable(1);ca.viewport=new Ab;const U=new xc;U.layers.enable(2);U.viewport=new Ab;const pa=[ca,U],X=new je;X.layers.enable(1);X.layers.enable(2);let za=null,ta=null;this.cameraAutoUpdate=!0;this.isPresenting=this.enabled=!1;this.getController=function(T){let Ba=P[T];void 0===Ba&&(Ba=new uf,P[T]=Ba);return Ba.getTargetRaySpace()};this.getControllerGrip=function(T){let Ba=P[T];void 0===Ba&&(Ba=new uf,P[T]=Ba);return Ba.getGripSpace()};
this.getHand=function(T){let Ba=P[T];void 0===Ba&&(Ba=new uf,P[T]=Ba);return Ba.getHandSpace()};this.setFramebufferScaleFactor=function(T){n=T;!0===l.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};this.setReferenceSpaceType=function(T){r=T;!0===l.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=function(){return w||p};this.setReferenceSpace=function(T){w=T};this.getBaseLayer=
function(){return null!==A?A:v};this.getBinding=function(){return z};this.getFrame=function(){return G};this.getSession=function(){return m};this.setSession=function(T){const Ba=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){m=T;if(null!==m){O=a.getRenderTarget();m.addEventListener("select",c);m.addEventListener("selectstart",c);m.addEventListener("selectend",c);m.addEventListener("squeeze",c);m.addEventListener("squeezestart",c);m.addEventListener("squeezeend",c);m.addEventListener("end",
d);m.addEventListener("inputsourceschange",f);!0!==J.xrCompatible&&(yield b.makeXRCompatible());if(void 0===m.renderState.layers||!1===a.capabilities.isWebGL2)v=new XRWebGLLayer(m,b,{antialias:void 0===m.renderState.layers?J.antialias:!0,alpha:!0,depth:J.depth,stencil:J.stencil,framebufferScaleFactor:n}),m.updateRenderState({baseLayer:v}),K=new Sb(v.framebufferWidth,v.framebufferHeight,{format:1023,type:1009,colorSpace:a.outputColorSpace,stencilBuffer:J.stencil});else{let Xa=null,wa=null;var Na=null;
J.depth&&(Na=J.stencil?b.DEPTH24_STENCIL8:b.DEPTH_COMPONENT24,Xa=J.stencil?1027:1026,wa=J.stencil?1020:1014);Na={colorFormat:b.RGBA8,depthFormat:Na,scaleFactor:n};z=new XRWebGLBinding(m,b);A=z.createProjectionLayer(Na);m.updateRenderState({layers:[A]});K=new Sb(A.textureWidth,A.textureHeight,{format:1023,type:1009,depthTexture:new Lj(A.textureWidth,A.textureHeight,wa,void 0,void 0,void 0,void 0,void 0,void 0,Xa),stencilBuffer:J.stencil,colorSpace:a.outputColorSpace,samples:J.antialias?4:0});a.properties.get(K).__ignoreDepthValues=
A.ignoreDepthValues}K.isXRRenderTarget=!0;Ba.setFoveation(t);w=null;p=yield m.requestReferenceSpace(r);Wa.setContext(m);Wa.start();l.isPresenting=!0;l.dispatchEvent({type:"sessionstart"})}})};this.getEnvironmentBlendMode=function(){if(null!==m)return m.environmentBlendMode};const xa=new I,ya=new I;this.updateCamera=function(T){if(null!==m){X.near=U.near=ca.near=T.near;X.far=U.far=ca.far=T.far;if(za!==X.near||ta!==X.far)m.updateRenderState({depthNear:X.near,depthFar:X.far}),za=X.near,ta=X.far;var Ba=
T.parent,Na=X.cameras;h(X,Ba);for(var Xa=0;Xa<Na.length;Xa++)h(Na[Xa],Ba);if(2===Na.length){xa.setFromMatrixPosition(ca.matrixWorld);ya.setFromMatrixPosition(U.matrixWorld);Na=xa.distanceTo(ya);var wa=ca.projectionMatrix.elements,Ja=U.projectionMatrix.elements,eb=wa[14]/(wa[10]-1);Xa=wa[14]/(wa[10]+1);const E=(wa[9]+1)/wa[5],L=(wa[9]-1)/wa[5];var pb=(wa[8]-1)/wa[0],C=(Ja[8]+1)/Ja[0];Ja=eb*pb;wa=eb*C;C=Na/(-pb+C);pb=C*-pb;ca.matrixWorld.decompose(X.position,X.quaternion,X.scale);X.translateX(pb);X.translateZ(C);
X.matrixWorld.compose(X.position,X.quaternion,X.scale);X.matrixWorldInverse.copy(X.matrixWorld).invert();eb+=C;C=Xa+C;X.projectionMatrix.makePerspective(Ja-pb,wa+(Na-pb),E*Xa/C*eb,L*Xa/C*eb,eb,C);X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}else X.projectionMatrix.copy(ca.projectionMatrix);null===Ba?T.matrix.copy(X.matrixWorld):(T.matrix.copy(Ba.matrixWorld),T.matrix.invert(),T.matrix.multiply(X.matrixWorld));T.matrix.decompose(T.position,T.quaternion,T.scale);T.updateMatrixWorld(!0);
T.projectionMatrix.copy(X.projectionMatrix);T.projectionMatrixInverse.copy(X.projectionMatrixInverse);T.isPerspectiveCamera&&(T.fov=2*ne*Math.atan(1/T.projectionMatrix.elements[5]),T.zoom=1)}};this.getCamera=function(){return X};this.getFoveation=function(){if(null!==A||null!==v)return t};this.setFoveation=function(T){t=T;null!==A&&(A.fixedFoveation=T);null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=T)};let Ca=null;const Wa=new Gc;Wa.setAnimationLoop(function(T,Ba){B=Ba.getViewerPose(w||p);
G=Ba;if(null!==B){var Na=B.views;null!==v&&(a.setRenderTargetFramebuffer(K,v.framebuffer),a.setRenderTarget(K));var Xa=!1;Na.length!==X.cameras.length&&(X.cameras.length=0,Xa=!0);for(var wa=0;wa<Na.length;wa++){const eb=Na[wa];let pb;if(null!==v)pb=v.getViewport(eb);else{var Ja=z.getViewSubImage(A,eb);pb=Ja.viewport;0===wa&&(a.setRenderTargetTextures(K,Ja.colorTexture,A.ignoreDepthValues?void 0:Ja.depthStencilTexture),a.setRenderTarget(K))}Ja=pa[wa];void 0===Ja&&(Ja=new xc,Ja.layers.enable(wa),Ja.viewport=
new Ab,pa[wa]=Ja);Ja.matrix.fromArray(eb.transform.matrix);Ja.matrix.decompose(Ja.position,Ja.quaternion,Ja.scale);Ja.projectionMatrix.fromArray(eb.projectionMatrix);Ja.projectionMatrixInverse.copy(Ja.projectionMatrix).invert();Ja.viewport.set(pb.x,pb.y,pb.width,pb.height);0===wa&&(X.matrix.copy(Ja.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale));!0===Xa&&X.cameras.push(Ja)}}for(Na=0;Na<P.length;Na++)Xa=ba[Na],wa=P[Na],null!==Xa&&void 0!==wa&&wa.update(Xa,Ba,w||p);Ca&&Ca(T,Ba);Ba.detectedPlanes&&
l.dispatchEvent({type:"planesdetected",data:Ba});G=null});this.setAnimationLoop=function(T){Ca=T};this.dispose=function(){}}}class si{constructor(a={}){function b(F,aa){for(let na=0;na<F.length;na++){const ea=v.getContext(F[na],aa);if(null!==ea)return ea}return null}function c(){nc=new ec(ma);Kb=new da(ma,nc,a);nc.init(Kb);jf=new ng(ma,nc,Kb);Fb=new ml(ma,nc,Kb);Kd=new Ik(ma);Lb=new lh;ac=new Xk(ma,nc,Fb,Lb,Kb,jf,Kd);Ug=new sa(T);Vg=new vb(T);Wg=new Wf(ma,Kb);ii=new Mb(ma,nc,Wg,Kb);Em=new Md(ma,Wg,
Kd,ii);yj=new Cj(ma,Em,Wg,Kd);Km=new Kk(ma,Kb,ac);kf=new Aa(Lb);Vf=new nm(T,Ug,Vg,nc,Kb,ii,kf);Fm=new zi(T,Lb);Nl=new jl;Ol=new nl(nc,Kb);lf=new qc(T,Ug,Vg,Fb,yj,X,ba);De=new ol(T,yj,Kb);Pl=new og(ma,Kd,Kb,Fb);Lm=new sd(ma,nc,Kd,Kb);Mm=new Hk(ma,nc,Kd,Kb);Kd.programs=Vf.programs;T.capabilities=Kb;T.extensions=nc;T.properties=Lb;T.renderLists=Nl;T.shadowMap=De;T.state=Fb;T.info=Kd}function d(F){F.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");Ba=!0}function f(){console.log("THREE.WebGLRenderer: Context Restored.");
Ba=!1;const F=Kd.autoReset,aa=De.enabled,na=De.autoUpdate,ea=De.needsUpdate,fa=De.type;c();Kd.autoReset=F;De.enabled=aa;De.autoUpdate=na;De.needsUpdate=ea;De.type=fa}function h(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function l(F){F=F.target;F.removeEventListener("dispose",l);m(F);Lb.remove(F)}function m(F){const aa=Lb.get(F).programs;void 0!==aa&&(aa.forEach(function(na){Vf.releaseProgram(na)}),F.isShaderMaterial&&Vf.releaseShaderCache(F))}
function n(){ji.stop()}function p(){ji.start()}function r(F,aa,na,ea){if(!1!==F.visible){if(F.layers.test(aa.layers))if(F.isGroup)na=F.renderOrder;else if(F.isLOD)!0===F.autoUpdate&&F.update(aa);else if(F.isLight)ya.pushLight(F),F.castShadow&&ya.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||Ra.intersectsSprite(F)){ea&&Ce.setFromMatrixPosition(F.matrixWorld).applyMatrix4(kd);var fa=yj.update(F),Ua=F.material;Ua.visible&&xa.push(F,fa,Ua,na,Ce.z,null)}}else if(F.isMesh||F.isLine||F.isPoints)if(!F.frustumCulled||
Ra.intersectsObject(F))if(fa=yj.update(F),Ua=F.material,ea&&(void 0!==F.boundingSphere?(null===F.boundingSphere&&F.computeBoundingSphere(),Ce.copy(F.boundingSphere.center)):(null===fa.boundingSphere&&fa.computeBoundingSphere(),Ce.copy(fa.boundingSphere.center)),Ce.applyMatrix4(F.matrixWorld).applyMatrix4(kd)),Array.isArray(Ua)){const $a=fa.groups;for(let Pa=0,yb=$a.length;Pa<yb;Pa++){const oc=$a[Pa],tb=Ua[oc.materialIndex];tb&&tb.visible&&xa.push(F,fa,tb,na,Ce.z,oc)}}else Ua.visible&&xa.push(F,fa,
Ua,na,Ce.z,null);F=F.children;for(let $a=0,Pa=F.length;$a<Pa;$a++)r(F[$a],aa,na,ea)}}function t(F,aa,na,ea){const fa=F.opaque,Ua=F.transmissive;F=F.transparent;ya.setupLightsView(na);!0===zb&&kf.setGlobalState(T.clippingPlanes,na);if(0<Ua.length){var $a=Kb.isWebGL2;null===sb&&(sb=new Sb(1,1,{generateMipmaps:!0,type:nc.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:$a?4:0}));T.getDrawingBufferSize(Tg);$a?sb.setSize(Tg.x,Tg.y):sb.setSize(Mc(Tg.x),Mc(Tg.y));$a=T.getRenderTarget();
T.setRenderTarget(sb);T.getClearColor(L);Q=T.getClearAlpha();1>Q&&T.setClearColor(16777215,.5);T.clear();const oc=T.toneMapping;T.toneMapping=0;w(fa,aa,na);ac.updateMultisampleRenderTarget(sb);ac.updateRenderTargetMipmap(sb);var Pa=!1;for(let tb=0,Xc=Ua.length;tb<Xc;tb++){var yb=Ua[tb];const mf=yb.object,Ee=yb.geometry,Fe=yb.material;yb=yb.group;2===Fe.side&&mf.layers.test(na.layers)&&(Pa=Fe.side,Fe.side=1,Fe.needsUpdate=!0,B(mf,aa,na,Ee,Fe,yb),Fe.side=Pa,Pa=Fe.needsUpdate=!0)}!0===Pa&&(ac.updateMultisampleRenderTarget(sb),
ac.updateRenderTargetMipmap(sb));T.setRenderTarget($a);T.setClearColor(L,Q);T.toneMapping=oc}ea&&Fb.viewport(pb.copy(ea));0<fa.length&&w(fa,aa,na);0<Ua.length&&w(Ua,aa,na);0<F.length&&w(F,aa,na);Fb.buffers.depth.setTest(!0);Fb.buffers.depth.setMask(!0);Fb.buffers.color.setMask(!0);Fb.setPolygonOffset(!1)}function w(F,aa,na){const ea=!0===aa.isScene?aa.overrideMaterial:null;for(let Ua=0,$a=F.length;Ua<$a;Ua++){var fa=F[Ua];const Pa=fa.object,yb=fa.geometry,oc=null===ea?fa.material:ea;fa=fa.group;Pa.layers.test(na.layers)&&
B(Pa,aa,na,yb,oc,fa)}}function B(F,aa,na,ea,fa,Ua){F.onBeforeRender(T,aa,na,ea,fa,Ua);F.modelViewMatrix.multiplyMatrices(na.matrixWorldInverse,F.matrixWorld);F.normalMatrix.getNormalMatrix(F.modelViewMatrix);fa.onBeforeRender(T,aa,na,ea,F,Ua);!0===fa.transparent&&2===fa.side&&!1===fa.forceSinglePass?(fa.side=1,fa.needsUpdate=!0,T.renderBufferDirect(na,aa,ea,fa,F,Ua),fa.side=0,fa.needsUpdate=!0,T.renderBufferDirect(na,aa,ea,fa,F,Ua),fa.side=2):T.renderBufferDirect(na,aa,ea,fa,F,Ua);F.onAfterRender(T,
aa,na,ea,fa,Ua)}function z(F,aa,na){!0!==aa.isScene&&(aa=xj);const ea=Lb.get(F),fa=ya.state.lights,Ua=fa.state.version,$a=Vf.getParameters(F,fa.state,ya.state.shadowsArray,aa,na),Pa=Vf.getProgramCacheKey($a);let yb=ea.programs;ea.environment=F.isMeshStandardMaterial?aa.environment:null;ea.fog=aa.fog;ea.envMap=(F.isMeshStandardMaterial?Vg:Ug).get(F.envMap||ea.environment);void 0===yb&&(F.addEventListener("dispose",l),yb=new Map,ea.programs=yb);aa=yb.get(Pa);if(void 0!==aa){if(ea.currentProgram===aa&&
ea.lightsStateVersion===Ua)return A(F,$a),aa}else $a.uniforms=Vf.getUniforms(F),F.onBuild(na,$a,T),F.onBeforeCompile($a,T),aa=Vf.acquireProgram($a,Pa),yb.set(Pa,aa),ea.uniforms=$a.uniforms;na=ea.uniforms;if(!F.isShaderMaterial&&!F.isRawShaderMaterial||!0===F.clipping)na.clippingPlanes=kf.uniform;A(F,$a);ea.needsLights=F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&!0===F.lights;ea.lightsStateVersion=Ua;ea.needsLights&&
(na.ambientLightColor.value=fa.state.ambient,na.lightProbe.value=fa.state.probe,na.directionalLights.value=fa.state.directional,na.directionalLightShadows.value=fa.state.directionalShadow,na.spotLights.value=fa.state.spot,na.spotLightShadows.value=fa.state.spotShadow,na.rectAreaLights.value=fa.state.rectArea,na.ltc_1.value=fa.state.rectAreaLTC1,na.ltc_2.value=fa.state.rectAreaLTC2,na.pointLights.value=fa.state.point,na.pointLightShadows.value=fa.state.pointShadow,na.hemisphereLights.value=fa.state.hemi,
na.directionalShadowMap.value=fa.state.directionalShadowMap,na.directionalShadowMatrix.value=fa.state.directionalShadowMatrix,na.spotShadowMap.value=fa.state.spotShadowMap,na.spotLightMatrix.value=fa.state.spotLightMatrix,na.spotLightMap.value=fa.state.spotLightMap,na.pointShadowMap.value=fa.state.pointShadowMap,na.pointShadowMatrix.value=fa.state.pointShadowMatrix);F=aa.getUniforms();F=mg.seqWithValue(F.seq,na);ea.currentProgram=aa;ea.uniformsList=F;return aa}function A(F,aa){F=Lb.get(F);F.outputColorSpace=
aa.outputColorSpace;F.instancing=aa.instancing;F.instancingColor=aa.instancingColor;F.skinning=aa.skinning;F.morphTargets=aa.morphTargets;F.morphNormals=aa.morphNormals;F.morphColors=aa.morphColors;F.morphTargetsCount=aa.morphTargetsCount;F.numClippingPlanes=aa.numClippingPlanes;F.numIntersection=aa.numClipIntersection;F.vertexAlphas=aa.vertexAlphas;F.vertexTangents=aa.vertexTangents;F.toneMapping=aa.toneMapping}const {canvas:v=nf(),context:G=null,depth:J=!0,stencil:O=!0,alpha:K=!1,antialias:P=!1,
premultipliedAlpha:ba=!0,preserveDrawingBuffer:ca=!1,powerPreference:U="default",failIfMajorPerformanceCaveat:pa=!1}=a;this.isWebGLRenderer=!0;let X;X=null!==G?G.getContextAttributes().alpha:K;const za=new Uint32Array(4),ta=new Int32Array(4);let xa=null,ya=null;const Ca=[],Wa=[];this.domElement=v;this.debug={checkShaderErrors:!0,onShaderError:null};this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this._outputColorSpace=
"srgb";this._useLegacyLights=!1;this.toneMapping=0;this.toneMappingExposure=1;const T=this;let Ba=!1,Na=0,Xa=0,wa=null,Ja=-1,eb=null;const pb=new Ab,C=new Ab;let E=null;const L=new Ma(0);let Q=0,S=v.width,M=v.height,oa=1,Z=null,ja=null;const ka=new Ab(0,0,S,M),Fa=new Ab(0,0,S,M);let Ka=!1;const Ra=new Yf;let zb=!1,Ta=!1,sb=null;const kd=new kb,Tg=new va,Ce=new I,xj={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ma=G;try{const F={alpha:!0,depth:J,stencil:O,antialias:P,
premultipliedAlpha:ba,preserveDrawingBuffer:ca,powerPreference:U,failIfMajorPerformanceCaveat:pa};"setAttribute"in v&&v.setAttribute("data-engine","three.js r157");v.addEventListener("webglcontextlost",d,!1);v.addEventListener("webglcontextrestored",f,!1);v.addEventListener("webglcontextcreationerror",h,!1);if(null===ma){const aa=["webgl2","webgl","experimental-webgl"];!0===T.isWebGL1Renderer&&aa.shift();ma=b(aa,F);if(null===ma){if(b(aa))throw Error("Error creating WebGL context with your selected attributes.");
throw Error("Error creating WebGL context.");}}"undefined"!==typeof WebGLRenderingContext&&ma instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163.");void 0===ma.getShaderPrecisionFormat&&(ma.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F;}let nc,Kb,Fb,Kd,Lb,ac,Ug,Vg,Wg,Em,yj,Vf,Fm,Nl,Ol,kf,De,lf,Km,Lm,Mm,jf,ii,Pl;c();
const Ld=new cg(T,ma);this.xr=Ld;this.getContext=function(){return ma};this.getContextAttributes=function(){return ma.getContextAttributes()};this.forceContextLoss=function(){const F=nc.get("WEBGL_lose_context");F&&F.loseContext()};this.forceContextRestore=function(){const F=nc.get("WEBGL_lose_context");F&&F.restoreContext()};this.getPixelRatio=function(){return oa};this.setPixelRatio=function(F){void 0!==F&&(oa=F,this.setSize(S,M,!1))};this.getSize=function(F){return F.set(S,M)};this.setSize=function(F,
aa,na=!0){Ld.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=F,M=aa,v.width=Math.floor(F*oa),v.height=Math.floor(aa*oa),!0===na&&(v.style.width=F+"px",v.style.height=aa+"px"),this.setViewport(0,0,F,aa))};this.getDrawingBufferSize=function(F){return F.set(S*oa,M*oa).floor()};this.setDrawingBufferSize=function(F,aa,na){S=F;M=aa;oa=na;v.width=Math.floor(F*na);v.height=Math.floor(aa*na);this.setViewport(0,0,F,aa)};this.getCurrentViewport=function(F){return F.copy(pb)};
this.getViewport=function(F){return F.copy(ka)};this.setViewport=function(F,aa,na,ea){F.isVector4?ka.set(F.x,F.y,F.z,F.w):ka.set(F,aa,na,ea);Fb.viewport(pb.copy(ka).multiplyScalar(oa).floor())};this.getScissor=function(F){return F.copy(Fa)};this.setScissor=function(F,aa,na,ea){F.isVector4?Fa.set(F.x,F.y,F.z,F.w):Fa.set(F,aa,na,ea);Fb.scissor(C.copy(Fa).multiplyScalar(oa).floor())};this.getScissorTest=function(){return Ka};this.setScissorTest=function(F){Fb.setScissorTest(Ka=F)};this.setOpaqueSort=
function(F){Z=F};this.setTransparentSort=function(F){ja=F};this.getClearColor=function(F){return F.copy(lf.getClearColor())};this.setClearColor=function(){lf.setClearColor.apply(lf,arguments)};this.getClearAlpha=function(){return lf.getClearAlpha()};this.setClearAlpha=function(){lf.setClearAlpha.apply(lf,arguments)};this.clear=function(F=!0,aa=!0,na=!0){let ea=0;if(F)if(F=!1,null!==wa&&(F=wa.texture.format,F=1033===F||1031===F||1029===F),F){F=wa.texture.type;F=1009===F||1014===F||1012===F||1020===
F||1017===F||1018===F;var fa=lf.getClearColor();const Ua=lf.getClearAlpha(),$a=fa.r,Pa=fa.g;fa=fa.b;F?(za[0]=$a,za[1]=Pa,za[2]=fa,za[3]=Ua,ma.clearBufferuiv(ma.COLOR,0,za)):(ta[0]=$a,ta[1]=Pa,ta[2]=fa,ta[3]=Ua,ma.clearBufferiv(ma.COLOR,0,ta))}else ea|=ma.COLOR_BUFFER_BIT;aa&&(ea|=ma.DEPTH_BUFFER_BIT);na&&(ea|=ma.STENCIL_BUFFER_BIT);ma.clear(ea)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=
function(){v.removeEventListener("webglcontextlost",d,!1);v.removeEventListener("webglcontextrestored",f,!1);v.removeEventListener("webglcontextcreationerror",h,!1);Nl.dispose();Ol.dispose();Lb.dispose();Ug.dispose();Vg.dispose();yj.dispose();ii.dispose();Pl.dispose();Vf.dispose();Ld.dispose();Ld.removeEventListener("sessionstart",n);Ld.removeEventListener("sessionend",p);sb&&(sb.dispose(),sb=null);ji.stop()};this.renderBufferDirect=function(F,aa,na,ea,fa,Ua){null===aa&&(aa=xj);var $a=fa.isMesh&&
0>fa.matrixWorld.determinant(),Pa=aa;!0!==Pa.isScene&&(Pa=xj);ac.resetTextureUnits();aa=Pa.fog;var yb=ea.isMeshStandardMaterial?Pa.environment:null,oc=null===wa?T.outputColorSpace:!0===wa.isXRRenderTarget?wa.texture.colorSpace:"srgb-linear";yb=(ea.isMeshStandardMaterial?Vg:Ug).get(ea.envMap||yb);var tb=!0===ea.vertexColors&&!!na.attributes.color&&4===na.attributes.color.itemSize,Xc=!!na.attributes.tangent&&(!!ea.normalMap||0<ea.anisotropy),mf=!!na.morphAttributes.position,Ee=!!na.morphAttributes.normal;
const Fe=!!na.morphAttributes.color;let Ql=0;!ea.toneMapped||null!==wa&&!0!==wa.isXRRenderTarget||(Ql=T.toneMapping);var mb=na.morphAttributes.position||na.morphAttributes.normal||na.morphAttributes.color;const Tm=void 0!==mb?mb.length:0;mb=Lb.get(ea);const Um=ya.state.lights;!0!==zb||!0!==Ta&&F===eb||kf.setState(ea,F,F===eb&&ea.id===Ja);let Dc=!1;ea.version===mb.__version?mb.needsLights&&mb.lightsStateVersion!==Um.state.version?Dc=!0:mb.outputColorSpace!==oc?Dc=!0:fa.isInstancedMesh&&!1===mb.instancing?
Dc=!0:fa.isInstancedMesh||!0!==mb.instancing?fa.isSkinnedMesh&&!1===mb.skinning?Dc=!0:fa.isSkinnedMesh||!0!==mb.skinning?fa.isInstancedMesh&&!0===mb.instancingColor&&null===fa.instanceColor?Dc=!0:fa.isInstancedMesh&&!1===mb.instancingColor&&null!==fa.instanceColor?Dc=!0:mb.envMap!==yb?Dc=!0:!0===ea.fog&&mb.fog!==aa?Dc=!0:void 0===mb.numClippingPlanes||mb.numClippingPlanes===kf.numPlanes&&mb.numIntersection===kf.numIntersection?mb.vertexAlphas!==tb?Dc=!0:mb.vertexTangents!==Xc?Dc=!0:mb.morphTargets!==
mf?Dc=!0:mb.morphNormals!==Ee?Dc=!0:mb.morphColors!==Fe?Dc=!0:mb.toneMapping!==Ql?Dc=!0:!0===Kb.isWebGL2&&mb.morphTargetsCount!==Tm&&(Dc=!0):Dc=!0:Dc=!0:Dc=!0:(Dc=!0,mb.__version=ea.version);oc=mb.currentProgram;!0===Dc&&(oc=z(ea,Pa,fa));mf=Xc=Ee=!1;Pa=oc.getUniforms();tb=mb.uniforms;Fb.useProgram(oc.program)&&(mf=Xc=Ee=!0);ea.id!==Ja&&(Ja=ea.id,Xc=!0);if(Ee||eb!==F)Pa.setValue(ma,"projectionMatrix",F.projectionMatrix),Pa.setValue(ma,"viewMatrix",F.matrixWorldInverse),Ee=Pa.map.cameraPosition,void 0!==
Ee&&Ee.setValue(ma,Ce.setFromMatrixPosition(F.matrixWorld)),Kb.logarithmicDepthBuffer&&Pa.setValue(ma,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(ea.isMeshPhongMaterial||ea.isMeshToonMaterial||ea.isMeshLambertMaterial||ea.isMeshBasicMaterial||ea.isMeshStandardMaterial||ea.isShaderMaterial)&&Pa.setValue(ma,"isOrthographic",!0===F.isOrthographicCamera),eb!==F&&(eb=F,mf=Xc=!0);fa.isSkinnedMesh&&(Pa.setOptional(ma,fa,"bindMatrix"),Pa.setOptional(ma,fa,"bindMatrixInverse"),F=fa.skeleton)&&(Kb.floatVertexTextures?
(null===F.boneTexture&&F.computeBoneTexture(),Pa.setValue(ma,"boneTexture",F.boneTexture,ac),Pa.setValue(ma,"boneTextureSize",F.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."));F=na.morphAttributes;(void 0!==F.position||void 0!==F.normal||void 0!==F.color&&!0===Kb.isWebGL2)&&Km.update(fa,na,oc);if(Xc||mb.receiveShadow!==fa.receiveShadow)mb.receiveShadow=fa.receiveShadow,Pa.setValue(ma,
"receiveShadow",fa.receiveShadow);ea.isMeshGouraudMaterial&&null!==ea.envMap&&(tb.envMap.value=yb,tb.flipEnvMap.value=yb.isCubeTexture&&!1===yb.isRenderTargetTexture?-1:1);Xc&&(Pa.setValue(ma,"toneMappingExposure",T.toneMappingExposure),mb.needsLights&&(F=mf,tb.ambientLightColor.needsUpdate=F,tb.lightProbe.needsUpdate=F,tb.directionalLights.needsUpdate=F,tb.directionalLightShadows.needsUpdate=F,tb.pointLights.needsUpdate=F,tb.pointLightShadows.needsUpdate=F,tb.spotLights.needsUpdate=F,tb.spotLightShadows.needsUpdate=
F,tb.rectAreaLights.needsUpdate=F,tb.hemisphereLights.needsUpdate=F),aa&&!0===ea.fog&&Fm.refreshFogUniforms(tb,aa),Fm.refreshMaterialUniforms(tb,ea,oa,M,sb),mg.upload(ma,mb.uniformsList,tb,ac));ea.isShaderMaterial&&!0===ea.uniformsNeedUpdate&&(mg.upload(ma,mb.uniformsList,tb,ac),ea.uniformsNeedUpdate=!1);ea.isSpriteMaterial&&Pa.setValue(ma,"center",fa.center);Pa.setValue(ma,"modelViewMatrix",fa.modelViewMatrix);Pa.setValue(ma,"normalMatrix",fa.normalMatrix);Pa.setValue(ma,"modelMatrix",fa.matrixWorld);
if(ea.isShaderMaterial||ea.isRawShaderMaterial){aa=ea.uniformsGroups;for(let Gm=0,Vm=aa.length;Gm<Vm;Gm++)Kb.isWebGL2?(F=aa[Gm],Pl.update(F,oc),Pl.bind(F,oc)):console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}aa=oc;Fb.setMaterial(ea,$a);F=na.index;yb=1;if(!0===ea.wireframe){F=Em.getWireframeAttribute(na);if(void 0===F)return;yb=2}Pa=na.drawRange;mb=na.attributes.position;$a=Pa.start*yb;Pa=(Pa.start+Pa.count)*yb;null!==Ua&&($a=Math.max($a,Ua.start*yb),Pa=Math.min(Pa,
(Ua.start+Ua.count)*yb));null!==F?($a=Math.max($a,0),Pa=Math.min(Pa,F.count)):void 0!==mb&&null!==mb&&($a=Math.max($a,0),Pa=Math.min(Pa,mb.count));Ua=Pa-$a;0>Ua||Infinity===Ua||(ii.setup(fa,ea,aa,na,F),aa=Lm,null!==F&&(F=Wg.get(F),aa=Mm,aa.setIndex(F)),fa.isMesh?!0===ea.wireframe?(Fb.setLineWidth(ea.wireframeLinewidth*(null===wa?oa:1)),aa.setMode(ma.LINES)):aa.setMode(ma.TRIANGLES):fa.isLine?(ea=ea.linewidth,void 0===ea&&(ea=1),Fb.setLineWidth(ea*(null===wa?oa:1)),fa.isLineSegments?aa.setMode(ma.LINES):
fa.isLineLoop?aa.setMode(ma.LINE_LOOP):aa.setMode(ma.LINE_STRIP)):fa.isPoints?aa.setMode(ma.POINTS):fa.isSprite&&aa.setMode(ma.TRIANGLES),fa.isInstancedMesh?aa.renderInstances($a,Ua,fa.count):na.isInstancedBufferGeometry?aa.renderInstances($a,Ua,Math.min(na.instanceCount,void 0!==na._maxInstanceCount?na._maxInstanceCount:Infinity)):aa.render($a,Ua))};this.compile=function(F,aa){function na(ea,fa,Ua){!0===ea.transparent&&2===ea.side&&!1===ea.forceSinglePass?(ea.side=1,ea.needsUpdate=!0,z(ea,fa,Ua),
ea.side=0,ea.needsUpdate=!0,z(ea,fa,Ua),ea.side=2):z(ea,fa,Ua)}ya=Ol.get(F);ya.init();Wa.push(ya);F.traverseVisible(function(ea){ea.isLight&&ea.layers.test(aa.layers)&&(ya.pushLight(ea),ea.castShadow&&ya.pushShadow(ea))});ya.setupLights(T._useLegacyLights);F.traverse(function(ea){const fa=ea.material;if(fa)if(Array.isArray(fa))for(let Ua=0;Ua<fa.length;Ua++)na(fa[Ua],F,ea);else na(fa,F,ea)});Wa.pop();ya=null};let Hm=null;const ji=new Gc;ji.setAnimationLoop(function(F){Hm&&Hm(F)});"undefined"!==typeof self&&
ji.setContext(self);this.setAnimationLoop=function(F){Hm=F;Ld.setAnimationLoop(F);null===F?ji.stop():ji.start()};Ld.addEventListener("sessionstart",n);Ld.addEventListener("sessionend",p);this.render=function(F,aa){if(void 0!==aa&&!0!==aa.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!0!==Ba){!0===F.matrixWorldAutoUpdate&&F.updateMatrixWorld();null===aa.parent&&!0===aa.matrixWorldAutoUpdate&&aa.updateMatrixWorld();!0===Ld.enabled&&!0===Ld.isPresenting&&
(!0===Ld.cameraAutoUpdate&&Ld.updateCamera(aa),aa=Ld.getCamera());if(!0===F.isScene)F.onBeforeRender(T,F,aa,wa);ya=Ol.get(F,Wa.length);ya.init();Wa.push(ya);kd.multiplyMatrices(aa.projectionMatrix,aa.matrixWorldInverse);Ra.setFromProjectionMatrix(kd);Ta=this.localClippingEnabled;zb=kf.init(this.clippingPlanes,Ta);xa=Nl.get(F,Ca.length);xa.init();Ca.push(xa);r(F,aa,0,T.sortObjects);xa.finish();!0===T.sortObjects&&xa.sort(Z,ja);this.info.render.frame++;!0===zb&&kf.beginShadows();De.render(ya.state.shadowsArray,
F,aa);!0===zb&&kf.endShadows();!0===this.info.autoReset&&this.info.reset();lf.render(xa,F);ya.setupLights(T._useLegacyLights);if(aa.isArrayCamera){const na=aa.cameras;for(let ea=0,fa=na.length;ea<fa;ea++){const Ua=na[ea];t(xa,F,Ua,Ua.viewport)}}else t(xa,F,aa);null!==wa&&(ac.updateMultisampleRenderTarget(wa),ac.updateRenderTargetMipmap(wa));if(!0===F.isScene)F.onAfterRender(T,F,aa);ii.resetDefaultState();Ja=-1;eb=null;Wa.pop();ya=0<Wa.length?Wa[Wa.length-1]:null;Ca.pop();xa=0<Ca.length?Ca[Ca.length-
1]:null}};this.getActiveCubeFace=function(){return Na};this.getActiveMipmapLevel=function(){return Xa};this.getRenderTarget=function(){return wa};this.setRenderTargetTextures=function(F,aa,na){Lb.get(F.texture).__webglTexture=aa;Lb.get(F.depthTexture).__webglTexture=na;F=Lb.get(F);F.__hasExternalTextures=!0;F.__hasExternalTextures&&(F.__autoAllocateDepthBuffer=void 0===na,F.__autoAllocateDepthBuffer||!0!==nc.has("WEBGL_multisampled_render_to_texture")||(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),
F.__useRenderToTexture=!1))};this.setRenderTargetFramebuffer=function(F,aa){F=Lb.get(F);F.__webglFramebuffer=aa;F.__useDefaultFramebuffer=void 0===aa};this.setRenderTarget=function(F,aa=0,na=0){wa=F;Na=aa;Xa=na;let ea=!0;var fa=null;let Ua=!1,$a=!1;if(F){fa=Lb.get(F);void 0!==fa.__useDefaultFramebuffer?(Fb.bindFramebuffer(ma.FRAMEBUFFER,null),ea=!1):void 0===fa.__webglFramebuffer?ac.setupRenderTarget(F):fa.__hasExternalTextures&&ac.rebindTextures(F,Lb.get(F.texture).__webglTexture,Lb.get(F.depthTexture).__webglTexture);
fa=F.texture;if(fa.isData3DTexture||fa.isDataArrayTexture||fa.isCompressedArrayTexture)$a=!0;fa=Lb.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(fa=Array.isArray(fa[aa])?fa[aa][na]:fa[aa],Ua=!0):fa=Kb.isWebGL2&&0<F.samples&&!1===ac.useMultisampledRTT(F)?Lb.get(F).__webglMultisampledFramebuffer:Array.isArray(fa)?fa[na]:fa;pb.copy(F.viewport);C.copy(F.scissor);E=F.scissorTest}else pb.copy(ka).multiplyScalar(oa).floor(),C.copy(Fa).multiplyScalar(oa).floor(),E=Ka;Fb.bindFramebuffer(ma.FRAMEBUFFER,
fa)&&Kb.drawBuffers&&ea&&Fb.drawBuffers(F,fa);Fb.viewport(pb);Fb.scissor(C);Fb.setScissorTest(E);Ua?(F=Lb.get(F.texture),ma.framebufferTexture2D(ma.FRAMEBUFFER,ma.COLOR_ATTACHMENT0,ma.TEXTURE_CUBE_MAP_POSITIVE_X+aa,F.__webglTexture,na)):$a&&(F=Lb.get(F.texture),ma.framebufferTextureLayer(ma.FRAMEBUFFER,ma.COLOR_ATTACHMENT0,F.__webglTexture,na||0,aa||0));Ja=-1};this.readRenderTargetPixels=function(F,aa,na,ea,fa,Ua,$a){if(F&&F.isWebGLRenderTarget){var Pa=Lb.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget&&
void 0!==$a&&(Pa=Pa[$a]);if(Pa){Fb.bindFramebuffer(ma.FRAMEBUFFER,Pa);try{const oc=F.texture,tb=oc.format,Xc=oc.type;if(1023!==tb&&jf.convert(tb)!==ma.getParameter(ma.IMPLEMENTATION_COLOR_READ_FORMAT))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");else{var yb=1016===Xc&&(nc.has("EXT_color_buffer_half_float")||Kb.isWebGL2&&nc.has("EXT_color_buffer_float"));1009===Xc||jf.convert(Xc)===ma.getParameter(ma.IMPLEMENTATION_COLOR_READ_TYPE)||
1015===Xc&&(Kb.isWebGL2||nc.has("OES_texture_float")||nc.has("WEBGL_color_buffer_float"))||yb?0<=aa&&aa<=F.width-ea&&0<=na&&na<=F.height-fa&&ma.readPixels(aa,na,ea,fa,jf.convert(tb),jf.convert(Xc),Ua):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}}finally{F=null!==wa?Lb.get(wa).__webglFramebuffer:null,Fb.bindFramebuffer(ma.FRAMEBUFFER,F)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};
this.copyFramebufferToTexture=function(F,aa,na=0){var ea=Math.pow(2,-na);const fa=Math.floor(aa.image.width*ea);ea=Math.floor(aa.image.height*ea);ac.setTexture2D(aa,0);ma.copyTexSubImage2D(ma.TEXTURE_2D,na,0,0,F.x,F.y,fa,ea);Fb.unbindTexture()};this.copyTextureToTexture=function(F,aa,na,ea=0){const fa=aa.image.width,Ua=aa.image.height,$a=jf.convert(na.format),Pa=jf.convert(na.type);ac.setTexture2D(na,0);ma.pixelStorei(ma.UNPACK_FLIP_Y_WEBGL,na.flipY);ma.pixelStorei(ma.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
na.premultiplyAlpha);ma.pixelStorei(ma.UNPACK_ALIGNMENT,na.unpackAlignment);aa.isDataTexture?ma.texSubImage2D(ma.TEXTURE_2D,ea,F.x,F.y,fa,Ua,$a,Pa,aa.image.data):aa.isCompressedTexture?ma.compressedTexSubImage2D(ma.TEXTURE_2D,ea,F.x,F.y,aa.mipmaps[0].width,aa.mipmaps[0].height,$a,aa.mipmaps[0].data):ma.texSubImage2D(ma.TEXTURE_2D,ea,F.x,F.y,$a,Pa,aa.image);0===ea&&na.generateMipmaps&&ma.generateMipmap(ma.TEXTURE_2D);Fb.unbindTexture()};this.copyTextureToTexture3D=function(F,aa,na,ea,fa=0){if(T.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");
else{var Ua=F.max.x-F.min.x+1,$a=F.max.y-F.min.y+1,Pa=F.max.z-F.min.z+1,yb=jf.convert(ea.format),oc=jf.convert(ea.type);if(ea.isData3DTexture){ac.setTexture3D(ea,0);var tb=ma.TEXTURE_3D}else if(ea.isDataArrayTexture)ac.setTexture2DArray(ea,0),tb=ma.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ma.pixelStorei(ma.UNPACK_FLIP_Y_WEBGL,ea.flipY);ma.pixelStorei(ma.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ea.premultiplyAlpha);
ma.pixelStorei(ma.UNPACK_ALIGNMENT,ea.unpackAlignment);var Xc=ma.getParameter(ma.UNPACK_ROW_LENGTH),mf=ma.getParameter(ma.UNPACK_IMAGE_HEIGHT),Ee=ma.getParameter(ma.UNPACK_SKIP_PIXELS),Fe=ma.getParameter(ma.UNPACK_SKIP_ROWS),Ql=ma.getParameter(ma.UNPACK_SKIP_IMAGES),mb=na.isCompressedTexture?na.mipmaps[0]:na.image;ma.pixelStorei(ma.UNPACK_ROW_LENGTH,mb.width);ma.pixelStorei(ma.UNPACK_IMAGE_HEIGHT,mb.height);ma.pixelStorei(ma.UNPACK_SKIP_PIXELS,F.min.x);ma.pixelStorei(ma.UNPACK_SKIP_ROWS,F.min.y);
ma.pixelStorei(ma.UNPACK_SKIP_IMAGES,F.min.z);na.isDataTexture||na.isData3DTexture?ma.texSubImage3D(tb,fa,aa.x,aa.y,aa.z,Ua,$a,Pa,yb,oc,mb.data):na.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ma.compressedTexSubImage3D(tb,fa,aa.x,aa.y,aa.z,Ua,$a,Pa,yb,mb.data)):ma.texSubImage3D(tb,fa,aa.x,aa.y,aa.z,Ua,$a,Pa,yb,oc,mb);ma.pixelStorei(ma.UNPACK_ROW_LENGTH,Xc);ma.pixelStorei(ma.UNPACK_IMAGE_HEIGHT,mf);ma.pixelStorei(ma.UNPACK_SKIP_PIXELS,
Ee);ma.pixelStorei(ma.UNPACK_SKIP_ROWS,Fe);ma.pixelStorei(ma.UNPACK_SKIP_IMAGES,Ql);0===fa&&ea.generateMipmaps&&ma.generateMipmap(tb);Fb.unbindTexture()}};this.initTexture=function(F){F.isCubeTexture?ac.setTextureCube(F,0):F.isData3DTexture?ac.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?ac.setTexture2DArray(F,0):ac.setTexture2D(F,0);Fb.unbindTexture()};this.resetState=function(){Xa=Na=0;wa=null;Fb.reset();ii.reset()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",
{detail:this}))}get coordinateSystem(){return 2E3}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(a){this._outputColorSpace=a;const b=this.getContext();b.drawingBufferColorSpace="display-p3"===a?"display-p3":"srgb";b.unpackColorSpace="display-p3-linear"===Db.workingColorSpace?"display-p3":"srgb"}get physicallyCorrectLights(){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");return!this.useLegacyLights}set physicallyCorrectLights(a){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");
this.useLegacyLights=!a}get outputEncoding(){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead.");return"srgb"===this.outputColorSpace?3001:3E3}set outputEncoding(a){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead.");this.outputColorSpace=3001===a?"srgb":"srgb-linear"}get useLegacyLights(){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733.");
return this._useLegacyLights}set useLegacyLights(a){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733.");this._useLegacyLights=a}}class Hj extends si{}Hj.prototype.isWebGL1Renderer=!0;class Di{constructor(a,b=2.5E-4){this.isFogExp2=!0;this.name="";this.color=new Ma(a);this.density=b}clone(){return new Di(this.color,this.density)}toJSON(){return{type:"FogExp2",
name:this.name,color:this.color.getHex(),density:this.density}}}class Ei{constructor(a,b=1,c=1E3){this.isFog=!0;this.name="";this.color=new Ma(a);this.near=b;this.far=c}clone(){return new Ei(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Wj extends wb{constructor(){super();this.isScene=!0;this.type="Scene";this.fog=this.environment=this.background=null;this.backgroundBlurriness=0;this.backgroundIntensity=1;this.overrideMaterial=
null;"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,b){super.copy(a,b);null!==a.background&&(this.background=a.background.clone());null!==a.environment&&(this.environment=a.environment.clone());null!==a.fog&&(this.fog=a.fog.clone());this.backgroundBlurriness=a.backgroundBlurriness;this.backgroundIntensity=a.backgroundIntensity;null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.matrixAutoUpdate=
a.matrixAutoUpdate;return this}toJSON(a){a=super.toJSON(a);null!==this.fog&&(a.object.fog=this.fog.toJSON());0<this.backgroundBlurriness&&(a.object.backgroundBlurriness=this.backgroundBlurriness);1!==this.backgroundIntensity&&(a.object.backgroundIntensity=this.backgroundIntensity);return a}}class ph{constructor(a,b){this.isInterleavedBuffer=!0;this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=Oa()}onUploadCallback(){}set needsUpdate(a){!0===
a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this}copyAt(a,b,c){a*=this.stride;c*=b.stride;for(let d=0,f=this.stride;d<f;d++)this.array[a+d]=b.array[c+d];return this}set(a,b=0){this.array.set(a,b);return this}clone(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oa());void 0===a.arrayBuffers[this.array.buffer._uuid]&&
(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new this.constructor(a,this.stride);a.setUsage(this.usage);return a}onUpload(a){this.onUploadCallback=a;return this}toJSON(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oa());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer)));
return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Nc=new I;class Je{constructor(a,b,c,d=!1){this.isInterleavedBufferAttribute=!0;this.name="";this.data=a;this.itemSize=b;this.offset=c;this.normalized=d}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(a){this.data.needsUpdate=a}applyMatrix4(a){for(let b=0,c=this.data.count;b<c;b++)Nc.fromBufferAttribute(this,b),Nc.applyMatrix4(a),this.setXYZ(b,Nc.x,
Nc.y,Nc.z);return this}applyNormalMatrix(a){for(let b=0,c=this.count;b<c;b++)Nc.fromBufferAttribute(this,b),Nc.applyNormalMatrix(a),this.setXYZ(b,Nc.x,Nc.y,Nc.z);return this}transformDirection(a){for(let b=0,c=this.count;b<c;b++)Nc.fromBufferAttribute(this,b),Nc.transformDirection(a),this.setXYZ(b,Nc.x,Nc.y,Nc.z);return this}setX(a,b){this.normalized&&(b=Ya(b,this.array));this.data.array[a*this.data.stride+this.offset]=b;return this}setY(a,b){this.normalized&&(b=Ya(b,this.array));this.data.array[a*
this.data.stride+this.offset+1]=b;return this}setZ(a,b){this.normalized&&(b=Ya(b,this.array));this.data.array[a*this.data.stride+this.offset+2]=b;return this}setW(a,b){this.normalized&&(b=Ya(b,this.array));this.data.array[a*this.data.stride+this.offset+3]=b;return this}getX(a){a=this.data.array[a*this.data.stride+this.offset];this.normalized&&(a=Gb(a,this.array));return a}getY(a){a=this.data.array[a*this.data.stride+this.offset+1];this.normalized&&(a=Gb(a,this.array));return a}getZ(a){a=this.data.array[a*
this.data.stride+this.offset+2];this.normalized&&(a=Gb(a,this.array));return a}getW(a){a=this.data.array[a*this.data.stride+this.offset+3];this.normalized&&(a=Gb(a,this.array));return a}setXY(a,b,c){a=a*this.data.stride+this.offset;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array));this.data.array[a+0]=b;this.data.array[a+1]=c;return this}setXYZ(a,b,c,d){a=a*this.data.stride+this.offset;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array),d=Ya(d,this.array));this.data.array[a+0]=b;this.data.array[a+
1]=c;this.data.array[a+2]=d;return this}setXYZW(a,b,c,d,f){a=a*this.data.stride+this.offset;this.normalized&&(b=Ya(b,this.array),c=Ya(c,this.array),d=Ya(d,this.array),f=Ya(f,this.array));this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=f;return this}clone(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");a=[];for(let b=0;b<this.count;b++){const c=b*this.data.stride+
this.offset;for(let d=0;d<this.itemSize;d++)a.push(this.data.array[c+d])}return new xb(new this.array.constructor(a),this.itemSize,this.normalized)}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a));return new Je(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");
a=[];for(let b=0;b<this.count;b++){const c=b*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)a.push(this.data.array[c+d])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}
class Dk extends Sc{constructor(a){super();this.isSpriteMaterial=!0;this.type="SpriteMaterial";this.color=new Ma(16777215);this.alphaMap=this.map=null;this.rotation=0;this.fog=this.transparent=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}let Ng;const Bb=new I,cd=new I,fg=new I,gg=new va,hh=new va,Wk=new kb,wf=new I,md=new I,
hg=new I,ih=new va,hf=new va,Ai=new va;class Og extends wb{constructor(a=new Dk){super();this.isSprite=!0;this.type="Sprite";if(void 0===Ng){Ng=new ob;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new ph(b,5);Ng.setIndex([0,1,2,0,2,3]);Ng.setAttribute("position",new Je(b,3,0,!1));Ng.setAttribute("uv",new Je(b,2,3,!1))}this.geometry=Ng;this.material=a;this.center=new va(.5,.5)}raycast(a,b){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');
cd.setFromMatrixScale(this.matrixWorld);Wk.copy(a.camera.matrixWorld);this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld);fg.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&cd.multiplyScalar(-fg.z);var c=this.material.rotation;let d;if(0!==c){d=Math.cos(c);var f=Math.sin(c)}c=this.center;qh(wf.set(-.5,-.5,0),fg,c,cd,f,d);qh(md.set(.5,-.5,0),fg,c,cd,f,d);qh(hg.set(.5,.5,0),fg,c,cd,f,d);ih.set(0,0);hf.set(1,
0);Ai.set(1,1);let h=a.ray.intersectTriangle(wf,md,hg,!1,Bb);if(null===h&&(qh(md.set(-.5,.5,0),fg,c,cd,f,d),hf.set(0,1),h=a.ray.intersectTriangle(wf,hg,md,!1,Bb),null===h))return;f=a.ray.origin.distanceTo(Bb);f<a.near||f>a.far||b.push({distance:f,point:Bb.clone(),uv:Bc.getInterpolation(Bb,wf,md,hg,ih,hf,Ai,new va),face:null,object:this})}copy(a,b){super.copy(a,b);void 0!==a.center&&this.center.copy(a.center);this.material=a.material;return this}}const Fi=new I,qj=new I;class rj extends wb{constructor(){super();
this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}});this.autoUpdate=!0}copy(a){super.copy(a,!1);const b=a.levels;for(let c=0,d=b.length;c<d;c++){const f=b[c];this.addLevel(f.object.clone(),f.distance,f.hysteresis)}this.autoUpdate=a.autoUpdate;return this}addLevel(a,b=0,c=0){b=Math.abs(b);const d=this.levels;let f;for(f=0;f<d.length&&!(b<d[f].distance);f++);d.splice(f,0,{distance:b,hysteresis:c,object:a});this.add(a);return this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(a){const b=
this.levels;if(0<b.length){let c,d;c=1;for(d=b.length;c<d;c++){let f=b[c].distance;b[c].object.visible&&(f-=f*b[c].hysteresis);if(a<f)break}return b[c-1].object}return null}raycast(a,b){if(0<this.levels.length){Fi.setFromMatrixPosition(this.matrixWorld);const c=a.ray.origin.distanceTo(Fi);this.getObjectForDistance(c).raycast(a,b)}}update(a){const b=this.levels;if(1<b.length){Fi.setFromMatrixPosition(a.matrixWorld);qj.setFromMatrixPosition(this.matrixWorld);a=Fi.distanceTo(qj)/a.zoom;b[0].object.visible=
!0;let c,d;c=1;for(d=b.length;c<d;c++){let f=b[c].distance;b[c].object.visible&&(f-=f*b[c].hysteresis);if(a>=f)b[c-1].object.visible=!1,b[c].object.visible=!0;else break}for(this._currentLevel=c-1;c<d;c++)b[c].object.visible=!1}}toJSON(a){a=super.toJSON(a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];const b=this.levels;for(let c=0,d=b.length;c<d;c++){const f=b[c];a.object.levels.push({object:f.object.uuid,distance:f.distance,hysteresis:f.hysteresis})}return a}}const Pg=new I,
bi=new Ab,Vj=new Ab,Bm=new I,ql=new kb,Qg=new I,nh=new Tb,Il=new kb,Xj=new Ze;class Jl extends wc{constructor(a,b){super(a,b);this.isSkinnedMesh=!0;this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new kb;this.bindMatrixInverse=new kb;this.boundingSphere=this.boundingBox=null}computeBoundingBox(){var a=this.geometry;null===this.boundingBox&&(this.boundingBox=new Ed);this.boundingBox.makeEmpty();a=a.getAttribute("position");for(let b=0;b<a.count;b++)Qg.fromBufferAttribute(a,b),this.applyBoneTransform(b,
Qg),this.boundingBox.expandByPoint(Qg)}computeBoundingSphere(){var a=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Tb);this.boundingSphere.makeEmpty();a=a.getAttribute("position");for(let b=0;b<a.count;b++)Qg.fromBufferAttribute(a,b),this.applyBoneTransform(b,Qg),this.boundingSphere.expandByPoint(Qg)}copy(a,b){super.copy(a,b);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;null!==a.boundingBox&&
(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this}raycast(a,b){const c=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),nh.copy(this.boundingSphere),nh.applyMatrix4(c),!1!==a.ray.intersectsSphere(nh)&&(Il.copy(c).invert(),Xj.copy(a.ray).applyMatrix4(Il),null!==this.boundingBox&&!1===Xj.intersectsBox(this.boundingBox)||this._computeIntersections(a,b,Xj)))}getVertexPosition(a,
b){super.getVertexPosition(a,b);this.applyBoneTransform(a,b);return b}bind(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.copy(b).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const a=new Ab,b=this.geometry.attributes.skinWeight;for(let c=0,d=b.count;c<d;c++){a.fromBufferAttribute(b,c);const f=1/a.manhattanLength();Infinity!==f?a.multiplyScalar(f):a.set(1,0,0,0);b.setXYZW(c,
a.x,a.y,a.z,a.w)}}updateMatrixWorld(a){super.updateMatrixWorld(a);"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(a,b){const c=this.skeleton;var d=this.geometry;bi.fromBufferAttribute(d.attributes.skinIndex,a);Vj.fromBufferAttribute(d.attributes.skinWeight,a);Pg.copy(b).applyMatrix4(this.bindMatrix);
b.set(0,0,0);for(a=0;4>a;a++)if(d=Vj.getComponent(a),0!==d){const f=bi.getComponent(a);ql.multiplyMatrices(c.bones[f].matrixWorld,c.boneInverses[f]);b.addScaledVector(Bm.copy(Pg).applyMatrix4(ql),d)}return b.applyMatrix4(this.bindMatrixInverse)}boneTransform(a,b){console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151.");return this.applyBoneTransform(a,b)}}class Yj extends wb{constructor(){super();this.isBone=!0;this.type="Bone"}}class Rg extends hc{constructor(a=
null,b=1,c=1,d,f,h,l,m,n=1003,p=1003,r,t){super(null,h,l,m,n,p,d,f,r,t);this.isDataTexture=!0;this.image={data:a,width:b,height:c};this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}const ak=new kb,Cm=new kb;class Ek{constructor(a=[],b=[]){this.uuid=Oa();this.bones=a.slice(0);this.boneInverses=b;this.boneTexture=this.boneMatrices=null;this.boneTextureSize=0;this.init()}init(){const a=this.bones,b=this.boneInverses;this.boneMatrices=new Float32Array(16*a.length);if(0===b.length)this.calculateInverses();
else if(a.length!==b.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.");this.boneInverses=[];for(let c=0,d=this.bones.length;c<d;c++)this.boneInverses.push(new kb)}}calculateInverses(){this.boneInverses.length=0;for(let a=0,b=this.bones.length;a<b;a++){const c=new kb;this.bones[a]&&c.copy(this.bones[a].matrixWorld).invert();this.boneInverses.push(c)}}pose(){for(let b=0,c=this.bones.length;b<c;b++){var a=this.bones[b];a&&a.matrixWorld.copy(this.boneInverses[b]).invert()}for(let b=
0,c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}update(){const a=this.bones,b=this.boneInverses,c=this.boneMatrices,d=this.boneTexture;for(let f=0,h=a.length;f<h;f++)ak.multiplyMatrices(a[f]?a[f].matrixWorld:Cm,b[f]),ak.toArray(c,16*f);null!==d&&(d.needsUpdate=!0)}clone(){return new Ek(this.bones,this.boneInverses)}computeBoneTexture(){let a=
Math.sqrt(4*this.bones.length);a=rb(a);a=Math.max(a,4);const b=new Float32Array(a*a*4);b.set(this.boneMatrices);const c=new Rg(b,a,a,1023,1015);c.needsUpdate=!0;this.boneMatrices=b;this.boneTexture=c;this.boneTextureSize=a;return this}getBoneByName(a){for(let b=0,c=this.bones.length;b<c;b++){const d=this.bones[b];if(d.name===a)return d}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(a,b){this.uuid=a.uuid;for(let c=0,d=a.bones.length;c<d;c++){const f=
a.bones[c];let h=b[f];void 0===h&&(console.warn("THREE.Skeleton: No bone found with UUID:",f),h=new Yj);this.bones.push(h);this.boneInverses.push((new kb).fromArray(a.boneInverses[c]))}this.init();return this}toJSON(){const a={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};a.uuid=this.uuid;const b=this.bones,c=this.boneInverses;for(let d=0,f=b.length;d<f;d++)a.bones.push(b[d].uuid),a.boneInverses.push(c[d].toArray());return a}}class ig extends xb{constructor(a,
b,c,d=1){super(a,b,c);this.isInstancedBufferAttribute=!0;this.meshPerAttribute=d}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}toJSON(){const a=super.toJSON();a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}}const Sg=new kb,pl=new kb,sj=[],Zj=new Ed,Dm=new kb,oh=new wc,ci=new Tb;class rl extends wc{constructor(a,b,c){super(a,b);this.isInstancedMesh=!0;this.instanceMatrix=new ig(new Float32Array(16*c),16);this.instanceColor=null;this.count=
c;this.boundingSphere=this.boundingBox=null;for(a=0;a<c;a++)this.setMatrixAt(a,Dm)}computeBoundingBox(){const a=this.geometry,b=this.count;null===this.boundingBox&&(this.boundingBox=new Ed);null===a.boundingBox&&a.computeBoundingBox();this.boundingBox.makeEmpty();for(let c=0;c<b;c++)this.getMatrixAt(c,Sg),Zj.copy(a.boundingBox).applyMatrix4(Sg),this.boundingBox.union(Zj)}computeBoundingSphere(){const a=this.geometry,b=this.count;null===this.boundingSphere&&(this.boundingSphere=new Tb);null===a.boundingSphere&&
a.computeBoundingSphere();this.boundingSphere.makeEmpty();for(let c=0;c<b;c++)this.getMatrixAt(c,Sg),ci.copy(a.boundingSphere).applyMatrix4(Sg),this.boundingSphere.union(ci)}copy(a,b){super.copy(a,b);this.instanceMatrix.copy(a.instanceMatrix);null!==a.instanceColor&&(this.instanceColor=a.instanceColor.clone());this.count=a.count;null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this}getColorAt(a,b){b.fromArray(this.instanceColor.array,
3*a)}getMatrixAt(a,b){b.fromArray(this.instanceMatrix.array,16*a)}raycast(a,b){const c=this.matrixWorld,d=this.count;oh.geometry=this.geometry;oh.material=this.material;if(void 0!==oh.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),ci.copy(this.boundingSphere),ci.applyMatrix4(c),!1!==a.ray.intersectsSphere(ci)))for(let f=0;f<d;f++){this.getMatrixAt(f,Sg);pl.multiplyMatrices(c,Sg);oh.matrixWorld=pl;oh.raycast(a,sj);for(let h=0,l=sj.length;h<l;h++){const m=sj[h];m.instanceId=f;m.object=
this;b.push(m)}sj.length=0}}setColorAt(a,b){null===this.instanceColor&&(this.instanceColor=new ig(new Float32Array(3*this.instanceMatrix.count),3));b.toArray(this.instanceColor.array,3*a)}setMatrixAt(a,b){b.toArray(this.instanceMatrix.array,16*a)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Wc extends Sc{constructor(a){super();this.isLineBasicMaterial=!0;this.type="LineBasicMaterial";this.color=new Ma(16777215);this.map=null;this.linewidth=1;this.linejoin=this.linecap=
"round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.fog=a.fog;return this}}const sl=new I,bl=new I,yi=new kb,Tf=new Ze,rh=new Tb;class ke extends wb{constructor(a=new ob,b=new Wc){super();this.isLine=!0;this.type="Line";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);this.material=Array.isArray(a.material)?a.material.slice():a.material;
this.geometry=a.geometry;return this}computeLineDistances(){const a=this.geometry;if(null===a.index){const b=a.attributes.position,c=[0];for(let d=1,f=b.count;d<f;d++)sl.fromBufferAttribute(b,d-1),bl.fromBufferAttribute(b,d),c[d]=c[d-1],c[d]+=sl.distanceTo(bl);a.setAttribute("lineDistance",new Sa(c,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(a,b){var c=this.geometry,d=this.matrixWorld,f=a.params.Line.threshold,
h=c.drawRange;null===c.boundingSphere&&c.computeBoundingSphere();rh.copy(c.boundingSphere);rh.applyMatrix4(d);rh.radius+=f;if(!1!==a.ray.intersectsSphere(rh)){yi.copy(d).invert();Tf.copy(a.ray).applyMatrix4(yi);d=f/((this.scale.x+this.scale.y+this.scale.z)/3);d*=d;f=new I;var l=new I,m=new I,n=new I,p=this.isLineSegments?2:1,r=c.index;c=c.attributes.position;if(null!==r){var t=Math.max(0,h.start);h=Math.min(r.count,h.start+h.count);for(let w=t,B=h-1;w<B;w+=p)h=r.getX(w),t=r.getX(w+1),f.fromBufferAttribute(c,
h),l.fromBufferAttribute(c,t),Tf.distanceSqToSegment(f,l,n,m)>d||(n.applyMatrix4(this.matrixWorld),h=a.ray.origin.distanceTo(n),h<a.near||h>a.far||b.push({distance:h,point:m.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this}))}else{r=Math.max(0,h.start);h=Math.min(c.count,h.start+h.count);for(let w=r,B=h-1;w<B;w+=p)f.fromBufferAttribute(c,w),l.fromBufferAttribute(c,w+1),Tf.distanceSqToSegment(f,l,n,m)>d||(n.applyMatrix4(this.matrixWorld),h=a.ray.origin.distanceTo(n),
h<a.near||h>a.far||b.push({distance:h,point:m.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this}))}}}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}}const Nj=new I,Mj=new I;class Vc extends ke{constructor(a,b){super(a,b);
this.isLineSegments=!0;this.type="LineSegments"}computeLineDistances(){const a=this.geometry;if(null===a.index){const b=a.attributes.position,c=[];for(let d=0,f=b.count;d<f;d+=2)Nj.fromBufferAttribute(b,d),Mj.fromBufferAttribute(b,d+1),c[d]=0===d?0:c[d-1],c[d+1]=c[d]+Nj.distanceTo(Mj);a.setAttribute("lineDistance",new Sa(c,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dl extends ke{constructor(a,b){super(a,
b);this.isLineLoop=!0;this.type="LineLoop"}}class xf extends Sc{constructor(a){super();this.isPointsMaterial=!0;this.type="PointsMaterial";this.color=new Ma(16777215);this.alphaMap=this.map=null;this.size=1;this.fog=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}const kg=new kb,Gi=new Ze,Uf=new Tb,di=new I;class Fk extends wb{constructor(a=
new ob,b=new xf){super();this.isPoints=!0;this.type="Points";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);this.material=Array.isArray(a.material)?a.material.slice():a.material;this.geometry=a.geometry;return this}raycast(a,b){var c=this.geometry;const d=this.matrixWorld;var f=a.params.Points.threshold,h=c.drawRange;null===c.boundingSphere&&c.computeBoundingSphere();Uf.copy(c.boundingSphere);Uf.applyMatrix4(d);Uf.radius+=f;if(!1!==a.ray.intersectsSphere(Uf)){kg.copy(d).invert();
Gi.copy(a.ray).applyMatrix4(kg);f/=(this.scale.x+this.scale.y+this.scale.z)/3;f*=f;var l=c.index;c=c.attributes.position;if(null!==l){const m=Math.max(0,h.start);h=Math.min(l.count,h.start+h.count);for(let n=m,p=h;n<p;n++)h=l.getX(n),di.fromBufferAttribute(c,h),sh(di,h,f,d,a,b,this)}else{l=Math.max(0,h.start);h=Math.min(c.count,h.start+h.count);for(let m=l,n=h;m<n;m++)di.fromBufferAttribute(c,m),sh(di,m,f,d,a,b,this)}}}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<
b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}}class nd extends hc{constructor(a,b,c,d,f,h,l,m,n){function p(){r.needsUpdate=!0;a.requestVideoFrameCallback(p)}super(a,b,c,d,f,h,l,m,n);this.isVideoTexture=!0;this.minFilter=void 0!==h?h:1006;this.magFilter=void 0!==f?f:1006;this.generateMipmaps=!1;const r=this;"requestVideoFrameCallback"in
a&&a.requestVideoFrameCallback(p)}clone(){return(new this.constructor(this.image)).copy(this)}update(){const a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class om extends hc{constructor(a,b){super({width:a,height:b});this.isFramebufferTexture=!0;this.minFilter=this.magFilter=1003;this.generateMipmaps=!1;this.needsUpdate=!0}}class Hi extends hc{constructor(a,b,c,d,f,h,l,m,n,p,r,t){super(null,h,l,m,n,p,d,f,r,t);this.isCompressedTexture=
!0;this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}}class lg extends Hi{constructor(a,b,c,d,f,h){super(a,b,c,f,h);this.isCompressedArrayTexture=!0;this.image.depth=d;this.wrapR=1001}}class Uj extends Hi{constructor(a,b,c){super(void 0,a[0].width,a[0].height,b,c,301);this.isCubeTexture=this.isCompressedCubeTexture=!0;this.image=a}}class mh extends hc{constructor(a,b,c,d,f,h,l,m,n){super(a,b,c,d,f,h,l,m,n);this.needsUpdate=this.isCanvasTexture=!0}}class ed{constructor(){this.type=
"Curve";this.arcLengthDivisions=200}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.");return null}getPointAt(a,b){a=this.getUtoTmapping(a);return this.getPoint(a,b)}getPoints(a=5){const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));return b}getSpacedPoints(a=5){const b=[];for(let c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b}getLength(){const a=this.getLengths();return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===
a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const b=[];let c,d=this.getPoint(0),f=0;b.push(0);for(let h=1;h<=a;h++)c=this.getPoint(h/a),f+=c.distanceTo(d),b.push(f),d=c;return this.cacheArcLengths=b}updateArcLengths(){this.needsUpdate=!0;this.getLengths()}getUtoTmapping(a,b){const c=this.getLengths(),d=c.length;b=b?b:a*c[d-1];var f=0;let h=d-1,l;for(;f<=h;)if(a=Math.floor(f+(h-f)/2),l=c[a]-b,0>l)f=a+1;else if(0<l)h=a-1;else{h=a;break}a=h;if(c[a]===b)return a/(d-1);f=c[a];
return(a+(b-f)/(c[a+1]-f))/(d-1)}getTangent(a,b){var c=a-1E-4;a+=1E-4;0>c&&(c=0);1<a&&(a=1);c=this.getPoint(c);a=this.getPoint(a);b=b||(c.isVector2?new va:new I);b.copy(a).sub(c).normalize();return b}getTangentAt(a,b){a=this.getUtoTmapping(a);return this.getTangent(a,b)}computeFrenetFrames(a,b){var c=new I;const d=[],f=[],h=[];var l=new I;const m=new kb;for(var n=0;n<=a;n++)d[n]=this.getTangentAt(n/a,new I);f[0]=new I;h[0]=new I;n=Number.MAX_VALUE;const p=Math.abs(d[0].x),r=Math.abs(d[0].y),t=Math.abs(d[0].z);
p<=n&&(n=p,c.set(1,0,0));r<=n&&(n=r,c.set(0,1,0));t<=n&&c.set(0,0,1);l.crossVectors(d[0],c).normalize();f[0].crossVectors(d[0],l);h[0].crossVectors(d[0],f[0]);for(c=1;c<=a;c++)f[c]=f[c-1].clone(),h[c]=h[c-1].clone(),l.crossVectors(d[c-1],d[c]),l.length()>Number.EPSILON&&(l.normalize(),n=Math.acos(Za(d[c-1].dot(d[c]),-1,1)),f[c].applyMatrix4(m.makeRotationAxis(l,n))),h[c].crossVectors(d[c],f[c]);if(!0===b)for(b=Math.acos(Za(f[0].dot(f[a]),-1,1)),b/=a,0<d[0].dot(l.crossVectors(f[0],f[a]))&&(b=-b),l=
1;l<=a;l++)f[l].applyMatrix4(m.makeRotationAxis(d[l],b*l)),h[l].crossVectors(d[l],f[l]);return{tangents:d,normals:f,binormals:h}}clone(){return(new this.constructor).copy(this)}copy(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}toJSON(){const a={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a}fromJSON(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}}class ei extends ed{constructor(a=0,b=
0,c=1,d=1,f=0,h=2*Math.PI,l=!1,m=0){super();this.isEllipseCurve=!0;this.type="EllipseCurve";this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=f;this.aEndAngle=h;this.aClockwise=l;this.aRotation=m}getPoint(a,b){b=b||new va;for(var c=2*Math.PI,d=this.aEndAngle-this.aStartAngle,f=Math.abs(d)<Number.EPSILON;0>d;)d+=c;for(;d>c;)d-=c;d<Number.EPSILON&&(d=f?0:c);!0!==this.aClockwise||f||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*Math.cos(c);var h=this.aY+this.yRadius*
Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=a-this.aX,h-=this.aY,a=f*c-h*d+this.aX,h=f*d+h*c+this.aY);return b.set(a,h)}copy(a){super.copy(a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}toJSON(){const a=super.toJSON();a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=
this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a}fromJSON(a){super.fromJSON(a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}}class tj extends ei{constructor(a,b,c,d,f,h){super(a,b,c,c,d,f,h);this.isArcCurve=!0;this.type="ArcCurve"}}const $e=new I,Ci=new Ii,Bi=new Ii,Uh=new Ii;class jj extends ed{constructor(a=
[],b=!1,c="centripetal",d=.5){super();this.isCatmullRomCurve3=!0;this.type="CatmullRomCurve3";this.points=a;this.closed=b;this.curveType=c;this.tension=d}getPoint(a,b=new I){var c=this.points,d=c.length;a*=d-(this.closed?0:1);var f=Math.floor(a);a-=f;this.closed?f+=0<f?0:(Math.floor(Math.abs(f)/d)+1)*d:0===a&&f===d-1&&(f=d-2,a=1);let h;this.closed||0<f?h=c[(f-1)%d]:($e.subVectors(c[0],c[1]).add(c[0]),h=$e);const l=c[f%d],m=c[(f+1)%d];this.closed||f+2<d?c=c[(f+2)%d]:($e.subVectors(c[d-1],c[d-2]).add(c[d-
1]),c=$e);if("centripetal"===this.curveType||"chordal"===this.curveType){var n="chordal"===this.curveType?.5:.25;d=Math.pow(h.distanceToSquared(l),n);f=Math.pow(l.distanceToSquared(m),n);n=Math.pow(m.distanceToSquared(c),n);1E-4>f&&(f=1);1E-4>d&&(d=f);1E-4>n&&(n=f);Ci.initNonuniformCatmullRom(h.x,l.x,m.x,c.x,d,f,n);Bi.initNonuniformCatmullRom(h.y,l.y,m.y,c.y,d,f,n);Uh.initNonuniformCatmullRom(h.z,l.z,m.z,c.z,d,f,n)}else"catmullrom"===this.curveType&&(Ci.initCatmullRom(h.x,l.x,m.x,c.x,this.tension),
Bi.initCatmullRom(h.y,l.y,m.y,c.y,this.tension),Uh.initCatmullRom(h.z,l.z,m.z,c.z,this.tension));b.set(Ci.calc(a),Bi.calc(a),Uh.calc(a));return b}copy(a){super.copy(a);this.points=[];for(let b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}toJSON(){const a=super.toJSON();a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;
a.tension=this.tension;return a}fromJSON(a){super.fromJSON(a);this.points=[];for(let b=0,c=a.points.length;b<c;b++){const d=a.points[b];this.points.push((new I).fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}}class gj extends ed{constructor(a=new va,b=new va,c=new va,d=new va){super();this.isCubicBezierCurve=!0;this.type="CubicBezierCurve";this.v0=a;this.v1=b;this.v2=c;this.v3=d}getPoint(a,b=new va){const c=this.v0,d=this.v1,f=this.v2,h=this.v3;b.set(Td(a,
c.x,d.x,f.x,h.x),Td(a,c.y,d.y,f.y,h.y));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class Fl extends ed{constructor(a=new I,b=new I,c=new I,d=new I){super();
this.isCubicBezierCurve3=!0;this.type="CubicBezierCurve3";this.v0=a;this.v1=b;this.v2=c;this.v3=d}getPoint(a,b=new I){const c=this.v0,d=this.v1,f=this.v2,h=this.v3;b.set(Td(a,c.x,d.x,f.x,h.x),Td(a,c.y,d.y,f.y,h.y),Td(a,c.z,d.z,f.z,h.z));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);
this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class fi extends ed{constructor(a=new va,b=new va){super();this.isLineCurve=!0;this.type="LineCurve";this.v1=a;this.v2=b}getPoint(a,b=new va){1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b}getPointAt(a,b){return this.getPoint(a,b)}getTangent(a,b=new va){return b.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,b){return this.getTangent(a,
b)}copy(a){super.copy(a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class gi extends ed{constructor(a=new I,b=new I){super();this.isLineCurve3=!0;this.type="LineCurve3";this.v1=a;this.v2=b}getPoint(a,b=new I){1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b}getPointAt(a,
b){return this.getPoint(a,b)}getTangent(a,b=new I){return b.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,b){return this.getTangent(a,b)}copy(a){super.copy(a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Ud extends ed{constructor(a=new va,b=new va,c=new va){super();this.isQuadraticBezierCurve=!0;this.type=
"QuadraticBezierCurve";this.v0=a;this.v1=b;this.v2=c}getPoint(a,b=new va){const c=this.v0,d=this.v1,f=this.v2;b.set(zf(a,c.x,d.x,f.x),zf(a,c.y,d.y,f.y));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class pg extends ed{constructor(a=
new I,b=new I,c=new I){super();this.isQuadraticBezierCurve3=!0;this.type="QuadraticBezierCurve3";this.v0=a;this.v1=b;this.v2=c}getPoint(a,b=new I){const c=this.v0,d=this.v1,f=this.v2;b.set(zf(a,c.x,d.x,f.x),zf(a,c.y,d.y,f.y),zf(a,c.z,d.z,f.z));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);
this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Ke extends ed{constructor(a=[]){super();this.isSplineCurve=!0;this.type="SplineCurve";this.points=a}getPoint(a,b=new va){var c=this.points,d=(c.length-1)*a;a=Math.floor(d);d-=a;const f=c[0===a?a:a-1],h=c[a],l=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(Ji(d,f.x,h.x,l.x,c.x),Ji(d,f.y,h.y,l.y,c.y));return b}copy(a){super.copy(a);this.points=[];for(let b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());
return this}toJSON(){const a=super.toJSON();a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());return a}fromJSON(a){super.fromJSON(a);this.points=[];for(let b=0,c=a.points.length;b<c;b++){const d=a.points[b];this.points.push((new va).fromArray(d))}return this}}var uh=Object.freeze({__proto__:null,ArcCurve:tj,CatmullRomCurve3:jj,CubicBezierCurve:gj,CubicBezierCurve3:Fl,EllipseCurve:ei,LineCurve:fi,LineCurve3:gi,QuadraticBezierCurve:Ud,QuadraticBezierCurve3:pg,
SplineCurve:Ke});class Ki extends ed{constructor(){super();this.type="CurvePath";this.curves=[];this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new uh[!0===a.isVector2?"LineCurve":"LineCurve3"](b,a));return this}getPoint(a,b){var c=a*this.getLength(),d=this.getCurveLengths();for(a=0;a<d.length;){if(d[a]>=c)return c=d[a]-c,a=this.curves[a],d=a.getLength(),a.getPointAt(0===d?0:1-
c/d,b);a++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const a=[];let b=0;for(let c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a}getSpacedPoints(a=40){const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&
b.push(b[0]);return b}getPoints(a=12){const b=[];let c;for(let f=0,h=this.curves;f<h.length;f++){var d=h[f];d=d.getPoints(d.isEllipseCurve?2*a:d.isLineCurve||d.isLineCurve3?1:d.isSplineCurve?a*d.points.length:a);for(let l=0;l<d.length;l++){const m=d[l];c&&c.equals(m)||(b.push(m),c=m)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b}copy(a){super.copy(a);this.curves=[];for(let b=0,c=a.curves.length;b<c;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;
return this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose;a.curves=[];for(let b=0,c=this.curves.length;b<c;b++)a.curves.push(this.curves[b].toJSON());return a}fromJSON(a){super.fromJSON(a);this.autoClose=a.autoClose;this.curves=[];for(let b=0,c=a.curves.length;b<c;b++){const d=a.curves[b];this.curves.push((new uh[d.type]).fromJSON(d))}return this}}class Vd extends Ki{constructor(a){super();this.type="Path";this.currentPoint=new va;a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,
a[0].y);for(let b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y);return this}moveTo(a,b){this.currentPoint.set(a,b);return this}lineTo(a,b){const c=new fi(this.currentPoint.clone(),new va(a,b));this.curves.push(c);this.currentPoint.set(a,b);return this}quadraticCurveTo(a,b,c,d){a=new Ud(this.currentPoint.clone(),new va(a,b),new va(c,d));this.curves.push(a);this.currentPoint.set(c,d);return this}bezierCurveTo(a,b,c,d,f,h){a=new gj(this.currentPoint.clone(),new va(a,b),new va(c,d),new va(f,h));this.curves.push(a);
this.currentPoint.set(f,h);return this}splineThru(a){var b=[this.currentPoint.clone()].concat(a);b=new Ke(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1]);return this}arc(a,b,c,d,f,h){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,f,h);return this}absarc(a,b,c,d,f,h){this.absellipse(a,b,c,c,d,f,h);return this}ellipse(a,b,c,d,f,h,l,m){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,f,h,l,m);return this}absellipse(a,b,c,d,f,h,l,m){a=new ei(a,b,c,d,f,h,l,m);0<
this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);return this}copy(a){super.copy(a);this.currentPoint.copy(a.currentPoint);return this}toJSON(){const a=super.toJSON();a.currentPoint=this.currentPoint.toArray();return a}fromJSON(a){super.fromJSON(a);this.currentPoint.fromArray(a.currentPoint);return this}}class wd extends ob{constructor(a=[new va(0,-.5),new va(.5,0),new va(0,.5)],b=12,c=0,d=2*Math.PI){super();
this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b);d=Za(d,0,2*Math.PI);const f=[],h=[],l=[];var m=[];const n=[];var p=1/b,r=new I,t=new va,w=new I,B=new I,z=new I;let A;for(let G=0;G<=a.length-1;G++)switch(G){case 0:var v=a[G+1].x-a[G].x;A=a[G+1].y-a[G].y;w.x=1*A;w.y=-v;w.z=0*A;z.copy(w);w.normalize();m.push(w.x,w.y,w.z);break;case a.length-1:m.push(z.x,z.y,z.z);break;default:v=a[G+1].x-a[G].x,A=a[G+1].y-a[G].y,w.x=1*A,w.y=-v,w.z=0*A,B.copy(w),w.x+=
z.x,w.y+=z.y,w.z+=z.z,w.normalize(),m.push(w.x,w.y,w.z),z.copy(B)}for(w=0;w<=b;w++)for(z=c+w*p*d,B=Math.sin(z),z=Math.cos(z),v=0;v<=a.length-1;v++)r.x=a[v].x*B,r.y=a[v].y,r.z=a[v].x*z,h.push(r.x,r.y,r.z),t.x=w/b,t.y=v/(a.length-1),l.push(t.x,t.y),n.push(m[3*v]*B,m[3*v+1],m[3*v]*z);for(c=0;c<b;c++)for(d=0;d<a.length-1;d++)m=d+c*a.length,p=m+a.length,r=m+a.length+1,t=m+1,f.push(m,p,t),f.push(r,t,p);this.setIndex(f);this.setAttribute("position",new Sa(h,3));this.setAttribute("uv",new Sa(l,2));this.setAttribute("normal",
new Sa(n,3))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new wd(a.points,a.segments,a.phiStart,a.phiLength)}}class yc extends wd{constructor(a=1,b=1,c=4,d=8){const f=new Vd;f.absarc(0,-b/2,a,1.5*Math.PI,0);f.absarc(0,b/2,a,0,.5*Math.PI);super(f.getPoints(c),d);this.type="CapsuleGeometry";this.parameters={radius:a,length:b,capSegments:c,radialSegments:d}}static fromJSON(a){return new yc(a.radius,a.length,a.capSegments,a.radialSegments)}}
class Oc extends ob{constructor(a=1,b=32,c=0,d=2*Math.PI){super();this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};b=Math.max(3,b);const f=[],h=[],l=[],m=[],n=new I,p=new va;h.push(0,0,0);l.push(0,0,1);m.push(.5,.5);for(let r=0,t=3;r<=b;r++,t+=3){const w=c+r/b*d;n.x=a*Math.cos(w);n.y=a*Math.sin(w);h.push(n.x,n.y,n.z);l.push(0,0,1);p.x=(h[t]/a+1)/2;p.y=(h[t+1]/a+1)/2;m.push(p.x,p.y)}for(a=1;a<=b;a++)f.push(a,a+1,0);this.setIndex(f);this.setAttribute("position",
new Sa(h,3));this.setAttribute("normal",new Sa(l,3));this.setAttribute("uv",new Sa(m,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Oc(a.radius,a.segments,a.thetaStart,a.thetaLength)}}class xd extends ob{constructor(a=1,b=1,c=1,d=32,f=1,h=!1,l=0,m=2*Math.PI){function n(J){const O=z;var K=new va,P=new I;let ba=0;var ca=!0===J?a:b;const U=!0===J?1:-1;for(var pa=1;pa<=d;pa++)t.push(0,v*U,0),w.push(0,U,0),B.push(.5,.5),z++;pa=z;for(let za=
0;za<=d;za++){var X=za/d*m+l;const ta=Math.cos(X);X=Math.sin(X);P.x=ca*X;P.y=v*U;P.z=ca*ta;t.push(P.x,P.y,P.z);w.push(0,U,0);K.x=.5*ta+.5;K.y=.5*X*U+.5;B.push(K.x,K.y);z++}for(K=0;K<d;K++)P=O+K,ca=pa+K,!0===J?r.push(ca,ca+1,P):r.push(ca+1,ca,P),ba+=3;p.addGroup(G,ba,!0===J?1:2);G+=ba}super();this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:f,openEnded:h,thetaStart:l,thetaLength:m};const p=this;d=Math.floor(d);f=Math.floor(f);const r=
[],t=[],w=[],B=[];let z=0;const A=[],v=c/2;let G=0;(function(){var J=new I,O=new I;let K=0;var P=(b-a)/c;for(var ba=0;ba<=f;ba++){var ca=[];const pa=ba/f,X=pa*(b-a)+a;for(let za=0;za<=d;za++){const ta=za/d;var U=ta*m+l;const xa=Math.sin(U);U=Math.cos(U);O.x=X*xa;O.y=-pa*c+v;O.z=X*U;t.push(O.x,O.y,O.z);J.set(xa,P,U).normalize();w.push(J.x,J.y,J.z);B.push(ta,1-pa);ca.push(z++)}A.push(ca)}for(J=0;J<d;J++)for(O=0;O<f;O++)P=A[O+1][J],ba=A[O+1][J+1],ca=A[O][J+1],r.push(A[O][J],P,ca),r.push(P,ba,ca),K+=
6;p.addGroup(G,K,0);G+=K})();!1===h&&(0<a&&n(!0),0<b&&n(!1));this.setIndex(r);this.setAttribute("position",new Sa(t,3));this.setAttribute("normal",new Sa(w,3));this.setAttribute("uv",new Sa(B,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new xd(a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Oh extends xd{constructor(a=1,b=1,c=32,d=1,f=!1,h=0,l=2*Math.PI){super(0,a,
b,c,d,f,h,l);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:f,thetaStart:h,thetaLength:l}}static fromJSON(a){return new Oh(a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class jd extends ob{constructor(a=[],b=[],c=1,d=0){function f(p){m.push(p.x,p.y,p.z)}function h(p,r){p*=3;r.x=a[p+0];r.y=a[p+1];r.z=a[p+2]}function l(p,r,t,w){0>w&&1===p.x&&(n[r]=p.x-1);0===t.x&&0===t.z&&(n[r]=w/2/Math.PI+.5)}super();
this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};const m=[],n=[];(function(p){const r=new I,t=new I,w=new I;for(let v=0;v<b.length;v+=3){h(b[v+0],r);h(b[v+1],t);h(b[v+2],w);var B=r,z=t,A=w;const G=p+1,J=[];for(let O=0;O<=G;O++){J[O]=[];const K=B.clone().lerp(A,O/G),P=z.clone().lerp(A,O/G),ba=G-O;for(let ca=0;ca<=ba;ca++)J[O][ca]=0===ca&&O===G?K:K.clone().lerp(P,ca/ba)}for(B=0;B<G;B++)for(z=0;z<2*(G-B)-1;z++)A=Math.floor(z/2),0===z%2?(f(J[B][A+1]),f(J[B+1][A]),
f(J[B][A])):(f(J[B][A+1]),f(J[B+1][A+1]),f(J[B+1][A]))}})(d);(function(p){const r=new I;for(let t=0;t<m.length;t+=3)r.x=m[t+0],r.y=m[t+1],r.z=m[t+2],r.normalize().multiplyScalar(p),m[t+0]=r.x,m[t+1]=r.y,m[t+2]=r.z})(c);(function(){var p=new I;for(var r=0;r<m.length;r+=3)p.x=m[r+0],p.y=m[r+1],p.z=m[r+2],n.push(Math.atan2(p.z,-p.x)/2/Math.PI+.5,1-(Math.atan2(-p.y,Math.sqrt(p.x*p.x+p.z*p.z))/Math.PI+.5));p=new I;r=new I;var t=new I,w=new I,B=new va;const z=new va,A=new va;for(let v=0,G=0;v<m.length;v+=
9,G+=6){p.set(m[v+0],m[v+1],m[v+2]);r.set(m[v+3],m[v+4],m[v+5]);t.set(m[v+6],m[v+7],m[v+8]);B.set(n[G+0],n[G+1]);z.set(n[G+2],n[G+3]);A.set(n[G+4],n[G+5]);w.copy(p).add(r).add(t).divideScalar(3);const J=Math.atan2(w.z,-w.x);l(B,G+0,p,J);l(z,G+2,r,J);l(A,G+4,t,J)}for(p=0;p<n.length;p+=6)r=n[p+0],t=n[p+2],w=n[p+4],B=Math.min(r,t,w),.9<Math.max(r,t,w)&&.1>B&&(.2>r&&(n[p+0]+=1),.2>t&&(n[p+2]+=1),.2>w&&(n[p+4]+=1))})();this.setAttribute("position",new Sa(m,3));this.setAttribute("normal",new Sa(m.slice(),
3));this.setAttribute("uv",new Sa(n,2));0===d?this.computeVertexNormals():this.normalizeNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new jd(a.vertices,a.indices,a.radius,a.details)}}class fk extends jd{constructor(a=1,b=0){const c=(1+Math.sqrt(5))/2,d=1/c;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,
7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new fk(a.radius,a.detail)}}const qg=new I,rg=new I,xk=new I,hi=new Bc;class uj extends ob{constructor(a=null,b=1){super();this.type="EdgesGeometry";this.parameters=
{geometry:a,thresholdAngle:b};if(null!==a){const d=Math.pow(10,4);b=Math.cos(Oe*b);const f=a.getIndex();a=a.getAttribute("position");const h=f?f.count:a.count,l=[0,0,0],m=["a","b","c"],n=Array(3),p={},r=[];for(let t=0;t<h;t+=3){f?(l[0]=f.getX(t),l[1]=f.getX(t+1),l[2]=f.getX(t+2)):(l[0]=t,l[1]=t+1,l[2]=t+2);const {a:w,b:B,c:z}=hi;w.fromBufferAttribute(a,l[0]);B.fromBufferAttribute(a,l[1]);z.fromBufferAttribute(a,l[2]);hi.getNormal(xk);n[0]=`${Math.round(w.x*d)},${Math.round(w.y*d)},${Math.round(w.z*
d)}`;n[1]=`${Math.round(B.x*d)},${Math.round(B.y*d)},${Math.round(B.z*d)}`;n[2]=`${Math.round(z.x*d)},${Math.round(z.y*d)},${Math.round(z.z*d)}`;if(n[0]!==n[1]&&n[1]!==n[2]&&n[2]!==n[0])for(let A=0;3>A;A++){const v=(A+1)%3;var c=n[A];const G=n[v],J=hi[m[A]],O=hi[m[v]],K=`${c}_${G}`;c=`${G}_${c}`;c in p&&p[c]?(xk.dot(p[c].normal)<=b&&(r.push(J.x,J.y,J.z),r.push(O.x,O.y,O.z)),p[c]=null):K in p||(p[K]={index0:l[A],index1:l[v],normal:xk.clone()})}}for(const t in p)if(p[t]){const {index0:w,index1:B}=p[t];
qg.fromBufferAttribute(a,w);rg.fromBufferAttribute(a,B);r.push(qg.x,qg.y,qg.z);r.push(rg.x,rg.y,rg.z)}this.setAttribute("position",new Sa(r,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}class Cf extends Vd{constructor(a){super(a);this.uuid=Oa();this.type="Shape";this.holes=[]}getPointsHoles(a){const b=[];for(let c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a);
this.holes=[];for(let b=0,c=a.holes.length;b<c;b++)this.holes.push(a.holes[b].clone());return this}toJSON(){const a=super.toJSON();a.uuid=this.uuid;a.holes=[];for(let b=0,c=this.holes.length;b<c;b++)a.holes.push(this.holes[b].toJSON());return a}fromJSON(a){super.fromJSON(a);this.uuid=a.uuid;this.holes=[];for(let b=0,c=a.holes.length;b<c;b++){const d=a.holes[b];this.holes.push((new Vd).fromJSON(d))}return this}}const Mi={triangulate:function(a,b,c=2){var d=b&&b.length;const f=d?b[0]*c:a.length;var h=
bk(a,0,f,c,!0);const l=[];if(!h||h.next===h.prev)return l;let m,n;var p;if(d){var r=h;h=[];var t;d=0;for(t=b.length;d<t;d++){var w=b[d]*c;var B=d<t-1?b[d+1]*c:a.length;var z=bk(a,w,B,c,!1);z===z.next&&(z.steiner=!0);w=h;B=w.push;var A=z,v=z;do{if(A.x<v.x||A.x===v.x&&A.y<v.y)v=A;A=A.next}while(A!==z);B.call(w,v)}h.sort(jg);for(d=0;d<h.length;d++){t=void 0;b=h[d];b:{w=r;B=-Infinity;z=b.x;A=b.y;do{if(A<=w.y&&A>=w.next.y&&w.next.y!==w.y&&(v=w.x+(A-w.y)*(w.next.x-w.x)/(w.next.y-w.y),v<=z&&v>B&&(B=v,t=
w.x<w.next.x?w:w.next,v===z)))break b;w=w.next}while(w!==r);if(t){var G=t,J=t.x,O=t.y,K=Infinity;w=t;do{if(z>=w.x&&w.x>=J&&z!==w.x&&yf(A<O?z:B,A,J,O,A<O?B:z,A,w.x,w.y)){v=Math.abs(A-w.y)/(z-w.x);var P;if((P=Le(w,b))&&!(P=v<K)&&(P=v===K)&&!(P=w.x>t.x)&&(P=w.x===t.x)){P=t;var ba=w;P=0>Cb(P.prev,P,ba.prev)&&0>Cb(ba.next,P,P.next)}P&&(t=w,K=v)}w=w.next}while(w!==G)}else t=null}t&&(b=ck(t,b),Af(b,b.next),r=Af(t,t.next))}h=r}if(a.length>80*c){m=p=a[0];n=d=a[1];for(t=c;t<f;t+=c)b=a[t],r=a[t+1],b<m&&(m=b),
r<n&&(n=r),b>p&&(p=b),r>d&&(d=r);p=Math.max(p-m,d-n);p=0!==p?32767/p:0}vd(h,l,c,m,n,p,0);return l}};class Wd{static area(a){const b=a.length;let c=0;for(let d=b-1,f=0;f<b;d=f++)c+=a[d].x*a[f].y-a[f].x*a[d].y;return.5*c}static isClockWise(a){return 0>Wd.area(a)}static triangulateShape(a,b){var c=[];const d=[],f=[];Bf(a);ek(c,a);a=a.length;b.forEach(Bf);for(let h=0;h<b.length;h++)d.push(a),a+=b[h].length,ek(c,b[h]);b=Mi.triangulate(c,d);for(c=0;c<b.length;c+=3)f.push(b.slice(c,c+3));return f}}class Ni extends ob{constructor(a=
new Cf([new va(.5,.5),new va(-.5,.5),new va(-.5,-.5),new va(.5,-.5)]),b={}){function c(l){function m(C,E,L){E||console.error("THREE.ExtrudeGeometry: vec does not exist");return C.clone().addScaledVector(E,L)}function n(C,E,L){var Q=C.x-E.x;var S=C.y-E.y;var M=L.x-C.x;var oa=L.y-C.y,Z=Q*Q+S*S;if(Math.abs(Q*oa-S*M)>Number.EPSILON){const ja=Math.sqrt(Z),ka=Math.sqrt(M*M+oa*oa);Z=E.x-S/ja;E=E.y+Q/ja;oa=((L.x-oa/ka-Z)*oa-(L.y+M/ka-E)*M)/(Q*oa-S*M);M=Z+Q*oa-C.x;Q=E+S*oa-C.y;S=M*M+Q*Q;if(2>=S)return new va(M,
Q);S=Math.sqrt(S/2)}else C=!1,Q>Number.EPSILON?M>Number.EPSILON&&(C=!0):Q<-Number.EPSILON?M<-Number.EPSILON&&(C=!0):Math.sign(S)===Math.sign(oa)&&(C=!0),C?(M=-S,S=Math.sqrt(Z)):(M=Q,Q=S,S=Math.sqrt(Z/2));return new va(M/S,Q/S)}function p(C,E){let L=C.length;for(;0<=--L;){const oa=L;let Z=L-1;0>Z&&(Z=C.length-1);for(let ja=0,ka=v+2*ba;ja<ka;ja++){const Fa=Ba*ja;var Q=Ba*(ja+1),S=E+Z+Fa,M=E+Z+Q;Q=E+oa+Q;w(E+oa+Fa);w(S);w(Q);w(S);w(M);w(Q);S=f.length/3;S=U.generateSideWallUV(d,f,S-6,S-3,S-2,S-1);B(S[0]);
B(S[1]);B(S[3]);B(S[1]);B(S[2]);B(S[3])}}}function r(C,E,L){z.push(C);z.push(E);z.push(L)}function t(C,E,L){w(C);w(E);w(L);C=f.length/3;C=U.generateTopUV(d,f,C-3,C-2,C-1);B(C[0]);B(C[1]);B(C[2])}function w(C){f.push(z[3*C]);f.push(z[3*C+1]);f.push(z[3*C+2])}function B(C){h.push(C.x);h.push(C.y)}const z=[];var A=void 0!==b.curveSegments?b.curveSegments:12;const v=void 0!==b.steps?b.steps:1,G=void 0!==b.depth?b.depth:1;let J=void 0!==b.bevelEnabled?b.bevelEnabled:!0,O=void 0!==b.bevelThickness?b.bevelThickness:
.2,K=void 0!==b.bevelSize?b.bevelSize:O-.1,P=void 0!==b.bevelOffset?b.bevelOffset:0,ba=void 0!==b.bevelSegments?b.bevelSegments:3;var ca=b.extrudePath;const U=void 0!==b.UVGenerator?b.UVGenerator:tl;let pa,X=!1;if(ca){pa=ca.getSpacedPoints(v);X=!0;J=!1;var za=ca.computeFrenetFrames(v,!1);var ta=new I;var xa=new I;var ya=new I}J||(P=K=O=ba=0);l=l.extractPoints(A);ca=l.shape;const Ca=l.holes;if(!Wd.isClockWise(ca)){ca=ca.reverse();for(let C=0,E=Ca.length;C<E;C++)l=Ca[C],Wd.isClockWise(l)&&(Ca[C]=l.reverse())}const Wa=
Wd.triangulateShape(ca,Ca),T=ca;for(let C=0,E=Ca.length;C<E;C++)ca=ca.concat(Ca[C]);const Ba=ca.length,Na=Wa.length;l=[];for(let C=0,E=T.length,L=E-1,Q=C+1;C<E;C++,L++,Q++)L===E&&(L=0),Q===E&&(Q=0),l[C]=n(T[C],T[L],T[Q]);A=[];let Xa=l.concat();for(let C=0,E=Ca.length;C<E;C++){var wa=Ca[C];var Ja=[];for(let L=0,Q=wa.length,S=Q-1,M=L+1;L<Q;L++,S++,M++)S===Q&&(S=0),M===Q&&(M=0),Ja[L]=n(wa[L],wa[S],wa[M]);A.push(Ja);Xa=Xa.concat(Ja)}for(wa=0;wa<ba;wa++){Ja=wa/ba;var eb=O*Math.cos(Ja*Math.PI/2),pb=K*Math.sin(Ja*
Math.PI/2)+P;for(let C=0,E=T.length;C<E;C++)Ja=m(T[C],l[C],pb),r(Ja.x,Ja.y,-eb);for(let C=0,E=Ca.length;C<E;C++){const L=Ca[C];Ja=A[C];for(let Q=0,S=L.length;Q<S;Q++){const M=m(L[Q],Ja[Q],pb);r(M.x,M.y,-eb)}}}Ja=K+P;for(wa=0;wa<Ba;wa++)eb=J?m(ca[wa],Xa[wa],Ja):ca[wa],X?(xa.copy(za.normals[0]).multiplyScalar(eb.x),ta.copy(za.binormals[0]).multiplyScalar(eb.y),ya.copy(pa[0]).add(xa).add(ta),r(ya.x,ya.y,ya.z)):r(eb.x,eb.y,0);for(wa=1;wa<=v;wa++)for(eb=0;eb<Ba;eb++)pb=J?m(ca[eb],Xa[eb],Ja):ca[eb],X?(xa.copy(za.normals[wa]).multiplyScalar(pb.x),
ta.copy(za.binormals[wa]).multiplyScalar(pb.y),ya.copy(pa[wa]).add(xa).add(ta),r(ya.x,ya.y,ya.z)):r(pb.x,pb.y,G/v*wa);for(za=ba-1;0<=za;za--){xa=za/ba;ta=O*Math.cos(xa*Math.PI/2);xa=K*Math.sin(xa*Math.PI/2)+P;for(let C=0,E=T.length;C<E;C++)ya=m(T[C],l[C],xa),r(ya.x,ya.y,G+ta);for(let C=0,E=Ca.length;C<E;C++){ya=Ca[C];Ja=A[C];for(let L=0,Q=ya.length;L<Q;L++)ca=m(ya[L],Ja[L],xa),X?r(ca.x,ca.y+pa[v-1].y,pa[v-1].x+ta):r(ca.x,ca.y,G+ta)}}(function(){const C=f.length/3;if(J){var E=0*Ba;for(var L=0;L<Na;L++){var Q=
Wa[L];t(Q[2]+E,Q[1]+E,Q[0]+E)}E=Ba*(v+2*ba);for(L=0;L<Na;L++)Q=Wa[L],t(Q[0]+E,Q[1]+E,Q[2]+E)}else{for(E=0;E<Na;E++)L=Wa[E],t(L[2],L[1],L[0]);for(E=0;E<Na;E++)L=Wa[E],t(L[0]+Ba*v,L[1]+Ba*v,L[2]+Ba*v)}d.addGroup(C,f.length/3-C,0)})();(function(){const C=f.length/3;let E=0;p(T,E);E+=T.length;for(let L=0,Q=Ca.length;L<Q;L++){const S=Ca[L];p(S,E);E+=S.length}d.addGroup(C,f.length/3-C,1)})()}super();this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];const d=this,f=
[],h=[];for(let l=0,m=a.length;l<m;l++)c(a[l]);this.setAttribute("position",new Sa(f,3));this.setAttribute("uv",new Sa(h,2));this.computeVertexNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var b=this.parameters.shapes,c=this.parameters.options;a.shapes=[];if(Array.isArray(b))for(let d=0,f=b.length;d<f;d++)a.shapes.push(b[d].uuid);else a.shapes.push(b.uuid);a.options=Object.assign({},c);void 0!==c.extrudePath&&(a.options.extrudePath=
c.extrudePath.toJSON());return a}static fromJSON(a,b){const c=[];for(let d=0,f=a.shapes.length;d<f;d++)c.push(b[a.shapes[d]]);b=a.options.extrudePath;void 0!==b&&(a.options.extrudePath=(new uh[b.type]).fromJSON(b));return new Ni(c,a.options)}}const tl={generateTopUV:function(a,b,c,d,f){a=b[3*d];d=b[3*d+1];const h=b[3*f];f=b[3*f+1];return[new va(b[3*c],b[3*c+1]),new va(a,d),new va(h,f)]},generateSideWallUV:function(a,b,c,d,f,h){a=b[3*c];const l=b[3*c+1];c=b[3*c+2];const m=b[3*d],n=b[3*d+1];d=b[3*d+
2];const p=b[3*f],r=b[3*f+1];f=b[3*f+2];const t=b[3*h],w=b[3*h+1];b=b[3*h+2];return Math.abs(l-n)<Math.abs(a-m)?[new va(a,1-c),new va(m,1-d),new va(p,1-f),new va(t,1-b)]:[new va(l,1-c),new va(n,1-d),new va(r,1-f),new va(w,1-b)]}};class Oi extends jd{constructor(a=1,b=0){const c=(1+Math.sqrt(5))/2;super([-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,
6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new Oi(a.radius,a.detail)}}class Ig extends jd{constructor(a=1,b=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new Ig(a.radius,a.detail)}}class zk extends ob{constructor(a=.5,b=1,c=32,d=1,f=0,h=2*Math.PI){super();this.type="RingGeometry";
this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:f,thetaLength:h};c=Math.max(3,c);d=Math.max(1,d);const l=[],m=[],n=[],p=[];var r=a;a=(b-a)/d;var t=new I,w=new va;for(let B=0;B<=d;B++){for(let z=0;z<=c;z++){const A=f+z/c*h;t.x=r*Math.cos(A);t.y=r*Math.sin(A);m.push(t.x,t.y,t.z);n.push(0,0,1);w.x=(t.x/b+1)/2;w.y=(t.y/b+1)/2;p.push(w.x,w.y)}r+=a}for(b=0;b<d;b++)for(f=b*(c+1),h=0;h<c;h++)r=h+f,a=r+c+1,t=r+c+2,w=r+1,l.push(r,a,w),l.push(a,t,w);this.setIndex(l);this.setAttribute("position",
new Sa(m,3));this.setAttribute("normal",new Sa(n,3));this.setAttribute("uv",new Sa(p,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new zk(a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength)}}class Ad extends ob{constructor(a=new Cf([new va(0,.5),new va(-.5,-.5),new va(.5,-.5)]),b=12){function c(p){const r=f.length/3;var t=p.extractPoints(b);p=t.shape;var w=t.holes;!1===Wd.isClockWise(p)&&(p=p.reverse());
for(let B=0,z=w.length;B<z;B++)t=w[B],!0===Wd.isClockWise(t)&&(w[B]=t.reverse());t=Wd.triangulateShape(p,w);for(let B=0,z=w.length;B<z;B++)p=p.concat(w[B]);for(let B=0,z=p.length;B<z;B++)w=p[B],f.push(w.x,w.y,0),h.push(0,0,1),l.push(w.x,w.y);for(let B=0,z=t.length;B<z;B++)p=t[B],d.push(p[0]+r,p[1]+r,p[2]+r),n+=3}super();this.type="ShapeGeometry";this.parameters={shapes:a,curveSegments:b};const d=[],f=[],h=[],l=[];let m=0,n=0;if(!1===Array.isArray(a))c(a);else for(let p=0;p<a.length;p++)c(a[p]),this.addGroup(m,
n,p),m+=n,n=0;this.setIndex(d);this.setAttribute("position",new Sa(f,3));this.setAttribute("normal",new Sa(h,3));this.setAttribute("uv",new Sa(l,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var b=this.parameters.shapes;a.shapes=[];if(Array.isArray(b))for(let c=0,d=b.length;c<d;c++)a.shapes.push(b[c].uuid);else a.shapes.push(b.uuid);return a}static fromJSON(a,b){const c=[];for(let d=0,f=a.shapes.length;d<f;d++)c.push(b[a.shapes[d]]);
return new Ad(c,a.curveSegments)}}class Df extends ob{constructor(a=1,b=32,c=16,d=0,f=2*Math.PI,h=0,l=Math.PI){super();this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:f,thetaStart:h,thetaLength:l};b=Math.max(3,Math.floor(b));c=Math.max(2,Math.floor(c));const m=Math.min(h+l,Math.PI);var n=0;const p=[];var r=new I;const t=new I,w=[],B=[],z=[],A=[];for(let v=0;v<=c;v++){const G=[],J=v/c;let O=0;0===v&&0===h?O=.5/b:v===c&&m===Math.PI&&(O=-.5/
b);for(let K=0;K<=b;K++){const P=K/b;r.x=-a*Math.cos(d+P*f)*Math.sin(h+J*l);r.y=a*Math.cos(h+J*l);r.z=a*Math.sin(d+P*f)*Math.sin(h+J*l);B.push(r.x,r.y,r.z);t.copy(r).normalize();z.push(t.x,t.y,t.z);A.push(P+O,1-J);G.push(n++)}p.push(G)}for(a=0;a<c;a++)for(d=0;d<b;d++)f=p[a][d+1],l=p[a][d],n=p[a+1][d],r=p[a+1][d+1],(0!==a||0<h)&&w.push(f,l,r),(a!==c-1||m<Math.PI)&&w.push(l,n,r);this.setIndex(w);this.setAttribute("position",new Sa(B,3));this.setAttribute("normal",new Sa(z,3));this.setAttribute("uv",
new Sa(A,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Df(a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength)}}class vh extends jd{constructor(a=1,b=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new vh(a.radius,a.detail)}}class vj extends ob{constructor(a=1,b=.4,c=12,d=48,
f=2*Math.PI){super();this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:f};c=Math.floor(c);d=Math.floor(d);const h=[],l=[],m=[],n=[];var p=new I,r=new I;const t=new I;for(let w=0;w<=c;w++)for(let B=0;B<=d;B++){const z=B/d*f,A=w/c*Math.PI*2;r.x=(a+b*Math.cos(A))*Math.cos(z);r.y=(a+b*Math.cos(A))*Math.sin(z);r.z=b*Math.sin(A);l.push(r.x,r.y,r.z);p.x=a*Math.cos(z);p.y=a*Math.sin(z);t.subVectors(r,p).normalize();m.push(t.x,t.y,t.z);n.push(B/d);n.push(w/c)}for(a=
1;a<=c;a++)for(b=1;b<=d;b++)f=(d+1)*(a-1)+b-1,p=(d+1)*(a-1)+b,r=(d+1)*a+b,h.push((d+1)*a+b-1,f,r),h.push(f,p,r);this.setIndex(h);this.setAttribute("position",new Sa(l,3));this.setAttribute("normal",new Sa(m,3));this.setAttribute("uv",new Sa(n,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new vj(a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc)}}class Cc extends ob{constructor(a=1,b=.4,c=64,d=8,f=2,h=3){function l(K,P,ba,ca,U){const pa=
Math.sin(K);P=ba/P*K;ba=Math.cos(P);U.x=ca*(2+ba)*.5*Math.cos(K);U.y=ca*(2+ba)*pa*.5;U.z=ca*Math.sin(P)*.5}super();this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:f,q:h};c=Math.floor(c);d=Math.floor(d);const m=[],n=[],p=[],r=[];var t=new I;const w=new I,B=new I,z=new I,A=new I,v=new I,G=new I;for(let K=0;K<=c;++K){var J=K/c*f*Math.PI*2;l(J,f,h,a,B);l(J+.01,f,h,a,z);v.subVectors(z,B);G.addVectors(z,B);A.crossVectors(v,G);G.crossVectors(A,v);A.normalize();
G.normalize();for(J=0;J<=d;++J){var O=J/d*Math.PI*2;const P=-b*Math.cos(O);O=b*Math.sin(O);t.x=B.x+(P*G.x+O*A.x);t.y=B.y+(P*G.y+O*A.y);t.z=B.z+(P*G.z+O*A.z);n.push(t.x,t.y,t.z);w.subVectors(t,B).normalize();p.push(w.x,w.y,w.z);r.push(K/c);r.push(J/d)}}for(a=1;a<=c;a++)for(b=1;b<=d;b++)f=(d+1)*a+(b-1),h=(d+1)*a+b,t=(d+1)*(a-1)+b,m.push((d+1)*(a-1)+(b-1),f,t),m.push(f,h,t);this.setIndex(m);this.setAttribute("position",new Sa(n,3));this.setAttribute("normal",new Sa(p,3));this.setAttribute("uv",new Sa(r,
2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Cc(a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q)}}class uk extends ob{constructor(a=new pg(new I(-1,-1,0),new I(-1,1,0),new I(1,1,0)),b=64,c=1,d=8,f=!1){function h(A){r=a.getPointAt(A/b,r);const v=l.normals[A];A=l.binormals[A];for(let J=0;J<=d;J++){var G=J/d*Math.PI*2;const O=Math.sin(G);G=-Math.cos(G);n.x=G*v.x+O*A.x;n.y=G*v.y+O*A.y;n.z=G*v.z+O*A.z;n.normalize();w.push(n.x,
n.y,n.z);m.x=r.x+c*n.x;m.y=r.y+c*n.y;m.z=r.z+c*n.z;t.push(m.x,m.y,m.z)}}super();this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:f};const l=a.computeFrenetFrames(b,f);this.tangents=l.tangents;this.normals=l.normals;this.binormals=l.binormals;const m=new I,n=new I,p=new va;let r=new I;const t=[],w=[],B=[],z=[];(function(){for(var A=0;A<b;A++)h(A);h(!1===f?b:0);for(A=0;A<=b;A++)for(var v=0;v<=d;v++)p.x=A/b,p.y=v/d,B.push(p.x,p.y);for(A=1;A<=b;A++)for(v=
1;v<=d;v++){const G=(d+1)*A+(v-1),J=(d+1)*A+v,O=(d+1)*(A-1)+v;z.push((d+1)*(A-1)+(v-1),G,O);z.push(G,J,O)}})();this.setIndex(z);this.setAttribute("position",new Sa(t,3));this.setAttribute("normal",new Sa(w,3));this.setAttribute("uv",new Sa(B,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();a.path=this.parameters.path.toJSON();return a}static fromJSON(a){return new uk((new uh[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,
a.radialSegments,a.closed)}}class xh extends ob{constructor(a=null){super();this.type="WireframeGeometry";this.parameters={geometry:a};if(null!==a){const h=[],l=new Set,m=new I,n=new I;if(null!==a.index){var b=a.attributes.position,c=a.index;a=a.groups;0===a.length&&(a=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,r=a.length;p<r;++p){var d=a[p],f=d.start;d=d.count;for(let t=f,w=f+d;t<w;t+=3)for(f=0;3>f;f++){d=c.getX(t+f);const B=c.getX(t+(f+1)%3);m.fromBufferAttribute(b,d);n.fromBufferAttribute(b,
B);!0===Ne(m,n,l)&&(h.push(m.x,m.y,m.z),h.push(n.x,n.y,n.z))}}}else{b=a.attributes.position;for(let p=0,r=b.count/3;p<r;p++)for(c=0;3>c;c++)a=3*p+(c+1)%3,m.fromBufferAttribute(b,3*p+c),n.fromBufferAttribute(b,a),!0===Ne(m,n,l)&&(h.push(m.x,m.y,m.z),h.push(n.x,n.y,n.z))}this.setAttribute("position",new Sa(h,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}var Ff=Object.freeze({__proto__:null,BoxGeometry:Nd,CapsuleGeometry:yc,CircleGeometry:Oc,ConeGeometry:Oh,CylinderGeometry:xd,
DodecahedronGeometry:fk,EdgesGeometry:uj,ExtrudeGeometry:Ni,IcosahedronGeometry:Oi,LatheGeometry:wd,OctahedronGeometry:Ig,PlaneGeometry:Xf,PolyhedronGeometry:jd,RingGeometry:zk,ShapeGeometry:Ad,SphereGeometry:Df,TetrahedronGeometry:vh,TorusGeometry:vj,TorusKnotGeometry:Cc,TubeGeometry:uk,WireframeGeometry:xh});class me extends Sc{constructor(a){super();this.isShadowMaterial=!0;this.type="ShadowMaterial";this.color=new Ma(0);this.fog=this.transparent=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);
this.fog=a.fog;return this}}class Gf extends Od{constructor(a){super(a);this.isRawShaderMaterial=!0;this.type="RawShaderMaterial"}}class Xd extends Sc{constructor(a){super();this.isMeshStandardMaterial=!0;this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new Ma(16777215);this.roughness=1;this.metalness=0;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ma(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;
this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new va(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=
a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=
a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class ik extends Xd{constructor(a){super();this.isMeshPhysicalMaterial=!0;this.defines={STANDARD:"",PHYSICAL:""};this.type=
"MeshPhysicalMaterial";this.anisotropyRotation=0;this.clearcoatMap=this.anisotropyMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=null;this.clearcoatNormalScale=new va(1,1);this.clearcoatNormalMap=null;this.ior=1.5;Object.defineProperty(this,"reflectivity",{get:function(){return Za(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(b){this.ior=(1+.4*b)/(1-.4*b)}});this.iridescenceMap=null;this.iridescenceIOR=1.3;this.iridescenceThicknessRange=[100,400];this.iridescenceThicknessMap=null;
this.sheenColor=new Ma(0);this.sheenColorMap=null;this.sheenRoughness=1;this.transmissionMap=this.sheenRoughnessMap=null;this.thickness=0;this.thicknessMap=null;this.attenuationDistance=Infinity;this.attenuationColor=new Ma(1,1,1);this.specularIntensity=1;this.specularIntensityMap=null;this.specularColor=new Ma(1,1,1);this.specularColorMap=null;this._transmission=this._sheen=this._iridescence=this._clearcoat=this._anisotropy=0;this.setValues(a)}get anisotropy(){return this._anisotropy}set anisotropy(a){0<
this._anisotropy!==0<a&&this.version++;this._anisotropy=a}get clearcoat(){return this._clearcoat}set clearcoat(a){0<this._clearcoat!==0<a&&this.version++;this._clearcoat=a}get iridescence(){return this._iridescence}set iridescence(a){0<this._iridescence!==0<a&&this.version++;this._iridescence=a}get sheen(){return this._sheen}set sheen(a){0<this._sheen!==0<a&&this.version++;this._sheen=a}get transmission(){return this._transmission}set transmission(a){0<this._transmission!==0<a&&this.version++;this._transmission=
a}copy(a){super.copy(a);this.defines={STANDARD:"",PHYSICAL:""};this.anisotropy=a.anisotropy;this.anisotropyRotation=a.anisotropyRotation;this.anisotropyMap=a.anisotropyMap;this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);this.ior=a.ior;this.iridescence=a.iridescence;this.iridescenceMap=a.iridescenceMap;
this.iridescenceIOR=a.iridescenceIOR;this.iridescenceThicknessRange=[...a.iridescenceThicknessRange];this.iridescenceThicknessMap=a.iridescenceThicknessMap;this.sheen=a.sheen;this.sheenColor.copy(a.sheenColor);this.sheenColorMap=a.sheenColorMap;this.sheenRoughness=a.sheenRoughness;this.sheenRoughnessMap=a.sheenRoughnessMap;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;this.thickness=a.thickness;this.thicknessMap=a.thicknessMap;this.attenuationDistance=a.attenuationDistance;
this.attenuationColor.copy(a.attenuationColor);this.specularIntensity=a.specularIntensity;this.specularIntensityMap=a.specularIntensityMap;this.specularColor.copy(a.specularColor);this.specularColorMap=a.specularColorMap;return this}}class Ah extends Sc{constructor(a){super();this.isMeshPhongMaterial=!0;this.type="MeshPhongMaterial";this.color=new Ma(16777215);this.specular=new Ma(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;
this.emissive=new Ma(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new va(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);
this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;
this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Eh extends Sc{constructor(a){super();
this.isMeshToonMaterial=!0;this.defines={TOON:""};this.type="MeshToonMaterial";this.color=new Ma(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ma(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new va(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=
1;this.wireframeLinejoin=this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=
a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}class Jh extends Sc{constructor(a){super();this.isMeshNormalMaterial=!0;this.type="MeshNormalMaterial";this.bumpMap=
null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new va(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.flatShading=!1;this.setValues(a)}copy(a){super.copy(a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;
this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.flatShading=a.flatShading;return this}}class nk extends Sc{constructor(a){super();this.isMeshLambertMaterial=!0;this.type="MeshLambertMaterial";this.color=new Ma(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ma(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;
this.normalMapType=0;this.normalScale=new va(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;
this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=
a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class tg extends Sc{constructor(a){super();this.isMeshMatcapMaterial=!0;this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new Ma(16777215);this.bumpMap=this.map=this.matcap=
null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new va(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=
a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Bd extends Wc{constructor(a){super();this.isLineDashedMaterial=!0;this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}copy(a){super.copy(a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this}}const Fh={convertArray:yd,isTypedArray:zd,getKeyframeOrder:gk,
sortedArray:fd,flattenJSON:wh,subclip:function(a,b,c,d,f=30){a=a.clone();a.name=b;b=[];for(let l=0;l<a.tracks.length;++l){const m=a.tracks[l],n=m.getValueSize(),p=[],r=[];for(let t=0;t<m.times.length;++t){var h=m.times[t]*f;if(!(h<c||h>=d))for(p.push(m.times[t]),h=0;h<n;++h)r.push(m.values[t*n+h])}0!==p.length&&(m.times=yd(p,m.times.constructor),m.values=yd(r,m.values.constructor),b.push(m))}a.tracks=b;c=Infinity;for(d=0;d<a.tracks.length;++d)c>a.tracks[d].times[0]&&(c=a.tracks[d].times[0]);for(d=
0;d<a.tracks.length;++d)a.tracks[d].shift(-1*c);a.resetDuration();return a},makeClipAdditive:function(a,b=0,c=a,d=30){0>=d&&(d=30);const f=c.tracks.length;b/=d;for(d=0;d<f;++d){const p=c.tracks[d],r=p.ValueTypeName;if("bool"===r||"string"===r)continue;const t=a.tracks.find(function(z){return z.name===p.name&&z.ValueTypeName===r});if(void 0===t)continue;var h=0,l=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=l/3);let w=0;const B=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&
(w=B/3);var m=p.times.length-1;if(b<=p.times[0])h=p.values.slice(h,l-h);else if(b>=p.times[m])m=m*l+h,h=p.values.slice(m,m+l-h);else{m=p.createInterpolant();var n=h;h=l-h;m.evaluate(b);h=m.resultBuffer.slice(n,h)}"quaternion"===r&&(new zc).fromArray(h).normalize().conjugate().toArray(h);l=t.times.length;for(m=0;m<l;++m)if(n=m*B+w,"quaternion"===r)zc.multiplyQuaternionsFlat(t.values,n,h,0,t.values,n);else{const z=B-2*w;for(let A=0;A<z;++A)t.values[n+A]-=h[A]}}a.blendMode=2501;return a}};class pe{constructor(a,
b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c;this.settings=null;this.DefaultSettings_={}}evaluate(a){const b=this.parameterPositions;let c=this._cachedIndex;var d=b[c],f=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var h=c+2;;){if(void 0===d){if(a<f)break d;this._cachedIndex=c=b.length;return this.copySampleValue_(c-1)}if(c===h)break;f=d;d=b[++c];if(a<d)break b}f=b.length;break c}if(a>=f)break a;else{d=b[1];a<d&&
(c=2,f=d);for(h=c-2;;){if(void 0===f)return this._cachedIndex=0,this.copySampleValue_(0);if(c===h)break;d=f;f=b[--c-1];if(a>=f)break b}f=c;c=0}}for(;c<f;)d=c+f>>>1,a<b[d]?f=d:c=d+1;d=b[c];f=b[c-1];if(void 0===f)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===d)return this._cachedIndex=c=b.length,this.copySampleValue_(c-1)}this._cachedIndex=c;this.intervalChanged_(c,f,d)}return this.interpolate_(c,f,a,d)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const b=
this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(let f=0;f!==d;++f)b[f]=c[a+f];return b}interpolate_(){throw Error("call to abstract method");}intervalChanged_(){}}class Zb extends pe{constructor(a,b,c,d){super(a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0;this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(a,b,c){var d=this.parameterPositions;let f=a-2,h=a+1,l=d[f],m=d[h];if(void 0===l)switch(this.getSettings_().endingStart){case 2401:f=
a;l=2*b-c;break;case 2402:f=d.length-2;l=b+d[f]-d[f+1];break;default:f=a,l=c}if(void 0===m)switch(this.getSettings_().endingEnd){case 2401:h=a;m=2*c-b;break;case 2402:h=1;m=c+d[1]-d[0];break;default:h=a-1,m=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-l);this._weightNext=a/(m-c);this._offsetPrev=f*d;this._offsetNext=h*d}interpolate_(a,b,c,d){const f=this.resultBuffer,h=this.sampleValues,l=this.valueSize;a*=l;const m=a-l,n=this._offsetPrev,p=this._offsetNext;var r=this._weightPrev,t=this._weightNext,
w=(c-b)/(d-b);c=w*w;d=c*w;b=-r*d+2*r*c-r*w;r=(1+r)*d+(-1.5-2*r)*c+(-.5+r)*w+1;w=(-1-t)*d+(1.5+t)*c+.5*w;t=t*d-t*c;for(c=0;c!==l;++c)f[c]=b*h[n+c]+r*h[m+c]+w*h[a+c]+t*h[p+c];return f}}class hd extends pe{constructor(a,b,c,d){super(a,b,c,d)}interpolate_(a,b,c,d){const f=this.resultBuffer,h=this.sampleValues,l=this.valueSize;a*=l;const m=a-l;b=(c-b)/(d-b);c=1-b;for(d=0;d!==l;++d)f[d]=h[m+d]*c+h[a+d]*b;return f}}class Cd extends pe{constructor(a,b,c,d){super(a,b,c,d)}interpolate_(a){return this.copySampleValue_(a-
1)}}class cc{constructor(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=yd(b,this.TimeBufferType);this.values=yd(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation)}static toJSON(a){var b=a.constructor;if(b.toJSON!==this.toJSON)b=b.toJSON(a);else{b={name:a.name,times:yd(a.times,Array),values:yd(a.values,Array)};const c=a.getInterpolation();
c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}InterpolantFactoryMethodDiscrete(a){return new Cd(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new hd(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new Zb(this.times,this.values,this.getValueSize(),a)}setInterpolation(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;
break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",b);return this}this.createInterpolant=b;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;
case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(a){if(0!==a){const b=this.times;for(let c=0,d=b.length;c!==d;++c)b[c]+=a}return this}scale(a){if(1!==a){const b=this.times;for(let c=0,d=b.length;c!==d;++c)b[c]*=a}return this}trim(a,b){const c=this.times,d=c.length;let f=0,h=d-1;for(;f!==d&&c[f]<a;)++f;for(;-1!==h&&c[h]>b;)--h;++h;if(0!==f||h!==d)f>=h&&(h=Math.max(h,1),f=h-1),a=this.getValueSize(),this.times=c.slice(f,h),this.values=
this.values.slice(f*a,h*a);return this}validate(){let a=!0;var b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var c=this.times;b=this.values;const d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let f=null;for(let h=0;h!==d;h++){const l=c[h];if("number"===typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,l);a=!1;break}if(null!==f&&f>l){console.error("THREE.KeyframeTrack: Out of order keys.",
this,h,l,f);a=!1;break}f=l}if(void 0!==b&&zd(b))for(let h=0,l=b.length;h!==l;++h)if(c=b[h],isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,c);a=!1;break}return a}optimize(){const a=this.times.slice(),b=this.values.slice(),c=this.getValueSize(),d=2302===this.getInterpolation(),f=a.length-1;let h=1;for(let p=1;p<f;++p){var l=!1,m=a[p];if(m!==a[p+1]&&(1!==p||m!==a[0]))if(d)l=!0;else{m=p*c;var n=m-c;const r=m+c;for(let t=0;t!==c;++t){const w=b[m+t];if(w!==b[n+t]||w!==
b[r+t]){l=!0;break}}}if(l){if(p!==h)for(a[h]=a[p],l=p*c,m=h*c,n=0;n!==c;++n)b[m+n]=b[l+n];++h}}if(0<f){a[h]=a[f];for(let p=f*c,r=h*c,t=0;t!==c;++t)b[r+t]=b[p+t];++h}h!==a.length?(this.times=a.slice(0,h),this.values=b.slice(0,h*c)):(this.times=a,this.values=b);return this}clone(){var a=this.times.slice();const b=this.values.slice();a=new this.constructor(this.name,a,b);a.createInterpolant=this.createInterpolant;return a}}cc.prototype.TimeBufferType=Float32Array;cc.prototype.ValueBufferType=Float32Array;
cc.prototype.DefaultInterpolation=2301;class od extends cc{}od.prototype.ValueTypeName="bool";od.prototype.ValueBufferType=Array;od.prototype.DefaultInterpolation=2300;od.prototype.InterpolantFactoryMethodLinear=void 0;od.prototype.InterpolantFactoryMethodSmooth=void 0;class Hf extends cc{}Hf.prototype.ValueTypeName="color";class Qc extends cc{}Qc.prototype.ValueTypeName="number";class yg extends pe{constructor(a,b,c,d){super(a,b,c,d)}interpolate_(a,b,c,d){const f=this.resultBuffer,h=this.sampleValues,
l=this.valueSize;b=(c-b)/(d-b);a*=l;for(c=a+l;a!==c;a+=4)zc.slerpFlat(f,0,h,a-l,h,a,b);return f}}class Eb extends cc{InterpolantFactoryMethodLinear(a){return new yg(this.times,this.values,this.getValueSize(),a)}}Eb.prototype.ValueTypeName="quaternion";Eb.prototype.DefaultInterpolation=2301;Eb.prototype.InterpolantFactoryMethodSmooth=void 0;class dc extends cc{}dc.prototype.ValueTypeName="string";dc.prototype.ValueBufferType=Array;dc.prototype.DefaultInterpolation=2300;dc.prototype.InterpolantFactoryMethodLinear=
void 0;dc.prototype.InterpolantFactoryMethodSmooth=void 0;class ic extends cc{}ic.prototype.ValueTypeName="vector";class Ue{constructor(a,b=-1,c,d=2500){this.name=a;this.tracks=c;this.duration=b;this.blendMode=d;this.uuid=Oa();0>this.duration&&this.resetDuration()}static parse(a){var b=[];const c=a.tracks,d=1/(a.fps||1);for(let m=0,n=c.length;m!==n;++m){var f=b,h=f.push;{var l=c[m];if(void 0===l.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");const p=ul(l.type);if(void 0===
l.times){const r=[],t=[];wh(l.keys,r,t,"value");l.times=r;l.values=t}l=void 0!==p.parse?p.parse(l):new p(l.name,l.times,l.values,l.interpolation)}h.call(f,l.scale(d))}b=new this(a.name,a.duration,b,a.blendMode);b.uuid=a.uuid;return b}static toJSON(a){const b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid,blendMode:a.blendMode};for(let d=0,f=c.length;d!==f;++d)b.push(cc.toJSON(c[d]));return a}static CreateFromMorphTargetSequence(a,b,c,d){const f=b.length,h=[];for(let l=0;l<f;l++){let m=
[],n=[];m.push((l+f-1)%f,l,(l+1)%f);n.push(0,1,0);const p=gk(m);m=fd(m,1,p);n=fd(n,1,p);d||0!==m[0]||(m.push(f),n.push(n[0]));h.push((new Qc(".morphTargetInfluences["+b[l].name+"]",m,n)).scale(1/c))}return new this(a,-1,h)}static findByName(a,b){let c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null}static CreateClipsFromMorphTargetSequences(a,b,c){const d={},f=/^([\w-]*?)([\d]+)$/;for(let l=0,m=a.length;l<m;l++){const n=
a[l];var h=n.name.match(f);if(h&&1<h.length){h=h[1];let p=d[h];p||(d[h]=p=[]);p.push(n)}}a=[];for(const l in d)a.push(this.CreateFromMorphTargetSequence(l,d[l],b,c));return a}static parseAnimation(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const c=function(r,t,w,B,z){if(0!==w.length){const A=[],v=[];wh(w,A,v,B);0!==A.length&&z.push(new r(t,A,v))}},d=[],f=a.name||"default",h=a.fps||30,l=a.blendMode;var m=a.length||-1;a=a.hierarchy||[];for(let r=0;r<
a.length;r++){const t=a[r].keys;if(t&&0!==t.length)if(t[0].morphTargets){m={};var n=void 0;for(n=0;n<t.length;n++)if(t[n].morphTargets)for(var p=0;p<t[n].morphTargets.length;p++)m[t[n].morphTargets[p]]=-1;for(const w in m){p=[];const B=[];for(let z=0;z!==t[n].morphTargets.length;++z){const A=t[n];p.push(A.time);B.push(A.morphTarget===w?1:0)}d.push(new Qc(".morphTargetInfluence["+w+"]",p,B))}m=m.length*h}else n=".bones["+b[r].name+"]",c(ic,n+".position",t,"pos",d),c(Eb,n+".quaternion",t,"rot",d),c(ic,
n+".scale",t,"scl",d)}return 0===d.length?null:new this(f,m,d,l)}resetDuration(){var a=this.tracks;let b=0;for(let c=0,d=a.length;c!==d;++c)a=this.tracks[c],b=Math.max(b,a.times[a.times.length-1]);this.duration=b;return this}trim(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this}validate(){let a=!0;for(let b=0;b<this.tracks.length;b++)a=a&&this.tracks[b].validate();return a}optimize(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}clone(){const a=
[];for(let b=0;b<this.tracks.length;b++)a.push(this.tracks[b].clone());return new this.constructor(this.name,this.duration,a,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}const Dd={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class zg{constructor(a,b,c){const d=this;let f=!1,h=0,l=0,m=void 0;const n=[];this.onStart=void 0;
this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(p){l++;if(!1===f&&void 0!==d.onStart)d.onStart(p,h,l);f=!0};this.itemEnd=function(p){h++;if(void 0!==d.onProgress)d.onProgress(p,h,l);if(h===l&&(f=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(p){if(void 0!==d.onError)d.onError(p)};this.resolveURL=function(p){return m?m(p):p};this.setURLModifier=function(p){m=p;return this};this.addHandler=function(p,r){n.push(p,r);return this};this.removeHandler=function(p){p=n.indexOf(p);
-1!==p&&n.splice(p,2);return this};this.getHandler=function(p){for(let r=0,t=n.length;r<t;r+=2){const w=n[r],B=n[r+1];w.global&&(w.lastIndex=0);if(w.test(p))return B}return null}}}const yl=new zg;class $c{constructor(a){this.manager=void 0!==a?a:yl;this.crossOrigin="anonymous";this.withCredentials=!1;this.resourcePath=this.path="";this.requestHeader={}}load(){}loadAsync(a,b){const c=this;return new Promise(function(d,f){c.load(a,d,b,f)})}parse(){}setCrossOrigin(a){this.crossOrigin=a;return this}setWithCredentials(a){this.withCredentials=
a;return this}setPath(a){this.path=a;return this}setResourcePath(a){this.resourcePath=a;return this}setRequestHeader(a){this.requestHeader=a;return this}}$c.DEFAULT_MATERIAL_NAME="__DEFAULT";const qe={};class pm extends Error{constructor(a,b){super(a);this.response=b}}class sc extends $c{constructor(a){super(a)}load(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const f=Dd.get(a);if(void 0!==f)return this.manager.itemStart(a),setTimeout(()=>{b&&b(f);this.manager.itemEnd(a)},
0),f;if(void 0!==qe[a])qe[a].push({onLoad:b,onProgress:c,onError:d});else{qe[a]=[];qe[a].push({onLoad:b,onProgress:c,onError:d});c=new Request(a,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});var h=this.mimeType,l=this.responseType;fetch(c).then(m=>{if(200===m.status||0===m.status){0===m.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");if("undefined"===typeof ReadableStream||void 0===m.body||void 0===m.body.getReader)return m;const n=
qe[a],p=m.body.getReader(),r=(m=m.headers.get("Content-Length")||m.headers.get("X-File-Size"))?parseInt(m):0,t=0!==r;let w=0;m=new ReadableStream({start(B){function z(){p.read().then(({done:A,value:v})=>{if(A)B.close();else{w+=v.byteLength;A=new ProgressEvent("progress",{lengthComputable:t,loaded:w,total:r});for(let G=0,J=n.length;G<J;G++){const O=n[G];if(O.onProgress)O.onProgress(A)}B.enqueue(v);z()}})}z()}});return new Response(m)}throw new pm(`fetch for "${m.url}" responded with ${m.status}: ${m.statusText}`,
m);}).then(m=>{switch(l){case "arraybuffer":return m.arrayBuffer();case "blob":return m.blob();case "document":return m.text().then(r=>(new DOMParser).parseFromString(r,h));case "json":return m.json();default:if(void 0===h)return m.text();var n=/charset="?([^;"\s]*)"?/i.exec(h);n=n&&n[1]?n[1].toLowerCase():void 0;const p=new TextDecoder(n);return m.arrayBuffer().then(r=>p.decode(r))}}).then(m=>{Dd.add(a,m);const n=qe[a];delete qe[a];for(let p=0,r=n.length;p<r;p++){const t=n[p];if(t.onLoad)t.onLoad(m)}}).catch(m=>
{const n=qe[a];if(void 0===n)throw this.manager.itemError(a),m;delete qe[a];for(let p=0,r=n.length;p<r;p++){const t=n[p];if(t.onError)t.onError(m)}this.manager.itemError(a)}).finally(()=>{this.manager.itemEnd(a)});this.manager.itemStart(a)}}setResponseType(a){this.responseType=a;return this}setMimeType(a){this.mimeType=a;return this}}class Vi extends $c{constructor(a){super(a)}load(a,b,c,d){const f=this,h=new sc(this.manager);h.setPath(this.path);h.setRequestHeader(this.requestHeader);h.setWithCredentials(this.withCredentials);
h.load(a,function(l){try{b(f.parse(JSON.parse(l)))}catch(m){d?d(m):console.error(m),f.manager.itemError(a)}},c,d)}parse(a){const b=[];for(let c=0;c<a.length;c++){const d=Ue.parse(a[c]);b.push(d)}return b}}class rm extends $c{constructor(a){super(a)}load(a,b,c,d){function f(r){n.load(a[r],function(t){t=h.parse(t,!0);l[r]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps};p+=1;6===p&&(1===t.mipmapCount&&(m.minFilter=1006),m.image=l,m.format=t.format,m.needsUpdate=!0,b&&b(m))},c,d)}const h=
this,l=[],m=new Hi,n=new sc(this.manager);n.setPath(this.path);n.setResponseType("arraybuffer");n.setRequestHeader(this.requestHeader);n.setWithCredentials(h.withCredentials);let p=0;if(Array.isArray(a))for(let r=0,t=a.length;r<t;++r)f(r);else n.load(a,function(r){r=h.parse(r,!0);if(r.isCubemap){const t=r.mipmaps.length/r.mipmapCount;for(let w=0;w<t;w++){l[w]={mipmaps:[]};for(let B=0;B<r.mipmapCount;B++)l[w].mipmaps.push(r.mipmaps[w*r.mipmapCount+B]),l[w].format=r.format,l[w].width=r.width,l[w].height=
r.height}m.image=l}else m.image.width=r.width,m.image.height=r.height,m.mipmaps=r.mipmaps;1===r.mipmapCount&&(m.minFilter=1006);m.format=r.format;m.needsUpdate=!0;b&&b(m)},c,d);return m}}class Fg extends $c{constructor(a){super(a)}load(a,b,c,d){function f(){l();Dd.add(a,this);b&&b(this);m.manager.itemEnd(a)}function h(r){l();d&&d(r);m.manager.itemError(a);m.manager.itemEnd(a)}function l(){p.removeEventListener("load",f,!1);p.removeEventListener("error",h,!1)}void 0!==this.path&&(a=this.path+a);a=
this.manager.resolveURL(a);const m=this,n=Dd.get(a);if(void 0!==n)return m.manager.itemStart(a),setTimeout(function(){b&&b(n);m.manager.itemEnd(a)},0),n;const p=Hc("img");p.addEventListener("load",f,!1);p.addEventListener("error",h,!1);"data:"!==a.slice(0,5)&&void 0!==this.crossOrigin&&(p.crossOrigin=this.crossOrigin);m.manager.itemStart(a);p.src=a;return p}}class qm extends $c{constructor(a){super(a)}load(a,b,c,d){function f(n){l.load(a[n],function(p){h.images[n]=p;m++;6===m&&(h.needsUpdate=!0,b&&
b(h))},void 0,d)}const h=new fc;h.colorSpace="srgb";const l=new Fg(this.manager);l.setCrossOrigin(this.crossOrigin);l.setPath(this.path);let m=0;for(c=0;c<a.length;++c)f(c);return h}}class sm extends $c{constructor(a){super(a)}load(a,b,c,d){const f=this,h=new Rg,l=new sc(this.manager);l.setResponseType("arraybuffer");l.setRequestHeader(this.requestHeader);l.setPath(this.path);l.setWithCredentials(f.withCredentials);l.load(a,function(m){let n;try{n=f.parse(m)}catch(p){if(void 0!==d)d(p);else{console.error(p);
return}}void 0!==n.image?h.image=n.image:void 0!==n.data&&(h.image.width=n.width,h.image.height=n.height,h.image.data=n.data);h.wrapS=void 0!==n.wrapS?n.wrapS:1001;h.wrapT=void 0!==n.wrapT?n.wrapT:1001;h.magFilter=void 0!==n.magFilter?n.magFilter:1006;h.minFilter=void 0!==n.minFilter?n.minFilter:1006;h.anisotropy=void 0!==n.anisotropy?n.anisotropy:1;void 0!==n.colorSpace?h.colorSpace=n.colorSpace:void 0!==n.encoding&&(h.encoding=n.encoding);void 0!==n.flipY&&(h.flipY=n.flipY);void 0!==n.format&&(h.format=
n.format);void 0!==n.type&&(h.type=n.type);void 0!==n.mipmaps&&(h.mipmaps=n.mipmaps,h.minFilter=1008);1===n.mipmapCount&&(h.minFilter=1006);void 0!==n.generateMipmaps&&(h.generateMipmaps=n.generateMipmaps);h.needsUpdate=!0;b&&b(h,n)},c,d);return h}}class wm extends $c{constructor(a){super(a)}load(a,b,c,d){const f=new hc,h=new Fg(this.manager);h.setCrossOrigin(this.crossOrigin);h.setPath(this.path);h.load(a,function(l){f.image=l;f.needsUpdate=!0;void 0!==b&&b(f)},c,d);return f}}class bf extends wb{constructor(a,
b=1){super();this.isLight=!0;this.type="Light";this.color=new Ma(a);this.intensity=b}dispose(){}copy(a,b){super.copy(a,b);this.color.copy(a.color);this.intensity=a.intensity;return this}toJSON(a){a=super.toJSON(a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=
this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}}class El extends bf{constructor(a,b,c){super(a,c);this.isHemisphereLight=!0;this.type="HemisphereLight";this.position.copy(wb.DEFAULT_UP);this.updateMatrix();this.groundColor=new Ma(b)}copy(a,b){super.copy(a,b);this.groundColor.copy(a.groundColor);return this}}const Jg=new kb,ij=new I,db=new I;class Kc{constructor(a){this.camera=a;this.normalBias=this.bias=0;
this.radius=1;this.blurSamples=8;this.mapSize=new va(512,512);this.mapPass=this.map=null;this.matrix=new kb;this.autoUpdate=!0;this.needsUpdate=!1;this._frustum=new Yf;this._frameExtents=new va(1,1);this._viewportCount=1;this._viewports=[new Ab(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const b=this.camera,c=this.matrix;ij.setFromMatrixPosition(a.matrixWorld);b.position.copy(ij);db.setFromMatrixPosition(a.target.matrixWorld);b.lookAt(db);
b.updateMatrixWorld();Jg.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this._frustum.setFromProjectionMatrix(Jg);c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);c.multiply(Jg)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose();this.mapPass&&this.mapPass.dispose()}copy(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this}clone(){return(new this.constructor).copy(this)}toJSON(){const a=
{};0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}}class uc extends Kc{constructor(){super(new xc(50,1,.5,500));this.isSpotLightShadow=!0;this.focus=1}updateMatrices(a){const b=this.camera,c=2*ne*a.angle*this.focus,d=this.mapSize.width/this.mapSize.height,f=a.distance||b.far;
if(c!==b.fov||d!==b.aspect||f!==b.far)b.fov=c,b.aspect=d,b.far=f,b.updateProjectionMatrix();super.updateMatrices(a)}copy(a){super.copy(a);this.focus=a.focus;return this}}class Lc extends bf{constructor(a,b,c=0,d=Math.PI/3,f=0,h=2){super(a,b);this.isSpotLight=!0;this.type="SpotLight";this.position.copy(wb.DEFAULT_UP);this.updateMatrix();this.target=new wb;this.distance=c;this.angle=d;this.penumbra=f;this.decay=h;this.map=null;this.shadow=new uc}get power(){return this.intensity*Math.PI}set power(a){this.intensity=
a/Math.PI}dispose(){this.shadow.dispose()}copy(a,b){super.copy(a,b);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}const df=new kb,Qf=new I,tc=new I;class fj extends Kc{constructor(){super(new xc(90,1,.5,500));this.isPointLightShadow=!0;this._frameExtents=new va(4,2);this._viewportCount=6;this._viewports=[new Ab(2,1,1,1),new Ab(0,1,1,1),new Ab(3,1,1,1),new Ab(1,1,1,1),new Ab(3,0,1,1),new Ab(1,
0,1,1)];this._cubeDirections=[new I(1,0,0),new I(-1,0,0),new I(0,0,1),new I(0,0,-1),new I(0,1,0),new I(0,-1,0)];this._cubeUps=[new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,0,1),new I(0,0,-1)]}updateMatrices(a,b=0){const c=this.camera,d=this.matrix,f=a.distance||c.far;f!==c.far&&(c.far=f,c.updateProjectionMatrix());Qf.setFromMatrixPosition(a.matrixWorld);c.position.copy(Qf);tc.copy(c.position);tc.add(this._cubeDirections[b]);c.up.copy(this._cubeUps[b]);c.lookAt(tc);c.updateMatrixWorld();
d.makeTranslation(-Qf.x,-Qf.y,-Qf.z);df.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this._frustum.setFromProjectionMatrix(df)}}class Of extends bf{constructor(a,b,c=0,d=2){super(a,b);this.isPointLight=!0;this.type="PointLight";this.distance=c;this.decay=d;this.shadow=new fj}get power(){return 4*this.intensity*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,b){super.copy(a,b);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();
return this}}class zh extends Kc{constructor(){super(new Zf(-5,5,5,-5,.5,500));this.isDirectionalLightShadow=!0}}class Mf extends bf{constructor(a,b){super(a,b);this.isDirectionalLight=!0;this.type="DirectionalLight";this.position.copy(wb.DEFAULT_UP);this.updateMatrix();this.target=new wb;this.shadow=new zh}dispose(){this.shadow.dispose()}copy(a){super.copy(a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}class hj extends bf{constructor(a,b){super(a,b);this.isAmbientLight=
!0;this.type="AmbientLight"}}class ej extends bf{constructor(a,b,c=10,d=10){super(a,b);this.isRectAreaLight=!0;this.type="RectAreaLight";this.width=c;this.height=d}get power(){return this.intensity*this.width*this.height*Math.PI}set power(a){this.intensity=a/(this.width*this.height*Math.PI)}copy(a){super.copy(a);this.width=a.width;this.height=a.height;return this}toJSON(a){a=super.toJSON(a);a.object.width=this.width;a.object.height=this.height;return a}}class cj{constructor(){this.isSphericalHarmonics3=
!0;this.coefficients=[];for(let a=0;9>a;a++)this.coefficients.push(new I)}set(a){for(let b=0;9>b;b++)this.coefficients[b].copy(a[b]);return this}zero(){for(let a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,b){const c=a.x,d=a.y;a=a.z;const f=this.coefficients;b.copy(f[0]).multiplyScalar(.282095);b.addScaledVector(f[1],.488603*d);b.addScaledVector(f[2],.488603*a);b.addScaledVector(f[3],.488603*c);b.addScaledVector(f[4],1.092548*c*d);b.addScaledVector(f[5],1.092548*d*a);b.addScaledVector(f[6],
.315392*(3*a*a-1));b.addScaledVector(f[7],1.092548*c*a);b.addScaledVector(f[8],.546274*(c*c-d*d));return b}getIrradianceAt(a,b){const c=a.x,d=a.y;a=a.z;const f=this.coefficients;b.copy(f[0]).multiplyScalar(.886227);b.addScaledVector(f[1],1.023328*d);b.addScaledVector(f[2],1.023328*a);b.addScaledVector(f[3],1.023328*c);b.addScaledVector(f[4],.858086*c*d);b.addScaledVector(f[5],.858086*d*a);b.addScaledVector(f[6],.743125*a*a-.247708);b.addScaledVector(f[7],.858086*c*a);b.addScaledVector(f[8],.429043*
(c*c-d*d));return b}add(a){for(let b=0;9>b;b++)this.coefficients[b].add(a.coefficients[b]);return this}addScaledSH(a,b){for(let c=0;9>c;c++)this.coefficients[c].addScaledVector(a.coefficients[c],b);return this}scale(a){for(let b=0;9>b;b++)this.coefficients[b].multiplyScalar(a);return this}lerp(a,b){for(let c=0;9>c;c++)this.coefficients[c].lerp(a.coefficients[c],b);return this}equals(a){for(let b=0;9>b;b++)if(!this.coefficients[b].equals(a.coefficients[b]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(a,
b=0){const c=this.coefficients;for(let d=0;9>d;d++)c[d].fromArray(a,b+3*d);return this}toArray(a=[],b=0){const c=this.coefficients;for(let d=0;9>d;d++)c[d].toArray(a,b+3*d);return a}static getBasisAt(a,b){const c=a.x,d=a.y;a=a.z;b[0]=.282095;b[1]=.488603*d;b[2]=.488603*a;b[3]=.488603*c;b[4]=1.092548*c*d;b[5]=1.092548*d*a;b[6]=.315392*(3*a*a-1);b[7]=1.092548*c*a;b[8]=.546274*(c*c-d*d)}}class Yi extends bf{constructor(a=new cj,b=1){super(void 0,b);this.isLightProbe=!0;this.sh=a}copy(a){super.copy(a);
this.sh.copy(a.sh);return this}fromJSON(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this}toJSON(a){a=super.toJSON(a);a.object.sh=this.sh.toArray();return a}}class Ha extends $c{constructor(a){super(a);this.textures={}}load(a,b,c,d){const f=this,h=new sc(f.manager);h.setPath(f.path);h.setRequestHeader(f.requestHeader);h.setWithCredentials(f.withCredentials);h.load(a,function(l){try{b(f.parse(JSON.parse(l)))}catch(m){d?d(m):console.error(m),f.manager.itemError(a)}},c,d)}parse(a){function b(h){void 0===
c[h]&&console.warn("THREE.MaterialLoader: Undefined texture",h);return c[h]}const c=this.textures,d=Ha.createMaterialFromType(a.type);void 0!==a.uuid&&(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&void 0!==d.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);void 0!==a.sheen&&(d.sheen=a.sheen);void 0!==a.sheenColor&&(d.sheenColor=(new Ma).setHex(a.sheenColor));void 0!==a.sheenRoughness&&(d.sheenRoughness=
a.sheenRoughness);void 0!==a.emissive&&void 0!==d.emissive&&d.emissive.setHex(a.emissive);void 0!==a.specular&&void 0!==d.specular&&d.specular.setHex(a.specular);void 0!==a.specularIntensity&&(d.specularIntensity=a.specularIntensity);void 0!==a.specularColor&&void 0!==d.specularColor&&d.specularColor.setHex(a.specularColor);void 0!==a.shininess&&(d.shininess=a.shininess);void 0!==a.clearcoat&&(d.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(d.clearcoatRoughness=a.clearcoatRoughness);void 0!==
a.iridescence&&(d.iridescence=a.iridescence);void 0!==a.iridescenceIOR&&(d.iridescenceIOR=a.iridescenceIOR);void 0!==a.iridescenceThicknessRange&&(d.iridescenceThicknessRange=a.iridescenceThicknessRange);void 0!==a.transmission&&(d.transmission=a.transmission);void 0!==a.thickness&&(d.thickness=a.thickness);void 0!==a.attenuationDistance&&(d.attenuationDistance=a.attenuationDistance);void 0!==a.attenuationColor&&void 0!==d.attenuationColor&&d.attenuationColor.setHex(a.attenuationColor);void 0!==a.anisotropy&&
(d.anisotropy=a.anisotropy);void 0!==a.anisotropyRotation&&(d.anisotropyRotation=a.anisotropyRotation);void 0!==a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.combine&&(d.combine=a.combine);void 0!==a.side&&(d.side=a.side);void 0!==a.shadowSide&&(d.shadowSide=a.shadowSide);void 0!==a.opacity&&(d.opacity=a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);
void 0!==a.alphaHash&&(d.alphaHash=a.alphaHash);void 0!==a.depthTest&&(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);void 0!==a.stencilWrite&&(d.stencilWrite=a.stencilWrite);void 0!==a.stencilWriteMask&&(d.stencilWriteMask=a.stencilWriteMask);void 0!==a.stencilFunc&&(d.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(d.stencilRef=a.stencilRef);void 0!==a.stencilFuncMask&&(d.stencilFuncMask=a.stencilFuncMask);void 0!==
a.stencilFail&&(d.stencilFail=a.stencilFail);void 0!==a.stencilZFail&&(d.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(d.stencilZPass=a.stencilZPass);void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(d.rotation=a.rotation);void 0!==a.linewidth&&(d.linewidth=
a.linewidth);void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.polygonOffset&&(d.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(d.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(d.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.dithering&&(d.dithering=a.dithering);void 0!==a.alphaToCoverage&&(d.alphaToCoverage=a.alphaToCoverage);void 0!==a.premultipliedAlpha&&(d.premultipliedAlpha=
a.premultipliedAlpha);void 0!==a.forceSinglePass&&(d.forceSinglePass=a.forceSinglePass);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.toneMapped&&(d.toneMapped=a.toneMapped);void 0!==a.userData&&(d.userData=a.userData);void 0!==a.vertexColors&&(d.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);if(void 0!==a.uniforms)for(var f in a.uniforms){const h=a.uniforms[f];d.uniforms[f]={};switch(h.type){case "t":d.uniforms[f].value=b(h.value);break;case "c":d.uniforms[f].value=
(new Ma).setHex(h.value);break;case "v2":d.uniforms[f].value=(new va).fromArray(h.value);break;case "v3":d.uniforms[f].value=(new I).fromArray(h.value);break;case "v4":d.uniforms[f].value=(new Ab).fromArray(h.value);break;case "m3":d.uniforms[f].value=(new nb).fromArray(h.value);break;case "m4":d.uniforms[f].value=(new kb).fromArray(h.value);break;default:d.uniforms[f].value=h.value}}void 0!==a.defines&&(d.defines=a.defines);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&
(d.fragmentShader=a.fragmentShader);void 0!==a.glslVersion&&(d.glslVersion=a.glslVersion);if(void 0!==a.extensions)for(const h in a.extensions)d.extensions[h]=a.extensions[h];void 0!==a.lights&&(d.lights=a.lights);void 0!==a.clipping&&(d.clipping=a.clipping);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(d.map=b(a.map));void 0!==a.matcap&&(d.matcap=b(a.matcap));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap));void 0!==a.bumpMap&&
(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&(d.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(d.normalMapType=a.normalMapType);void 0!==a.normalScale&&(f=a.normalScale,!1===Array.isArray(f)&&(f=[f,f]),d.normalScale=(new va).fromArray(f));void 0!==a.displacementMap&&(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(d.displacementBias=a.displacementBias);
void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(d.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.specularIntensityMap&&(d.specularIntensityMap=b(a.specularIntensityMap));void 0!==a.specularColorMap&&(d.specularColorMap=b(a.specularColorMap));void 0!==a.envMap&&(d.envMap=b(a.envMap));
void 0!==a.envMapIntensity&&(d.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);void 0!==a.refractionRatio&&(d.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=b(a.gradientMap));void 0!==a.clearcoatMap&&(d.clearcoatMap=
b(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap=b(a.clearcoatRoughnessMap));void 0!==a.clearcoatNormalMap&&(d.clearcoatNormalMap=b(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(d.clearcoatNormalScale=(new va).fromArray(a.clearcoatNormalScale));void 0!==a.iridescenceMap&&(d.iridescenceMap=b(a.iridescenceMap));void 0!==a.iridescenceThicknessMap&&(d.iridescenceThicknessMap=b(a.iridescenceThicknessMap));void 0!==a.transmissionMap&&(d.transmissionMap=b(a.transmissionMap));
void 0!==a.thicknessMap&&(d.thicknessMap=b(a.thicknessMap));void 0!==a.anisotropyMap&&(d.anisotropyMap=b(a.anisotropyMap));void 0!==a.sheenColorMap&&(d.sheenColorMap=b(a.sheenColorMap));void 0!==a.sheenRoughnessMap&&(d.sheenRoughnessMap=b(a.sheenRoughnessMap));return d}setTextures(a){this.textures=a;return this}static createMaterialFromType(a){return new {ShadowMaterial:me,SpriteMaterial:Dk,RawShaderMaterial:Gf,ShaderMaterial:Od,PointsMaterial:xf,MeshPhysicalMaterial:ik,MeshStandardMaterial:Xd,MeshPhongMaterial:Ah,
MeshToonMaterial:Eh,MeshNormalMaterial:Jh,MeshLambertMaterial:nk,MeshDepthMaterial:Pd,MeshDistanceMaterial:Qd,MeshBasicMaterial:xe,MeshMatcapMaterial:tg,LineDashedMaterial:Bd,LineBasicMaterial:Wc,Material:Sc}[a]}}class Gg{static decodeText(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);let b="";for(let c=0,d=a.length;c<d;c++)b+=String.fromCharCode(a[c]);try{return decodeURIComponent(escape(b))}catch(c){return b}}static extractUrlBase(a){const b=a.lastIndexOf("/");return-1===
b?"./":a.slice(0,b+1)}static resolveURL(a,b){if("string"!==typeof a||""===a)return"";/^https?:\/\//i.test(b)&&/^\//.test(a)&&(b=b.replace(/(^https?:\/\/[^\/]+).*/i,"$1"));return/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?a:b+a}}class aj extends ob{constructor(){super();this.isInstancedBufferGeometry=!0;this.type="InstancedBufferGeometry";this.instanceCount=Infinity}copy(a){super.copy(a);this.instanceCount=a.instanceCount;return this}toJSON(){const a=super.toJSON();a.instanceCount=
this.instanceCount;a.isInstancedBufferGeometry=!0;return a}}class Gd extends $c{constructor(a){super(a)}load(a,b,c,d){const f=this,h=new sc(f.manager);h.setPath(f.path);h.setRequestHeader(f.requestHeader);h.setWithCredentials(f.withCredentials);h.load(a,function(l){try{b(f.parse(JSON.parse(l)))}catch(m){d?d(m):console.error(m),f.manager.itemError(a)}},c,d)}parse(a){function b(t,w){if(void 0!==c[w])return c[w];const B=t.interleavedBuffers[w];var z=B.buffer;void 0!==d[z]?z=d[z]:(t=(new Uint32Array(t.arrayBuffers[z])).buffer,
z=d[z]=t);z=new Yd[B.type](z);z=new ph(z,B.stride);z.uuid=B.uuid;return c[w]=z}const c={},d={},f=a.isInstancedBufferGeometry?new aj:new ob;var h=a.data.index;void 0!==h&&(h=new Yd[h.type](h.array),f.setIndex(new xb(h,1)));h=a.data.attributes;for(var l in h){var m=h[l],n=void 0;m.isInterleavedBufferAttribute?(n=b(a.data,m.data),n=new Je(n,m.itemSize,m.offset,m.normalized)):(n=new Yd[m.type](m.array),n=new (m.isInstancedBufferAttribute?ig:xb)(n,m.itemSize,m.normalized));void 0!==m.name&&(n.name=m.name);
void 0!==m.usage&&n.setUsage(m.usage);void 0!==m.updateRange&&(n.updateRange.offset=m.updateRange.offset,n.updateRange.count=m.updateRange.count);f.setAttribute(l,n)}if(l=a.data.morphAttributes)for(var p in l){h=l[p];m=[];for(let t=0,w=h.length;t<w;t++){n=h[t];var r=void 0;n.isInterleavedBufferAttribute?(r=b(a.data,n.data),r=new Je(r,n.itemSize,n.offset,n.normalized)):(r=new Yd[n.type](n.array),r=new xb(r,n.itemSize,n.normalized));void 0!==n.name&&(r.name=n.name);m.push(r)}f.morphAttributes[p]=m}a.data.morphTargetsRelative&&
(f.morphTargetsRelative=!0);p=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==p)for(let t=0,w=p.length;t!==w;++t)l=p[t],f.addGroup(l.start,l.count,l.materialIndex);p=a.data.boundingSphere;void 0!==p&&(l=new I,void 0!==p.center&&l.fromArray(p.center),f.boundingSphere=new Tb(l,p.radius));a.name&&(f.name=a.name);a.userData&&(f.userData=a.userData);return f}}class ef extends $c{constructor(a){super(a)}load(a,b,c,d){const f=this;var h=""===this.path?Gg.extractUrlBase(a):this.path;this.resourcePath=
this.resourcePath||h;h=new sc(this.manager);h.setPath(this.path);h.setRequestHeader(this.requestHeader);h.setWithCredentials(this.withCredentials);h.load(a,function(l){let m=null;try{m=JSON.parse(l)}catch(n){void 0!==d&&d(n);console.error("THREE:ObjectLoader: Can't parse "+a+".",n.message);return}l=m.metadata;void 0===l||void 0===l.type||"geometry"===l.type.toLowerCase()?(void 0!==d&&d(Error("THREE.ObjectLoader: Can't load "+a)),console.error("THREE.ObjectLoader: Can't load "+a)):f.parse(m,b)},c,
d)}loadAsync(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var d=""===c.path?Gg.extractUrlBase(a):c.path;c.resourcePath=c.resourcePath||d;d=new sc(c.manager);d.setPath(c.path);d.setRequestHeader(c.requestHeader);d.setWithCredentials(c.withCredentials);d=yield d.loadAsync(a,b);d=JSON.parse(d);const f=d.metadata;if(void 0===f||void 0===f.type||"geometry"===f.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+a);return yield c.parseAsync(d)})}parse(a,
b){const c=this.parseAnimations(a.animations);var d=this.parseShapes(a.shapes);const f=this.parseGeometries(a.geometries,d);d=this.parseImages(a.images,function(){void 0!==b&&b(m)});const h=this.parseTextures(a.textures,d),l=this.parseMaterials(a.materials,h),m=this.parseObject(a.object,f,l,h,c);a=this.parseSkeletons(a.skeletons,m);this.bindSkeletons(m,a);if(void 0!==b){a=!1;for(const n in d)if(d[n].data instanceof HTMLImageElement){a=!0;break}!1===a&&b(m)}return m}parseAsync(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=
b.parseAnimations(a.animations),d=b.parseShapes(a.shapes);d=b.parseGeometries(a.geometries,d);var f=yield b.parseImagesAsync(a.images);f=b.parseTextures(a.textures,f);const h=b.parseMaterials(a.materials,f);c=b.parseObject(a.object,d,h,f,c);d=b.parseSkeletons(a.skeletons,c);b.bindSkeletons(c,d);return c})}parseShapes(a){const b={};if(void 0!==a)for(let c=0,d=a.length;c<d;c++){const f=(new Cf).fromJSON(a[c]);b[f.uuid]=f}return b}parseSkeletons(a,b){const c={},d={};b.traverse(function(f){f.isBone&&
(d[f.uuid]=f)});if(void 0!==a)for(let f=0,h=a.length;f<h;f++)b=(new Ek).fromJSON(a[f],d),c[b.uuid]=b;return c}parseGeometries(a,b){const c={};if(void 0!==a){const d=new Gd;for(let f=0,h=a.length;f<h;f++){let l;const m=a[f];switch(m.type){case "BufferGeometry":case "InstancedBufferGeometry":l=d.parse(m);break;default:m.type in Ff?l=Ff[m.type].fromJSON(m,b):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${m.type}"`)}l.uuid=m.uuid;void 0!==m.name&&(l.name=m.name);void 0!==m.userData&&(l.userData=
m.userData);c[m.uuid]=l}}return c}parseMaterials(a,b){const c={},d={};if(void 0!==a){const f=new Ha;f.setTextures(b);for(let h=0,l=a.length;h<l;h++)b=a[h],void 0===c[b.uuid]&&(c[b.uuid]=f.parse(b)),d[b.uuid]=c[b.uuid]}return d}parseAnimations(a){const b={};if(void 0!==a)for(let c=0;c<a.length;c++){const d=Ue.parse(a[c]);b[d.uuid]=d}return b}parseImages(a,b){function c(n){f.manager.itemStart(n);return l.load(n,function(){f.manager.itemEnd(n)},void 0,function(){f.manager.itemError(n);f.manager.itemEnd(n)})}
function d(n){return"string"===typeof n?(n=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:f.resourcePath+n,c(n)):n.data?{data:new Yd[n.type](n.data),width:n.width,height:n.height}:null}const f=this,h={};let l;if(void 0!==a&&0<a.length){b=new zg(b);l=new Fg(b);l.setCrossOrigin(this.crossOrigin);for(let n=0,p=a.length;n<p;n++){b=a[n];var m=b.url;if(Array.isArray(m)){const r=[];for(let t=0,w=m.length;t<w;t++){const B=d(m[t]);null!==B&&(B instanceof HTMLImageElement?r.push(B):r.push(new Rg(B.data,B.width,B.height)))}h[b.uuid]=
new Te(r)}else m=d(b.url),h[b.uuid]=new Te(m)}}return h}parseImagesAsync(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){function c(m){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if("string"===typeof m){const n=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m)?m:d.resourcePath+m;return yield h.loadAsync(n)}return m.data?{data:new Yd[m.type](m.data),width:m.width,height:m.height}:null})}const d=b,f={};let h;if(void 0!==a&&0<a.length){h=new Fg(b.manager);h.setCrossOrigin(b.crossOrigin);
for(let m=0,n=a.length;m<n;m++){const p=a[m];var l=p.url;if(Array.isArray(l)){const r=[];for(let t=0,w=l.length;t<w;t++){const B=yield c(l[t]);null!==B&&(B instanceof HTMLImageElement?r.push(B):r.push(new Rg(B.data,B.width,B.height)))}f[p.uuid]=new Te(r)}else l=yield c(p.url),f[p.uuid]=new Te(l)}}return f})}parseTextures(a,b){function c(f,h){if("number"===typeof f)return f;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",f);return h[f]}const d={};if(void 0!==a)for(let f=
0,h=a.length;f<h;f++){const l=a[f];void 0===l.image&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid);void 0===b[l.image]&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const m=b[l.image],n=m.data;let p;Array.isArray(n)?(p=new fc,6===n.length&&(p.needsUpdate=!0)):(p=n&&n.data?new Rg:new hc,n&&(p.needsUpdate=!0));p.source=m;p.uuid=l.uuid;void 0!==l.name&&(p.name=l.name);void 0!==l.mapping&&(p.mapping=c(l.mapping,Th));void 0!==l.channel&&(p.channel=l.channel);void 0!==
l.offset&&p.offset.fromArray(l.offset);void 0!==l.repeat&&p.repeat.fromArray(l.repeat);void 0!==l.center&&p.center.fromArray(l.center);void 0!==l.rotation&&(p.rotation=l.rotation);void 0!==l.wrap&&(p.wrapS=c(l.wrap[0],Kg),p.wrapT=c(l.wrap[1],Kg));void 0!==l.format&&(p.format=l.format);void 0!==l.internalFormat&&(p.internalFormat=l.internalFormat);void 0!==l.type&&(p.type=l.type);void 0!==l.colorSpace&&(p.colorSpace=l.colorSpace);void 0!==l.encoding&&(p.encoding=l.encoding);void 0!==l.minFilter&&(p.minFilter=
c(l.minFilter,kj));void 0!==l.magFilter&&(p.magFilter=c(l.magFilter,kj));void 0!==l.anisotropy&&(p.anisotropy=l.anisotropy);void 0!==l.flipY&&(p.flipY=l.flipY);void 0!==l.generateMipmaps&&(p.generateMipmaps=l.generateMipmaps);void 0!==l.premultiplyAlpha&&(p.premultiplyAlpha=l.premultiplyAlpha);void 0!==l.unpackAlignment&&(p.unpackAlignment=l.unpackAlignment);void 0!==l.compareFunction&&(p.compareFunction=l.compareFunction);void 0!==l.userData&&(p.userData=l.userData);d[l.uuid]=p}return d}parseObject(a,
b,c,d,f){function h(w){void 0===b[w]&&console.warn("THREE.ObjectLoader: Undefined geometry",w);return b[w]}function l(w){if(void 0!==w){if(Array.isArray(w)){const B=[];for(let z=0,A=w.length;z<A;z++){const v=w[z];void 0===c[v]&&console.warn("THREE.ObjectLoader: Undefined material",v);B.push(c[v])}return B}void 0===c[w]&&console.warn("THREE.ObjectLoader: Undefined material",w);return c[w]}}function m(w){void 0===d[w]&&console.warn("THREE.ObjectLoader: Undefined texture",w);return d[w]}let n;switch(a.type){case "Scene":var p=
new Wj;void 0!==a.background&&(Number.isInteger(a.background)?p.background=new Ma(a.background):p.background=m(a.background));void 0!==a.environment&&(p.environment=m(a.environment));void 0!==a.fog&&("Fog"===a.fog.type?p.fog=new Ei(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(p.fog=new Di(a.fog.color,a.fog.density)),""!==a.fog.name&&(p.fog.name=a.fog.name));void 0!==a.backgroundBlurriness&&(p.backgroundBlurriness=a.backgroundBlurriness);void 0!==a.backgroundIntensity&&(p.backgroundIntensity=
a.backgroundIntensity);break;case "PerspectiveCamera":p=new xc(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(p.focus=a.focus);void 0!==a.zoom&&(p.zoom=a.zoom);void 0!==a.filmGauge&&(p.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(p.filmOffset=a.filmOffset);void 0!==a.view&&(p.view=Object.assign({},a.view));break;case "OrthographicCamera":p=new Zf(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(p.zoom=a.zoom);void 0!==a.view&&(p.view=Object.assign({},a.view));break;case "AmbientLight":p=
new hj(a.color,a.intensity);break;case "DirectionalLight":p=new Mf(a.color,a.intensity);break;case "PointLight":p=new Of(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":p=new ej(a.color,a.intensity,a.width,a.height);break;case "SpotLight":p=new Lc(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":p=new El(a.color,a.groundColor,a.intensity);break;case "LightProbe":p=(new Yi).fromJSON(a);break;case "SkinnedMesh":p=h(a.geometry);n=l(a.material);
p=new Jl(p,n);void 0!==a.bindMode&&(p.bindMode=a.bindMode);void 0!==a.bindMatrix&&p.bindMatrix.fromArray(a.bindMatrix);void 0!==a.skeleton&&(p.skeleton=a.skeleton);break;case "Mesh":p=h(a.geometry);n=l(a.material);p=new wc(p,n);break;case "InstancedMesh":p=h(a.geometry);n=l(a.material);var r=a.instanceMatrix,t=a.instanceColor;p=new rl(p,n,a.count);p.instanceMatrix=new ig(new Float32Array(r.array),16);void 0!==t&&(p.instanceColor=new ig(new Float32Array(t.array),t.itemSize));break;case "LOD":p=new rj;
break;case "Line":p=new ke(h(a.geometry),l(a.material));break;case "LineLoop":p=new dl(h(a.geometry),l(a.material));break;case "LineSegments":p=new Vc(h(a.geometry),l(a.material));break;case "PointCloud":case "Points":p=new Fk(h(a.geometry),l(a.material));break;case "Sprite":p=new Og(l(a.material));break;case "Group":p=new Rd;break;case "Bone":p=new Yj;break;default:p=new wb}p.uuid=a.uuid;void 0!==a.name&&(p.name=a.name);void 0!==a.matrix?(p.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&
(p.matrixAutoUpdate=a.matrixAutoUpdate),p.matrixAutoUpdate&&p.matrix.decompose(p.position,p.quaternion,p.scale)):(void 0!==a.position&&p.position.fromArray(a.position),void 0!==a.rotation&&p.rotation.fromArray(a.rotation),void 0!==a.quaternion&&p.quaternion.fromArray(a.quaternion),void 0!==a.scale&&p.scale.fromArray(a.scale));void 0!==a.up&&p.up.fromArray(a.up);void 0!==a.castShadow&&(p.castShadow=a.castShadow);void 0!==a.receiveShadow&&(p.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&
(p.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(p.shadow.normalBias=a.shadow.normalBias),void 0!==a.shadow.radius&&(p.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&p.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(p.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(p.visible=a.visible);void 0!==a.frustumCulled&&(p.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&(p.renderOrder=a.renderOrder);void 0!==a.userData&&(p.userData=
a.userData);void 0!==a.layers&&(p.layers.mask=a.layers);if(void 0!==a.children)for(r=a.children,t=0;t<r.length;t++)p.add(this.parseObject(r[t],b,c,d,f));if(void 0!==a.animations)for(r=a.animations,t=0;t<r.length;t++)p.animations.push(f[r[t]]);if("LOD"===a.type)for(void 0!==a.autoUpdate&&(p.autoUpdate=a.autoUpdate),a=a.levels,f=0;f<a.length;f++)r=a[f],t=p.getObjectByProperty("uuid",r.object),void 0!==t&&p.addLevel(t,r.distance,r.hysteresis);return p}bindSkeletons(a,b){0!==Object.keys(b).length&&a.traverse(function(c){if(!0===
c.isSkinnedMesh&&void 0!==c.skeleton){const d=b[c.skeleton];void 0===d?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",c.skeleton):c.bind(d,c.bindMatrix)}})}}const Th={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},Kg={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},kj={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,
LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};class Ak extends $c{constructor(a){super(a);this.isImageBitmapLoader=!0;"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.options={premultiplyAlpha:"none"}}setOptions(a){this.options=a;return this}load(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+
a);a=this.manager.resolveURL(a);const f=this,h=Dd.get(a);if(void 0!==h)return f.manager.itemStart(a),setTimeout(function(){b&&b(h);f.manager.itemEnd(a)},0),h;c={};c.credentials="anonymous"===this.crossOrigin?"same-origin":"include";c.headers=this.requestHeader;fetch(a,c).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(f.options,{colorSpaceConversion:"none"}))}).then(function(l){Dd.add(a,l);b&&b(l);f.manager.itemEnd(a)}).catch(function(l){d&&d(l);f.manager.itemError(a);
f.manager.itemEnd(a)});f.manager.itemStart(a)}}let rd;class Pf{static getContext(){void 0===rd&&(rd=new (window.AudioContext||window.webkitAudioContext));return rd}static setContext(a){rd=a}}class vk extends $c{constructor(a){super(a)}load(a,b,c,d){function f(m){d?d(m):console.error(m);h.manager.itemError(a)}const h=this,l=new sc(this.manager);l.setResponseType("arraybuffer");l.setPath(this.path);l.setRequestHeader(this.requestHeader);l.setWithCredentials(this.withCredentials);l.load(a,function(m){try{const n=
m.slice(0);Pf.getContext().decodeAudioData(n,function(p){b(p)},f)}catch(n){f(n)}},c,d)}}const Ph=new kb,ee=new kb,fe=new kb;class Vh{constructor(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new xc;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new xc;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(a){const b=this._cache;if(b.focus!==a.focus||
b.fov!==a.fov||b.aspect!==a.aspect*this.aspect||b.near!==a.near||b.far!==a.far||b.zoom!==a.zoom||b.eyeSep!==this.eyeSep){b.focus=a.focus;b.fov=a.fov;b.aspect=a.aspect*this.aspect;b.near=a.near;b.far=a.far;b.zoom=a.zoom;b.eyeSep=this.eyeSep;fe.copy(a.projectionMatrix);var c=b.eyeSep/2;const d=c*b.near/b.focus,f=b.near*Math.tan(Oe*b.fov*.5)/b.zoom;let h;ee.elements[12]=-c;Ph.elements[12]=c;c=-f*b.aspect+d;h=f*b.aspect+d;fe.elements[0]=2*b.near/(h-c);fe.elements[8]=(h+c)/(h-c);this.cameraL.projectionMatrix.copy(fe);
c=-f*b.aspect-d;h=f*b.aspect-d;fe.elements[0]=2*b.near/(h-c);fe.elements[8]=(h+c)/(h-c);this.cameraR.projectionMatrix.copy(fe)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(ee);this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(Ph)}}class Wh{constructor(a=!0){this.autoStart=a;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}start(){this.oldTime=this.startTime=Ef();this.elapsedTime=0;this.running=!0}stop(){this.getElapsedTime();this.autoStart=this.running=!1}getElapsedTime(){this.getDelta();
return this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const b=Ef();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}}const Rf=new I,Tk=new zc,Rk=new I,tf=new I;class bm extends wb{constructor(){super();this.type="AudioListener";this.context=Pf.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=0;this._clock=new Wh}getInput(){return this.gain}removeFilter(){null!==
this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this}getFilter(){return this.filter}setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){this.gain.gain.setTargetAtTime(a,
this.context.currentTime,.01);return this}updateMatrixWorld(a){super.updateMatrixWorld(a);a=this.context.listener;const b=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(Rf,Tk,Rk);tf.set(0,0,-1).applyQuaternion(Tk);if(a.positionX){const c=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(Rf.x,c);a.positionY.linearRampToValueAtTime(Rf.y,c);a.positionZ.linearRampToValueAtTime(Rf.z,c);a.forwardX.linearRampToValueAtTime(tf.x,c);a.forwardY.linearRampToValueAtTime(tf.y,
c);a.forwardZ.linearRampToValueAtTime(tf.z,c);a.upX.linearRampToValueAtTime(b.x,c);a.upY.linearRampToValueAtTime(b.y,c);a.upZ.linearRampToValueAtTime(b.z,c)}else a.setPosition(Rf.x,Rf.y,Rf.z),a.setOrientation(tf.x,tf.y,tf.z,b.x,b.y,b.z)}}class Kl extends wb{constructor(a){super();this.type="Audio";this.listener=a;this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=
0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=this._startedAt=0;this._connected=!1;this.filters=[]}getOutput(){return this.gain}setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this}setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this}setMediaStreamSource(a){this.hasPlaybackControl=
!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();return this}setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this}play(a=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,
a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,
!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);
this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=!0;return this}disconnect(){if(!1!==this._connected){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());this._connected=!1;return this}}getFilters(){return this.filters}setFilters(a){a||
(a=[]);!0===this._connected?(this.disconnect(),this.filters=a.slice(),this.connect()):this.filters=a.slice();return this}setDetune(a){this.detune=a;if(void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?[a]:[])}setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=
this.loop),this}setLoopStart(a){this.loopStart=a;return this}setLoopEnd(a){this.loopEnd=a;return this}getVolume(){return this.gain.gain.value}setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}}const Jd=new I,Ll=new zc,wj=new I,e=new I;class g extends Kl{constructor(a){super(a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}connect(){super.connect();this.panner.connect(this.gain)}disconnect(){super.disconnect();
this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){this.panner.refDistance=a;return this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){this.panner.rolloffFactor=a;return this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){this.panner.distanceModel=a;return this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){this.panner.maxDistance=a;return this}setDirectionalCone(a,
b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this}updateMatrixWorld(a){super.updateMatrixWorld(a);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(Jd,Ll,wj),e.set(0,0,1).applyQuaternion(Ll),a=this.panner,a.positionX){const b=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(Jd.x,b);a.positionY.linearRampToValueAtTime(Jd.y,b);a.positionZ.linearRampToValueAtTime(Jd.z,b);a.orientationX.linearRampToValueAtTime(e.x,
b);a.orientationY.linearRampToValueAtTime(e.y,b);a.orientationZ.linearRampToValueAtTime(e.z,b)}else a.setPosition(Jd.x,Jd.y,Jd.z),a.setOrientation(e.x,e.y,e.z)}}class k{constructor(a,b=2048){this.analyser=a.context.createAnalyser();this.analyser.fftSize=b;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}getAverageFrequency(){let a=0;const b=this.getFrequencyData();for(let c=
0;c<b.length;c++)a+=b[c];return a/b.length}}class q{constructor(a,b,c){this.binding=a;this.valueSize=c;let d;switch(b){case "quaternion":a=this._slerp;b=this._slerpAdditive;d=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*c);this._workIndex=5;break;case "string":case "bool":b=a=this._select;d=this._setAdditiveIdentityOther;this.buffer=Array(5*c);break;default:a=this._lerp,b=this._lerpAdditive,d=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*c)}this._mixBufferRegion=
a;this._mixBufferRegionAdditive=b;this._setIdentity=d;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}accumulate(a,b){const c=this.buffer,d=this.valueSize;a=a*d+d;var f=this.cumulativeWeight;if(0===f){for(f=0;f!==d;++f)c[a+f]=c[f];f=b}else f+=b,this._mixBufferRegion(c,a,0,b/f,d);this.cumulativeWeight=f}accumulateAdditive(a){const b=this.buffer,c=this.valueSize,d=c*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity();
this._mixBufferRegionAdditive(b,d,0,a,c);this.cumulativeWeightAdditive+=a}apply(a){const b=this.valueSize,c=this.buffer;a=a*b+b;const d=this.cumulativeWeight,f=this.cumulativeWeightAdditive,h=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,b*this._origIndex,1-d,b);0<f&&this._mixBufferRegionAdditive(c,a,this._addIndex*b,1,b);for(let l=b,m=b+b;l!==m;++l)if(c[l]!==c[l+b]){h.setValue(c,a);break}}saveOriginalState(){const a=this.buffer,b=this.valueSize,
c=b*this._origIndex;this.binding.getValue(a,c);for(let d=b,f=c;d!==f;++d)a[d]=a[c+d%b];this._setIdentity();this.cumulativeWeightAdditive=this.cumulativeWeight=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){var a=this._addIndex*this.valueSize;const b=a+this.valueSize;for(;a<b;a++)this.buffer[a]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const a=
this._origIndex*this.valueSize,b=this._addIndex*this.valueSize;for(let c=0;c<this.valueSize;c++)this.buffer[b+c]=this.buffer[a+c]}_select(a,b,c,d,f){if(.5<=d)for(d=0;d!==f;++d)a[b+d]=a[c+d]}_slerp(a,b,c,d){zc.slerpFlat(a,b,a,b,a,c,d)}_slerpAdditive(a,b,c,d,f){f*=this._workIndex;zc.multiplyQuaternionsFlat(a,f,a,b,a,c);zc.slerpFlat(a,b,a,b,a,f,d)}_lerp(a,b,c,d,f){const h=1-d;for(let l=0;l!==f;++l){const m=b+l;a[m]=a[m]*h+a[c+l]*d}}_lerpAdditive(a,b,c,d,f){for(let h=0;h!==f;++h){const l=b+h;a[l]+=a[c+
h]*d}}}const u=RegExp("[\\[\\]\\.:\\/]","g"),y=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),D=/(WCOD+)?/.source.replace("WCOD","[^\\[\\]:\\/]"),H=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),N=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),ha=new RegExp("^"+y+D+H+N+"$"),Ia=["material","materials","bones","map"];class fb{constructor(a,b,c){c=c||ia.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}getValue(a,b){this.bind();const c=
this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)}setValue(a,b){const c=this._bindings;for(let d=this._targetGroup.nCachedObjects_,f=c.length;d!==f;++d)c[d].setValue(a,b)}bind(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()}unbind(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].unbind()}}class ia{constructor(a,b,c){this.path=b;this.parsedPath=c||ia.parseTrackName(b);this.node=
ia.findNode(a,this.parsedPath.nodeName);this.rootNode=a;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}static create(a,b,c){return a&&a.isAnimationObjectGroup?new ia.Composite(a,b,c):new ia(a,b,c)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(u,"")}static parseTrackName(a){var b=ha.exec(a);if(null===b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};const c=
b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){const d=b.nodeName.substring(c+1);-1!==Ia.indexOf(d)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=d)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b}static findNode(a,b){if(void 0===b||""===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){const c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){const c=function(d){for(let h=
0;h<d.length;h++){var f=d[h];if(f.name===b||f.uuid===b||(f=c(f.children)))return f}return null};if(a=c(a.children))return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,b){a[b]=this.targetObject[this.propertyName]}_getValue_array(a,b){const c=this.resolvedProperty;for(let d=0,f=c.length;d!==f;++d)a[b++]=c[d]}_getValue_arrayElement(a,b){a[b]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,b){this.resolvedProperty.toArray(a,b)}_setValue_direct(a,b){this.targetObject[this.propertyName]=
a[b]}_setValue_direct_setNeedsUpdate(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,b){const c=this.resolvedProperty;for(let d=0,f=c.length;d!==f;++d)c[d]=a[b++]}_setValue_array_setNeedsUpdate(a,b){const c=this.resolvedProperty;for(let d=0,f=c.length;d!==f;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(a,
b){const c=this.resolvedProperty;for(let d=0,f=c.length;d!==f;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,b){this.resolvedProperty[this.propertyIndex]=a[b]}_setValue_arrayElement_setNeedsUpdate(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(a,b){this.resolvedProperty.fromArray(a,
b)}_setValue_fromArray_setNeedsUpdate(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,b){this.bind();this.getValue(a,b)}_setValue_unbound(a,b){this.bind();this.setValue(a,b)}bind(){let a=this.node;var b=this.parsedPath,c=b.objectName;const d=b.propertyName;let f=b.propertyIndex;a||(this.node=a=ia.findNode(this.rootNode,b.nodeName));
this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var h=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",
this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===h){h=c;break}break;case "map":if("map"in a){a=a.map;break}if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}a=a.material.map;break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",
this);return}a=a[c]}if(void 0!==h){if(void 0===a[h]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[h]}}h=a[d];if(void 0===h)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a);else{b=this.Versioning.None;this.targetObject=a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=
this.BindingType.Direct;if(void 0!==f){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}void 0!==a.morphTargetDictionary[f]&&(f=a.morphTargetDictionary[f])}c=this.BindingType.ArrayElement;this.resolvedProperty=
h;this.propertyIndex=f}else void 0!==h.fromArray&&void 0!==h.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(c=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}unbind(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}}
ia.Composite=fb;ia.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ia.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ia.prototype.GetterByBindingType=[ia.prototype._getValue_direct,ia.prototype._getValue_array,ia.prototype._getValue_arrayElement,ia.prototype._getValue_toArray];ia.prototype.SetterByBindingTypeAndVersioning=[[ia.prototype._setValue_direct,ia.prototype._setValue_direct_setNeedsUpdate,ia.prototype._setValue_direct_setMatrixWorldNeedsUpdate],
[ia.prototype._setValue_array,ia.prototype._setValue_array_setNeedsUpdate,ia.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ia.prototype._setValue_arrayElement,ia.prototype._setValue_arrayElement_setNeedsUpdate,ia.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ia.prototype._setValue_fromArray,ia.prototype._setValue_fromArray_setNeedsUpdate,ia.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Va{constructor(){this.isAnimationObjectGroup=!0;this.uuid=Oa();this._objects=
Array.prototype.slice.call(arguments);this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let c=0,d=arguments.length;c!==d;++c)a[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};const b=this;this.stats={objects:{get total(){return b._objects.length},get inUse(){return this.total-b.nCachedObjects_}},get bindingsPerObject(){return b._bindings.length}}}add(){const a=this._objects,b=this._indicesByUUID,c=this._paths,d=this._parsedPaths,
f=this._bindings,h=f.length;let l=void 0,m=a.length,n=this.nCachedObjects_;for(let t=0,w=arguments.length;t!==w;++t){const B=arguments[t];var p=B.uuid;let z=b[p];if(void 0===z){z=m++;b[p]=z;a.push(B);for(let A=0,v=h;A!==v;++A)f[A].push(new ia(B,c[A],d[A]))}else if(z<n){l=a[z];const A=--n;var r=a[A];b[r.uuid]=z;a[z]=r;b[p]=A;a[A]=B;for(let v=0,G=h;v!==G;++v)p=f[v],r=p[z],p[z]=p[A],void 0===r&&(r=new ia(B,c[v],d[v])),p[A]=r}else a[z]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=
n}remove(){const a=this._objects,b=this._indicesByUUID,c=this._bindings,d=c.length;let f=this.nCachedObjects_;for(let m=0,n=arguments.length;m!==n;++m){var h=arguments[m],l=h.uuid;const p=b[l];if(void 0!==p&&p>=f){const r=f++,t=a[r];b[t.uuid]=p;a[p]=t;b[l]=r;a[r]=h;for(let w=0,B=d;w!==B;++w)h=c[w],l=h[p],h[p]=h[r],h[r]=l}}this.nCachedObjects_=f}uncache(){const a=this._objects,b=this._indicesByUUID,c=this._bindings,d=c.length;let f=this.nCachedObjects_,h=a.length;for(let r=0,t=arguments.length;r!==
t;++r){var l=arguments[r].uuid;const w=b[l];if(void 0!==w)if(delete b[l],w<f){l=--f;var m=a[l],n=--h,p=a[n];b[m.uuid]=w;a[w]=m;b[p.uuid]=l;a[l]=p;a.pop();for(let B=0,z=d;B!==z;++B)m=c[B],p=m[n],m[w]=m[l],m[l]=p,m.pop()}else{l=--h;n=a[l];0<l&&(b[n.uuid]=w);a[w]=n;a.pop();for(let B=0,z=d;B!==z;++B)n=c[B],n[w]=n[l],n.pop()}}this.nCachedObjects_=f}subscribe_(a,b){const c=this._bindingsIndicesByPath;let d=c[a];const f=this._bindings;if(void 0!==d)return f[d];const h=this._paths,l=this._parsedPaths,m=this._objects,
n=this.nCachedObjects_,p=Array(m.length);d=f.length;c[a]=d;h.push(a);l.push(b);f.push(p);for(let r=n,t=m.length;r!==t;++r)p[r]=new ia(m[r],a,b);return p}unsubscribe_(a){const b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){const d=this._paths,f=this._parsedPaths,h=this._bindings,l=h.length-1,m=h[l];b[a[l]]=c;h[c]=m;h.pop();f[c]=f[l];f.pop();d[c]=d[l];d.pop()}}}class cb{constructor(a,b,c=null,d=b.blendMode){this._mixer=a;this._clip=b;this._localRoot=c;this.blendMode=d;a=b.tracks;b=a.length;c=Array(b);
d={endingStart:2400,endingEnd:2400};for(let f=0;f!==b;++f){const h=a[f].createInterpolant(null);c[f]=h;h.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=
!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}play(){this._mixer._activateAction(this);return this}stop(){this._mixer._deactivateAction(this);return this.reset()}reset(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){this._startTime=
a;return this}setLoop(a,b){this.loop=a;this.repetitions=b;return this}setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;const d=a._clip.duration,f=c/d;a.warp(1,d/c,b);this.warp(f,1,b)}return this}crossFadeTo(a,b,c){return a.crossFadeFrom(this,
b,c)}stopFading(){const a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){this.timeScale=this._clip.duration/a;return this.stopWarping()}syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,
0,a)}warp(a,b,c){var d=this._mixer;const f=d.time,h=this.timeScale;var l=this._timeScaleInterpolant;null===l&&(this._timeScaleInterpolant=l=d._lendControlInterpolant());d=l.parameterPositions;l=l.sampleValues;d[0]=f;d[1]=f+c;l[0]=a/h;l[1]=b/h;return this}stopWarping(){const a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,
b,c,d){if(this.enabled){var f=this._startTime;null!==f&&(b=(a-f)*c,0>b||0===c?b=0:(this._startTime=null,b*=c));b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a)switch(b=this._interpolants,f=this._propertyBindings,this.blendMode){case 2501:for(let h=0,l=b.length;h!==l;++h)b[h].evaluate(c),f[h].accumulateAdditive(a);break;default:for(let h=0,l=b.length;h!==l;++h)b[h].evaluate(c),f[h].accumulate(d,a)}}else this._updateWeight(a)}_updateWeight(a){let b=0;if(this.enabled){b=
this.weight;const c=this._weightInterpolant;if(null!==c){const d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b}_updateTimeScale(a){let b=0;if(!this.paused){b=this.timeScale;const c=this._timeScaleInterpolant;if(null!==c){const d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b}_updateTime(a){const b=this._clip.duration;var c=
this.loop;let d=this.time+a,f=this._loopCount;const h=2202===c;if(0===a)return-1===f?d:h&&1===(f&1)?b-d:d;if(2200===c)a:{if(-1===f&&(this._loopCount=0,this._setEndings(!0,!0,!1)),d>=b)d=b;else if(0>d)d=0;else{this.time=d;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=d;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{-1===f&&(0<=a?(f=0,this._setEndings(!0,0===this.repetitions,h)):this._setEndings(0===this.repetitions,!0,h));if(d>=b||0>d){c=
Math.floor(d/b);d-=b*c;f+=Math.abs(c);const l=this.repetitions-f;0>=l?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=d=0<a?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===l?(a=0>a,this._setEndings(a,!a,h)):this._setEndings(!1,!1,h),this._loopCount=f,this.time=d,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c}))}else this.time=d;if(h&&1===(f&1))return b-d}return d}_setEndings(a,b,c){const d=this._interpolantSettings;c?(d.endingStart=
2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(a,b,c){var d=this._mixer;const f=d.time;var h=this._weightInterpolant;null===h&&(this._weightInterpolant=h=d._lendControlInterpolant());d=h.parameterPositions;h=h.sampleValues;d[0]=f;h[0]=b;d[1]=f+a;h[1]=c;return this}}const bb=new Float32Array(1);class Y extends Pc{constructor(a){super();this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=
1}_bindAction(a,b){const c=a._localRoot||this._root,d=a._clip.tracks,f=d.length,h=a._propertyBindings;a=a._interpolants;const l=c.uuid;var m=this._bindingsByRootAndName;let n=m[l];void 0===n&&(n={},m[l]=n);for(m=0;m!==f;++m){const p=d[m],r=p.name;let t=n[r];if(void 0!==t)++t.referenceCount;else{t=h[m];if(void 0!==t){null===t._cacheIndex&&(++t.referenceCount,this._addInactiveBinding(t,l,r));continue}t=new q(ia.create(c,r,b&&b._propertyBindings[m].binding.parsedPath),p.ValueTypeName,p.getValueSize());
++t.referenceCount;this._addInactiveBinding(t,l,r)}h[m]=t;a[m].resultBuffer=t.buffer}}_activateAction(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid;const d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;for(let d=0,f=b.length;d!==f;++d)c=b[d],0===c.useCount++&&(this._lendBinding(c),c.saveOriginalState());this._lendAction(a)}}_deactivateAction(a){if(this._isActiveAction(a)){const b=
a._propertyBindings;for(let c=0,d=b.length;c!==d;++c){const f=b[c];0===--f.useCount&&(f.restoreOriginalState(),this._takeBackBinding(f))}this._takeBackAction(a)}}_initMemoryManager(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},
get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}}_isActiveAction(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions}_addInactiveAction(a,b,c){const d=this._actions,f=this._actionsByClip;let h=f[b];void 0===h?(h={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,f[b]=h):(b=h.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);h.actionByRoot[c]=
a}_removeInactiveAction(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;d=c[b];const f=d.knownActions,h=f[f.length-1],l=a._byClipCacheIndex;h._byClipCacheIndex=l;f[l]=h;f.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===f.length&&delete c[b];this._removeInactiveBindingsForAction(a)}_removeInactiveBindingsForAction(a){a=a._propertyBindings;for(let b=0,c=a.length;b!==
c;++b){const d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}}_lendAction(a){const b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,f=b[d];a._cacheIndex=d;b[d]=a;f._cacheIndex=c;b[c]=f}_takeBackAction(a){const b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,f=b[d];a._cacheIndex=d;b[d]=a;f._cacheIndex=c;b[c]=f}_addInactiveBinding(a,b,c){const d=this._bindingsByRootAndName,f=this._bindings;let h=d[b];void 0===h&&(h={},d[b]=h);h[c]=a;a._cacheIndex=f.length;f.push(a)}_removeInactiveBinding(a){const b=
this._bindings;var c=a.binding;const d=c.rootNode.uuid;c=c.path;const f=this._bindingsByRootAndName,h=f[d],l=b[b.length-1];a=a._cacheIndex;l._cacheIndex=a;b[a]=l;b.pop();delete h[c];0===Object.keys(h).length&&delete f[d]}_lendBinding(a){const b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,f=b[d];a._cacheIndex=d;b[d]=a;f._cacheIndex=c;b[c]=f}_takeBackBinding(a){const b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,f=b[d];a._cacheIndex=d;b[d]=a;f._cacheIndex=c;b[c]=f}_lendControlInterpolant(){const a=
this._controlInterpolants,b=this._nActiveControlInterpolants++;let c=a[b];void 0===c&&(c=new hd(new Float32Array(2),new Float32Array(2),1,bb),c.__cacheIndex=b,a[b]=c);return c}_takeBackControlInterpolant(a){const b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,f=b[d];a.__cacheIndex=d;b[d]=a;f.__cacheIndex=c;b[c]=f}clipAction(a,b,c){var d=b||this._root;const f=d.uuid;d="string"===typeof a?Ue.findByName(d,a):a;a=null!==d?d.uuid:a;const h=this._actionsByClip[a];var l=
null;void 0===c&&(c=null!==d?d.blendMode:2500);if(void 0!==h){l=h.actionByRoot[f];if(void 0!==l&&l.blendMode===c)return l;l=h.knownActions[0];null===d&&(d=l._clip)}if(null===d)return null;b=new cb(this,d,b,c);this._bindAction(b,l);this._addInactiveAction(b,a,f);return b}existingAction(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?Ue.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null}stopAllAction(){const a=this._actions;var b=this._nActiveActions;
for(--b;0<=b;--b)a[b].stop();return this}update(a){a*=this.timeScale;var b=this._actions,c=this._nActiveActions;const d=this.time+=a,f=Math.sign(a),h=this._accuIndex^=1;for(let l=0;l!==c;++l)b[l]._update(d,a,f,h);a=this._bindings;b=this._nActiveBindings;for(c=0;c!==b;++c)a[c].apply(h);return this}setTime(a){this.time=0;for(let b=0;b<this._actions.length;b++)this._actions[b].time=0;return this.update(a)}getRoot(){return this._root}uncacheClip(a){const b=this._actions;a=a.uuid;const c=this._actionsByClip;
var d=c[a];if(void 0!==d){d=d.knownActions;for(let f=0,h=d.length;f!==h;++f){const l=d[f];this._deactivateAction(l);const m=l._cacheIndex,n=b[b.length-1];l._cacheIndex=null;l._byClipCacheIndex=null;n._cacheIndex=m;b[m]=n;b.pop();this._removeInactiveBindingsForAction(l)}delete c[a]}}uncacheRoot(a){a=a.uuid;const b=this._actionsByClip;for(var c in b){const d=b[c].actionByRoot[a];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}c=this._bindingsByRootAndName[a];if(void 0!==c)for(const d in c)a=
c[d],a.restoreOriginalState(),this._removeInactiveBinding(a)}uncacheAction(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}}class R{constructor(a){this.value=a}clone(){return new R(void 0===this.value.clone?this.value:this.value.clone())}}let W=0;class qa extends Pc{constructor(){super();this.isUniformsGroup=!0;Object.defineProperty(this,"id",{value:W++});this.name="";this.usage=35044;this.uniforms=[]}add(a){this.uniforms.push(a);return this}remove(a){a=
this.uniforms.indexOf(a);-1!==a&&this.uniforms.splice(a,1);return this}setName(a){this.name=a;return this}setUsage(a){this.usage=a;return this}dispose(){this.dispatchEvent({type:"dispose"});return this}copy(a){this.name=a.name;this.usage=a.usage;a=a.uniforms;this.uniforms.length=0;for(let b=0,c=a.length;b<c;b++)this.uniforms.push(a[b].clone());return this}clone(){return(new this.constructor).copy(this)}}class ua extends ph{constructor(a,b,c=1){super(a,b);this.isInstancedInterleavedBuffer=!0;this.meshPerAttribute=
c}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}clone(a){a=super.clone(a);a.meshPerAttribute=this.meshPerAttribute;return a}toJSON(a){a=super.toJSON(a);a.isInstancedInterleavedBuffer=!0;a.meshPerAttribute=this.meshPerAttribute;return a}}class hb{constructor(a,b,c,d,f){this.isGLBufferAttribute=!0;this.name="";this.buffer=a;this.type=b;this.itemSize=c;this.elementSize=d;this.count=f;this.version=0}set needsUpdate(a){!0===a&&this.version++}setBuffer(a){this.buffer=a;return this}setType(a,
b){this.type=a;this.elementSize=b;return this}setItemSize(a){this.itemSize=a;return this}setCount(a){this.count=a;return this}}class Qa{constructor(a,b,c=0,d=Infinity){this.ray=new Ze(a,b);this.near=c;this.far=d;this.camera=null;this.layers=new Zi;this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(a,b){this.ray.set(a,b)}setFromCamera(a,b){b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize(),
this.camera=b):b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld),this.camera=b):console.error("THREE.Raycaster: Unsupported camera type: "+b.type)}intersectObject(a,b=!0,c=[]){yh(a,this,c,b);c.sort(gd);return c}intersectObjects(a,b=!0,c=[]){for(let d=0,f=a.length;d<f;d++)yh(a[d],this,c,b);c.sort(gd);return c}}class ib{constructor(a=1,b=0,c=0){this.radius=a;this.phi=b;this.theta=c;return this}set(a,
b,c){this.radius=a;this.phi=b;this.theta=c;return this}copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this}makeSafe(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=Math.sqrt(a*a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,c),this.phi=Math.acos(Za(b/this.radius,-1,1)));return this}clone(){return(new this.constructor).copy(this)}}
class qb{constructor(a=1,b=0,c=0){this.radius=a;this.theta=b;this.y=c;return this}set(a,b,c){this.radius=a;this.theta=b;this.y=c;return this}copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=Math.sqrt(a*a+c*c);this.theta=Math.atan2(a,c);this.y=b;return this}clone(){return(new this.constructor).copy(this)}}const jb=new va;class Qe{constructor(a=new va(Infinity,Infinity),
b=new va(-Infinity,-Infinity)){this.isBox2=!0;this.min=a;this.max=b}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=jb.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=Infinity;this.max.x=
this.max.y=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}containsPoint(a){return a.x<this.min.x||
a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,b){return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0}clampPoint(a,b){return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,jb).distanceTo(a)}intersect(a){this.min.max(a.min);
this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const wl=new I,Rl=new I;class Wm{constructor(a=new I,b=new I){this.start=a;this.end=b}set(a,b){this.start.copy(a);this.end.copy(b);return this}copy(a){this.start.copy(a.start);this.end.copy(a.end);return this}getCenter(a){return a.addVectors(this.start,
this.end).multiplyScalar(.5)}delta(a){return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,b){return this.delta(b).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,b){wl.subVectors(a,this.start);Rl.subVectors(this.end,this.start);a=Rl.dot(Rl);a=Rl.dot(wl)/a;b&&(a=Za(a,0,1));return a}closestPointToPoint(a,b,c){a=this.closestPointToPointParameter(a,b);return this.delta(c).multiplyScalar(a).add(this.start)}applyMatrix4(a){this.start.applyMatrix4(a);
this.end.applyMatrix4(a);return this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Nm=new I;class Xm extends wb{constructor(a,b){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;this.type="SpotLightHelper";a=new ob;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,d=1,f=32;c<f;c++,d++){const h=c/f*Math.PI*2,l=d/f*Math.PI*2;b.push(Math.cos(h),Math.sin(h),1,Math.cos(l),
Math.sin(l),1)}a.setAttribute("position",new Sa(b,3));b=new Wc({fog:!1,toneMapped:!1});this.cone=new Vc(a,b);this.add(this.cone);this.update()}dispose(){this.cone.geometry.dispose();this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);this.light.target.updateWorldMatrix(!0,!1);const a=this.light.distance?this.light.distance:1E3,b=a*Math.tan(this.light.angle);this.cone.scale.set(b,b,a);Nm.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(Nm);void 0!==this.color?
this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Xg=new I,Sl=new kb,Im=new kb;class Ym extends Vc{constructor(a){const b=hk(a),c=new ob;var d=[];const f=[],h=new Ma(0,0,1),l=new Ma(0,1,0);for(let m=0;m<b.length;m++){const n=b[m];n.parent&&n.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),f.push(h.r,h.g,h.b),f.push(l.r,l.g,l.b))}c.setAttribute("position",new Sa(d,3));c.setAttribute("color",new Sa(f,3));d=new Wc({vertexColors:!0,depthTest:!1,depthWrite:!1,
toneMapped:!1,transparent:!0});super(c,d);this.isSkeletonHelper=!0;this.type="SkeletonHelper";this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}updateMatrixWorld(a){const b=this.bones,c=this.geometry,d=c.getAttribute("position");Im.copy(this.root.matrixWorld).invert();for(let f=0,h=0;f<b.length;f++){const l=b[f];l.parent&&l.parent.isBone&&(Sl.multiplyMatrices(Im,l.matrixWorld),Xg.setFromMatrixPosition(Sl),d.setXYZ(h,Xg.x,Xg.y,Xg.z),Sl.multiplyMatrices(Im,l.parent.matrixWorld),
Xg.setFromMatrixPosition(Sl),d.setXYZ(h+1,Xg.x,Xg.y,Xg.z),h+=2)}c.getAttribute("position").needsUpdate=!0;super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose()}}class Zm extends wc{constructor(a,b,c){b=new Df(b,4,2);const d=new xe({wireframe:!0,fog:!1,toneMapped:!1});super(b,d);this.light=a;this.color=c;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}dispose(){this.geometry.dispose();this.material.dispose()}update(){this.light.updateWorldMatrix(!0,
!1);void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const $m=new I,Om=new Ma,Pm=new Ma;class an extends wb{constructor(a,b,c){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;this.type="HemisphereLightHelper";a=new Ig(b);a.rotateY(.5*Math.PI);this.material=new xe({wireframe:!0,fog:!1,toneMapped:!1});void 0===this.color&&(this.material.vertexColors=!0);b=a.getAttribute("position");b=new Float32Array(3*b.count);
a.setAttribute("color",new xb(b,3));this.add(new wc(a,this.material));this.update()}dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose()}update(){const a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const b=a.geometry.getAttribute("color");Om.copy(this.light.color);Pm.copy(this.light.groundColor);for(let c=0,d=b.count;c<d;c++){const f=c<d/2?Om:Pm;b.setXYZ(c,f.r,f.g,f.b)}b.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1);a.lookAt($m.setFromMatrixPosition(this.light.matrixWorld).negate())}}
class bn extends Vc{constructor(a=10,b=10,c=4473924,d=8947848){c=new Ma(c);d=new Ma(d);const f=b/2,h=a/b,l=a/2;a=[];const m=[];for(let n=0,p=0,r=-l;n<=b;n++,r+=h){a.push(-l,0,r,l,0,r);a.push(r,0,-l,r,0,l);const t=n===f?c:d;t.toArray(m,p);p+=3;t.toArray(m,p);p+=3;t.toArray(m,p);p+=3;t.toArray(m,p);p+=3}b=new ob;b.setAttribute("position",new Sa(a,3));b.setAttribute("color",new Sa(m,3));c=new Wc({vertexColors:!0,toneMapped:!1});super(b,c);this.type="GridHelper"}dispose(){this.geometry.dispose();this.material.dispose()}}
class cn extends Vc{constructor(a=10,b=16,c=8,d=64,f=4473924,h=8947848){f=new Ma(f);h=new Ma(h);var l=[];const m=[];if(1<b)for(var n=0;n<b;n++){var p=n/b*2*Math.PI,r=Math.sin(p)*a;p=Math.cos(p)*a;l.push(0,0,0);l.push(r,0,p);r=n&1?f:h;m.push(r.r,r.g,r.b);m.push(r.r,r.g,r.b)}for(b=0;b<c;b++)for(n=b&1?f:h,r=a-a/c*b,p=0;p<d;p++){var t=p/d*2*Math.PI;let w=Math.sin(t)*r;t=Math.cos(t)*r;l.push(w,0,t);m.push(n.r,n.g,n.b);t=(p+1)/d*2*Math.PI;w=Math.sin(t)*r;t=Math.cos(t)*r;l.push(w,0,t);m.push(n.r,n.g,n.b)}a=
new ob;a.setAttribute("position",new Sa(l,3));a.setAttribute("color",new Sa(m,3));l=new Wc({vertexColors:!0,toneMapped:!1});super(a,l);this.type="PolarGridHelper"}dispose(){this.geometry.dispose();this.material.dispose()}}const Qm=new I,Tl=new I,Rm=new I;class dn extends wb{constructor(a,b,c){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;this.type="DirectionalLightHelper";void 0===b&&(b=1);a=new ob;a.setAttribute("position",new Sa([-b,b,0,b,b,0,b,-b,0,-b,-b,
0,-b,b,0],3));b=new Wc({fog:!1,toneMapped:!1});this.lightPlane=new ke(a,b);this.add(this.lightPlane);a=new ob;a.setAttribute("position",new Sa([0,0,0,0,0,1],3));this.targetLine=new ke(a,b);this.add(this.targetLine);this.update()}dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);this.light.target.updateWorldMatrix(!0,!1);Qm.setFromMatrixPosition(this.light.matrixWorld);
Tl.setFromMatrixPosition(this.light.target.matrixWorld);Rm.subVectors(Tl,Qm);this.lightPlane.lookAt(Tl);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(Tl);this.targetLine.scale.z=Rm.length()}}const Ml=new I,pc=new Yg;class en extends Vc{constructor(a){function b(r,t){c(r);c(t)}function c(r){h.push(0,
0,0);l.push(0,0,0);void 0===m[r]&&(m[r]=[]);m[r].push(h.length/3-1)}var d=new ob,f=new Wc({color:16777215,vertexColors:!0,toneMapped:!1});const h=[],l=[],m={};b("n1","n2");b("n2","n4");b("n4","n3");b("n3","n1");b("f1","f2");b("f2","f4");b("f4","f3");b("f3","f1");b("n1","f1");b("n2","f2");b("n3","f3");b("n4","f4");b("p","n1");b("p","n2");b("p","n3");b("p","n4");b("u1","u2");b("u2","u3");b("u3","u1");b("c","t");b("p","c");b("cn1","cn2");b("cn3","cn4");b("cf1","cf2");b("cf3","cf4");d.setAttribute("position",
new Sa(h,3));d.setAttribute("color",new Sa(l,3));super(d,f);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=m;this.update();a=new Ma(16755200);d=new Ma(16711680);f=new Ma(43775);const n=new Ma(16777215),p=new Ma(3355443);this.setColors(a,d,f,n,p)}setColors(a,b,c,d,f){const h=this.geometry.getAttribute("color");h.setXYZ(0,a.r,a.g,a.b);h.setXYZ(1,a.r,a.g,a.b);h.setXYZ(2,a.r,
a.g,a.b);h.setXYZ(3,a.r,a.g,a.b);h.setXYZ(4,a.r,a.g,a.b);h.setXYZ(5,a.r,a.g,a.b);h.setXYZ(6,a.r,a.g,a.b);h.setXYZ(7,a.r,a.g,a.b);h.setXYZ(8,a.r,a.g,a.b);h.setXYZ(9,a.r,a.g,a.b);h.setXYZ(10,a.r,a.g,a.b);h.setXYZ(11,a.r,a.g,a.b);h.setXYZ(12,a.r,a.g,a.b);h.setXYZ(13,a.r,a.g,a.b);h.setXYZ(14,a.r,a.g,a.b);h.setXYZ(15,a.r,a.g,a.b);h.setXYZ(16,a.r,a.g,a.b);h.setXYZ(17,a.r,a.g,a.b);h.setXYZ(18,a.r,a.g,a.b);h.setXYZ(19,a.r,a.g,a.b);h.setXYZ(20,a.r,a.g,a.b);h.setXYZ(21,a.r,a.g,a.b);h.setXYZ(22,a.r,a.g,a.b);
h.setXYZ(23,a.r,a.g,a.b);h.setXYZ(24,b.r,b.g,b.b);h.setXYZ(25,b.r,b.g,b.b);h.setXYZ(26,b.r,b.g,b.b);h.setXYZ(27,b.r,b.g,b.b);h.setXYZ(28,b.r,b.g,b.b);h.setXYZ(29,b.r,b.g,b.b);h.setXYZ(30,b.r,b.g,b.b);h.setXYZ(31,b.r,b.g,b.b);h.setXYZ(32,c.r,c.g,c.b);h.setXYZ(33,c.r,c.g,c.b);h.setXYZ(34,c.r,c.g,c.b);h.setXYZ(35,c.r,c.g,c.b);h.setXYZ(36,c.r,c.g,c.b);h.setXYZ(37,c.r,c.g,c.b);h.setXYZ(38,d.r,d.g,d.b);h.setXYZ(39,d.r,d.g,d.b);h.setXYZ(40,f.r,f.g,f.b);h.setXYZ(41,f.r,f.g,f.b);h.setXYZ(42,f.r,f.g,f.b);h.setXYZ(43,
f.r,f.g,f.b);h.setXYZ(44,f.r,f.g,f.b);h.setXYZ(45,f.r,f.g,f.b);h.setXYZ(46,f.r,f.g,f.b);h.setXYZ(47,f.r,f.g,f.b);h.setXYZ(48,f.r,f.g,f.b);h.setXYZ(49,f.r,f.g,f.b);h.needsUpdate=!0}update(){const a=this.geometry,b=this.pointMap;pc.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);Ib("c",b,a,pc,0,0,-1);Ib("t",b,a,pc,0,0,1);Ib("n1",b,a,pc,-1,-1,-1);Ib("n2",b,a,pc,1,-1,-1);Ib("n3",b,a,pc,-1,1,-1);Ib("n4",b,a,pc,1,1,-1);Ib("f1",b,a,pc,-1,-1,1);Ib("f2",b,a,pc,1,-1,1);Ib("f3",b,a,pc,-1,1,
1);Ib("f4",b,a,pc,1,1,1);Ib("u1",b,a,pc,.7,1.1,-1);Ib("u2",b,a,pc,-.7,1.1,-1);Ib("u3",b,a,pc,0,2,-1);Ib("cf1",b,a,pc,-1,0,1);Ib("cf2",b,a,pc,1,0,1);Ib("cf3",b,a,pc,0,-1,1);Ib("cf4",b,a,pc,0,1,1);Ib("cn1",b,a,pc,-1,0,-1);Ib("cn2",b,a,pc,1,0,-1);Ib("cn3",b,a,pc,0,-1,-1);Ib("cn4",b,a,pc,0,1,-1);a.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose();this.material.dispose()}}const Ul=new Ed;class fn extends Vc{constructor(a,b=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,
5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new Float32Array(24),f=new ob;f.setIndex(new xb(c,1));f.setAttribute("position",new xb(d,3));super(f,new Wc({color:b,toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=!1;this.update()}update(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&Ul.setFromObject(this.object);if(!Ul.isEmpty()){a=Ul.min;var b=Ul.max,c=this.geometry.attributes.position,d=c.array;d[0]=b.x;d[1]=b.y;d[2]=b.z;d[3]=
a.x;d[4]=b.y;d[5]=b.z;d[6]=a.x;d[7]=a.y;d[8]=b.z;d[9]=b.x;d[10]=a.y;d[11]=b.z;d[12]=b.x;d[13]=b.y;d[14]=a.z;d[15]=a.x;d[16]=b.y;d[17]=a.z;d[18]=a.x;d[19]=a.y;d[20]=a.z;d[21]=b.x;d[22]=a.y;d[23]=a.z;c.needsUpdate=!0;this.geometry.computeBoundingSphere()}}setFromObject(a){this.object=a;this.update();return this}copy(a,b){super.copy(a,b);this.object=a.object;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class gn extends Vc{constructor(a,b=16776960){const c=new Uint16Array([0,
1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new ob;d.setIndex(new xb(c,1));d.setAttribute("position",new Sa([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));super(d,new Wc({color:b,toneMapped:!1}));this.box=a;this.type="Box3Helper";this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}dispose(){this.geometry.dispose();this.material.dispose()}}
class hn extends ke{constructor(a,b=1,c=16776960){const d=new ob;d.setAttribute("position",new Sa([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3));d.computeBoundingSphere();super(d,new Wc({color:c,toneMapped:!1}));this.type="PlaneHelper";this.plane=a;this.size=b;a=new ob;a.setAttribute("position",new Sa([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3));a.computeBoundingSphere();this.add(new wc(a,new xe({color:c,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){this.position.set(0,
0,0);this.scale.set(.5*this.size,.5*this.size,1);this.lookAt(this.plane.normal);this.translateZ(-this.plane.constant);super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose();this.children[0].geometry.dispose();this.children[0].material.dispose()}}const Sm=new I;let Vl,Jm;class jn extends wb{constructor(a=new I(0,0,1),b=new I(0,0,0),c=1,d=16776960,f=.2*c,h=.2*f){super();this.type="ArrowHelper";void 0===Vl&&(Vl=new ob,Vl.setAttribute("position",new Sa([0,0,0,0,1,0],3)),
Jm=new xd(0,.5,1,5,1),Jm.translate(0,-.5,0));this.position.copy(b);this.line=new ke(Vl,new Wc({color:d,toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new wc(Jm,new xe({color:d,toneMapped:!1}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,f,h)}setDirection(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(Sm.set(a.z,0,-a.x).normalize(),this.quaternion.setFromAxisAngle(Sm,Math.acos(a.y)))}setLength(a,
b=.2*a,c=.2*b){this.line.scale.set(1,Math.max(1E-4,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a);this.cone.material.color.set(a)}copy(a){super.copy(a,!1);this.line.copy(a.line);this.cone.copy(a.cone);return this}dispose(){this.line.geometry.dispose();this.line.material.dispose();this.cone.geometry.dispose();this.cone.material.dispose()}}class kn extends Vc{constructor(a=1){var b=[0,0,0,a,0,0,
0,0,0,0,a,0,0,0,0,0,0,a];a=new ob;a.setAttribute("position",new Sa(b,3));a.setAttribute("color",new Sa([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new Wc({vertexColors:!0,toneMapped:!1});super(a,b);this.type="AxesHelper"}setColors(a,b,c){const d=new Ma,f=this.geometry.attributes.color.array;d.set(a);d.toArray(f,0);d.toArray(f,3);d.set(b);d.toArray(f,6);d.toArray(f,9);d.set(c);d.toArray(f,12);d.toArray(f,15);this.geometry.attributes.color.needsUpdate=!0;return this}dispose(){this.geometry.dispose();
this.material.dispose()}}class ln{constructor(){this.type="ShapePath";this.color=new Ma;this.subPaths=[];this.currentPath=null}moveTo(a,b){this.currentPath=new Vd;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b);return this}lineTo(a,b){this.currentPath.lineTo(a,b);return this}quadraticCurveTo(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d);return this}bezierCurveTo(a,b,c,d,f,h){this.currentPath.bezierCurveTo(a,b,c,d,f,h);return this}splineThru(a){this.currentPath.splineThru(a);
return this}toShapes(a){function b(z){const A=[];for(let v=0,G=z.length;v<G;v++){const J=z[v],O=new Cf;O.curves=J.curves;A.push(O)}return A}function c(z,A){const v=A.length;let G=!1;for(let O=v-1,K=0;K<v;O=K++){var J=A[O];let P=A[K],ba=P.x-J.x,ca=P.y-J.y;if(Math.abs(ca)>Number.EPSILON){if(0>ca&&(J=A[K],ba=-ba,P=A[O],ca=-ca),!(z.y<J.y||z.y>P.y))if(z.y===J.y){if(z.x===J.x)return!0}else{J=ca*(z.x-J.x)-ba*(z.y-J.y);if(0===J)return!0;0>J||(G=!G)}}else if(z.y===J.y&&(P.x<=z.x&&z.x<=J.x||J.x<=z.x&&z.x<=
P.x))return!0}return G}var d=Wd.isClockWise,f=this.subPaths;if(0===f.length)return[];const h=[];if(1===f.length){var l=f[0];var m=new Cf;m.curves=l.curves;h.push(m);return h}var n=!d(f[0].getPoints());n=a?!n:n;m=[];const p=[];let r=[];var t=0;let w;p[t]=void 0;r[t]=[];for(let z=0,A=f.length;z<A;z++){l=f[z];w=l.getPoints();var B=d(w);(B=a?!B:B)?(!n&&p[t]&&t++,p[t]={s:new Cf,p:w},p[t].s.curves=l.curves,n&&t++,r[t]=[]):r[t].push({h:l,p:w[0]})}if(!p[0])return b(f);if(1<p.length){l=!1;a=0;for(let z=0,
A=p.length;z<A;z++)m[z]=[];for(let z=0,A=p.length;z<A;z++)for(d=r[z],f=0;f<d.length;f++){B=d[f];n=!0;for(t=0;t<p.length;t++)c(B.p,p[t].p)&&(z!==t&&a++,n?(n=!1,m[t].push(B)):l=!0);n&&m[z].push(B)}0<a&&!1===l&&(r=m)}for(let z=0,A=p.length;z<A;z++){m=p[z].s;h.push(m);l=r[z];for(let v=0,G=l.length;v<G;v++)m.holes.push(l[v].h)}return h}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"157"}}));"undefined"!==typeof window&&(window.__THREE__?
console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="157");x.ACESFilmicToneMapping=4;x.AddEquation=100;x.AddOperation=2;x.AdditiveAnimationBlendMode=2501;x.AdditiveBlending=2;x.AlphaFormat=1021;x.AlwaysCompare=519;x.AlwaysDepth=1;x.AlwaysStencilFunc=519;x.AmbientLight=hj;x.AnimationAction=cb;x.AnimationClip=Ue;x.AnimationLoader=Vi;x.AnimationMixer=Y;x.AnimationObjectGroup=Va;x.AnimationUtils=Fh;x.ArcCurve=tj;x.ArrayCamera=je;x.ArrowHelper=jn;x.Audio=Kl;x.AudioAnalyser=
k;x.AudioContext=Pf;x.AudioListener=bm;x.AudioLoader=vk;x.AxesHelper=kn;x.BackSide=1;x.BasicDepthPacking=3200;x.BasicShadowMap=0;x.Bone=Yj;x.BooleanKeyframeTrack=od;x.Box2=Qe;x.Box3=Ed;x.Box3Helper=gn;x.BoxGeometry=Nd;x.BoxHelper=fn;x.BufferAttribute=xb;x.BufferGeometry=ob;x.BufferGeometryLoader=Gd;x.ByteType=1010;x.Cache=Dd;x.Camera=Yg;x.CameraHelper=en;x.CanvasTexture=mh;x.CapsuleGeometry=yc;x.CatmullRomCurve3=jj;x.CineonToneMapping=3;x.CircleGeometry=Oc;x.ClampToEdgeWrapping=1001;x.Clock=Wh;x.Color=
Ma;x.ColorKeyframeTrack=Hf;x.ColorManagement=Db;x.CompressedArrayTexture=lg;x.CompressedCubeTexture=Uj;x.CompressedTexture=Hi;x.CompressedTextureLoader=rm;x.ConeGeometry=Oh;x.CubeCamera=zj;x.CubeReflectionMapping=301;x.CubeRefractionMapping=302;x.CubeTexture=fc;x.CubeTextureLoader=qm;x.CubeUVReflectionMapping=306;x.CubicBezierCurve=gj;x.CubicBezierCurve3=Fl;x.CubicInterpolant=Zb;x.CullFaceBack=1;x.CullFaceFront=2;x.CullFaceFrontBack=3;x.CullFaceNone=0;x.Curve=ed;x.CurvePath=Ki;x.CustomBlending=5;
x.CustomToneMapping=5;x.CylinderGeometry=xd;x.Cylindrical=qb;x.Data3DTexture=re;x.DataArrayTexture=xg;x.DataTexture=Rg;x.DataTextureLoader=sm;x.DataUtils=Rh;x.DecrementStencilOp=7683;x.DecrementWrapStencilOp=34056;x.DefaultLoadingManager=yl;x.DepthFormat=1026;x.DepthStencilFormat=1027;x.DepthTexture=Lj;x.DirectionalLight=Mf;x.DirectionalLightHelper=dn;x.DiscreteInterpolant=Cd;x.DisplayP3ColorSpace="display-p3";x.DodecahedronGeometry=fk;x.DoubleSide=2;x.DstAlphaFactor=206;x.DstColorFactor=208;x.DynamicCopyUsage=
35050;x.DynamicDrawUsage=35048;x.DynamicReadUsage=35049;x.EdgesGeometry=uj;x.EllipseCurve=ei;x.EqualCompare=514;x.EqualDepth=4;x.EqualStencilFunc=514;x.EquirectangularReflectionMapping=303;x.EquirectangularRefractionMapping=304;x.Euler=Wi;x.EventDispatcher=Pc;x.ExtrudeGeometry=Ni;x.FileLoader=sc;x.Float16BufferAttribute=af;x.Float32BufferAttribute=Sa;x.Float64BufferAttribute=vm;x.FloatType=1015;x.Fog=Ei;x.FogExp2=Di;x.FramebufferTexture=om;x.FrontSide=0;x.Frustum=Yf;x.GLBufferAttribute=hb;x.GLSL1=
"100";x.GLSL3="300 es";x.GreaterCompare=516;x.GreaterDepth=6;x.GreaterEqualCompare=518;x.GreaterEqualDepth=5;x.GreaterEqualStencilFunc=518;x.GreaterStencilFunc=516;x.GridHelper=bn;x.Group=Rd;x.HalfFloatType=1016;x.HemisphereLight=El;x.HemisphereLightHelper=an;x.IcosahedronGeometry=Oi;x.ImageBitmapLoader=Ak;x.ImageLoader=Fg;x.ImageUtils=wg;x.IncrementStencilOp=7682;x.IncrementWrapStencilOp=34055;x.InstancedBufferAttribute=ig;x.InstancedBufferGeometry=aj;x.InstancedInterleavedBuffer=ua;x.InstancedMesh=
rl;x.Int16BufferAttribute=um;x.Int32BufferAttribute=zm;x.Int8BufferAttribute=xm;x.IntType=1013;x.InterleavedBuffer=ph;x.InterleavedBufferAttribute=Je;x.Interpolant=pe;x.InterpolateDiscrete=2300;x.InterpolateLinear=2301;x.InterpolateSmooth=2302;x.InvertStencilOp=5386;x.KeepStencilOp=7680;x.KeyframeTrack=cc;x.LOD=rj;x.LatheGeometry=wd;x.Layers=Zi;x.LessCompare=513;x.LessDepth=2;x.LessEqualCompare=515;x.LessEqualDepth=3;x.LessEqualStencilFunc=515;x.LessStencilFunc=513;x.Light=bf;x.LightProbe=Yi;x.Line=
ke;x.Line3=Wm;x.LineBasicMaterial=Wc;x.LineCurve=fi;x.LineCurve3=gi;x.LineDashedMaterial=Bd;x.LineLoop=dl;x.LineSegments=Vc;x.LinearDisplayP3ColorSpace="display-p3-linear";x.LinearEncoding=3E3;x.LinearFilter=1006;x.LinearInterpolant=hd;x.LinearMipMapLinearFilter=1008;x.LinearMipMapNearestFilter=1007;x.LinearMipmapLinearFilter=1008;x.LinearMipmapNearestFilter=1007;x.LinearSRGBColorSpace="srgb-linear";x.LinearToneMapping=1;x.LinearTransfer="linear";x.Loader=$c;x.LoaderUtils=Gg;x.LoadingManager=zg;x.LoopOnce=
2200;x.LoopPingPong=2202;x.LoopRepeat=2201;x.LuminanceAlphaFormat=1025;x.LuminanceFormat=1024;x.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};x.Material=Sc;x.MaterialLoader=Ha;x.MathUtils=vl;x.Matrix3=nb;x.Matrix4=kb;x.MaxEquation=104;x.Mesh=wc;x.MeshBasicMaterial=xe;x.MeshDepthMaterial=Pd;x.MeshDistanceMaterial=Qd;x.MeshLambertMaterial=nk;x.MeshMatcapMaterial=tg;x.MeshNormalMaterial=Jh;x.MeshPhongMaterial=Ah;x.MeshPhysicalMaterial=ik;x.MeshStandardMaterial=Xd;x.MeshToonMaterial=Eh;x.MinEquation=
103;x.MirroredRepeatWrapping=1002;x.MixOperation=1;x.MultiplyBlending=4;x.MultiplyOperation=0;x.NearestFilter=1003;x.NearestMipMapLinearFilter=1005;x.NearestMipMapNearestFilter=1004;x.NearestMipmapLinearFilter=1005;x.NearestMipmapNearestFilter=1004;x.NeverCompare=512;x.NeverDepth=0;x.NeverStencilFunc=512;x.NoBlending=0;x.NoColorSpace="";x.NoToneMapping=0;x.NormalAnimationBlendMode=2500;x.NormalBlending=1;x.NotEqualCompare=517;x.NotEqualDepth=7;x.NotEqualStencilFunc=517;x.NumberKeyframeTrack=Qc;x.Object3D=
wb;x.ObjectLoader=ef;x.ObjectSpaceNormalMap=1;x.OctahedronGeometry=Ig;x.OneFactor=201;x.OneMinusDstAlphaFactor=207;x.OneMinusDstColorFactor=209;x.OneMinusSrcAlphaFactor=205;x.OneMinusSrcColorFactor=203;x.OrthographicCamera=Zf;x.P3Primaries="p3";x.PCFShadowMap=1;x.PCFSoftShadowMap=2;x.PMREMGenerator=Zg;x.Path=Vd;x.PerspectiveCamera=xc;x.Plane=Uc;x.PlaneGeometry=Xf;x.PlaneHelper=hn;x.PointLight=Of;x.PointLightHelper=Zm;x.Points=Fk;x.PointsMaterial=xf;x.PolarGridHelper=cn;x.PolyhedronGeometry=jd;x.PositionalAudio=
g;x.PropertyBinding=ia;x.PropertyMixer=q;x.QuadraticBezierCurve=Ud;x.QuadraticBezierCurve3=pg;x.Quaternion=zc;x.QuaternionKeyframeTrack=Eb;x.QuaternionLinearInterpolant=yg;x.RED_GREEN_RGTC2_Format=36285;x.RED_RGTC1_Format=36283;x.REVISION="157";x.RGBADepthPacking=3201;x.RGBAFormat=1023;x.RGBAIntegerFormat=1033;x.RGBA_ASTC_10x10_Format=37819;x.RGBA_ASTC_10x5_Format=37816;x.RGBA_ASTC_10x6_Format=37817;x.RGBA_ASTC_10x8_Format=37818;x.RGBA_ASTC_12x10_Format=37820;x.RGBA_ASTC_12x12_Format=37821;x.RGBA_ASTC_4x4_Format=
37808;x.RGBA_ASTC_5x4_Format=37809;x.RGBA_ASTC_5x5_Format=37810;x.RGBA_ASTC_6x5_Format=37811;x.RGBA_ASTC_6x6_Format=37812;x.RGBA_ASTC_8x5_Format=37813;x.RGBA_ASTC_8x6_Format=37814;x.RGBA_ASTC_8x8_Format=37815;x.RGBA_BPTC_Format=36492;x.RGBA_ETC2_EAC_Format=37496;x.RGBA_PVRTC_2BPPV1_Format=35843;x.RGBA_PVRTC_4BPPV1_Format=35842;x.RGBA_S3TC_DXT1_Format=33777;x.RGBA_S3TC_DXT3_Format=33778;x.RGBA_S3TC_DXT5_Format=33779;x.RGB_BPTC_SIGNED_Format=36494;x.RGB_BPTC_UNSIGNED_Format=36495;x.RGB_ETC1_Format=
36196;x.RGB_ETC2_Format=37492;x.RGB_PVRTC_2BPPV1_Format=35841;x.RGB_PVRTC_4BPPV1_Format=35840;x.RGB_S3TC_DXT1_Format=33776;x.RGFormat=1030;x.RGIntegerFormat=1031;x.RawShaderMaterial=Gf;x.Ray=Ze;x.Raycaster=Qa;x.Rec709Primaries="rec709";x.RectAreaLight=ej;x.RedFormat=1028;x.RedIntegerFormat=1029;x.ReinhardToneMapping=2;x.RenderTarget=Qi;x.RepeatWrapping=1E3;x.ReplaceStencilOp=7681;x.ReverseSubtractEquation=102;x.RingGeometry=zk;x.SIGNED_RED_GREEN_RGTC2_Format=36286;x.SIGNED_RED_RGTC1_Format=36284;
x.SRGBColorSpace="srgb";x.SRGBTransfer="srgb";x.Scene=Wj;x.ShaderChunk=gb;x.ShaderLib=Zc;x.ShaderMaterial=Od;x.ShadowMaterial=me;x.Shape=Cf;x.ShapeGeometry=Ad;x.ShapePath=ln;x.ShapeUtils=Wd;x.ShortType=1011;x.Skeleton=Ek;x.SkeletonHelper=Ym;x.SkinnedMesh=Jl;x.Source=Te;x.Sphere=Tb;x.SphereGeometry=Df;x.Spherical=ib;x.SphericalHarmonics3=cj;x.SplineCurve=Ke;x.SpotLight=Lc;x.SpotLightHelper=Xm;x.Sprite=Og;x.SpriteMaterial=Dk;x.SrcAlphaFactor=204;x.SrcAlphaSaturateFactor=210;x.SrcColorFactor=202;x.StaticCopyUsage=
35046;x.StaticDrawUsage=35044;x.StaticReadUsage=35045;x.StereoCamera=Vh;x.StreamCopyUsage=35042;x.StreamDrawUsage=35040;x.StreamReadUsage=35041;x.StringKeyframeTrack=dc;x.SubtractEquation=101;x.SubtractiveBlending=3;x.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};x.TangentSpaceNormalMap=0;x.TetrahedronGeometry=vh;x.Texture=hc;x.TextureLoader=wm;x.TorusGeometry=vj;x.TorusKnotGeometry=Cc;x.Triangle=Bc;x.TriangleFanDrawMode=2;x.TriangleStripDrawMode=1;x.TrianglesDrawMode=0;x.TubeGeometry=uk;x.TwoPassDoubleSide=
2;x.UVMapping=300;x.Uint16BufferAttribute=bj;x.Uint32BufferAttribute=lj;x.Uint8BufferAttribute=ym;x.Uint8ClampedBufferAttribute=cf;x.Uniform=R;x.UniformsGroup=qa;x.UniformsLib=Da;x.UniformsUtils=he;x.UnsignedByteType=1009;x.UnsignedInt248Type=1020;x.UnsignedIntType=1014;x.UnsignedShort4444Type=1017;x.UnsignedShort5551Type=1018;x.UnsignedShortType=1012;x.VSMShadowMap=3;x.Vector2=va;x.Vector3=I;x.Vector4=Ab;x.VectorKeyframeTrack=ic;x.VideoTexture=nd;x.WebGL1Renderer=Hj;x.WebGL3DRenderTarget=If;x.WebGLArrayRenderTarget=
lk;x.WebGLCoordinateSystem=2E3;x.WebGLCubeRenderTarget=pj;x.WebGLMultipleRenderTargets=Zd;x.WebGLRenderTarget=Sb;x.WebGLRenderer=si;x.WebGLUtils=ng;x.WebGPUCoordinateSystem=2001;x.WireframeGeometry=xh;x.WrapAroundEnding=2402;x.ZeroCurvatureEnding=2400;x.ZeroFactor=200;x.ZeroSlopeEnding=2401;x.ZeroStencilOp=0;x._SRGBAFormat=1035;x.createCanvasElement=nf;x.sRGBEncoding=3001})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var h,aa=this||self;function ba(){}function q(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ca(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function da(a){return Object.prototype.hasOwnProperty.call(a,ea)&&a[ea]||(a[ea]=++fa)}var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function ja(a,b,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return ja.apply(null,arguments)}
function ma(a,b){function c(){}c.prototype=b.prototype;a.Rc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};function na(a){na[" "](a);return a}na[" "]=ba;function oa(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function pa(a,b){return null!==a&&b in a?a[b]:void 0}const qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ra(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<qa.length;f++)c=qa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};const ta=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var va;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){va=b;break a}}va=""}let wa=va;function xa(a){return-1!=wa.indexOf(a)};function ya(a,b){null!=a&&this.append.apply(this,arguments)}h=ya.prototype;h.lb="";h.set=function(a){this.lb=""+a};h.append=function(a,b,c){this.lb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.lb+=arguments[d];return this};h.clear=function(){this.lb=""};h.toString=function(){return this.lb};var za={},Aa={},Ba,r={},Ca=null;function Da(){return new u(null,5,[Ea,!0,Fa,!0,Ga,!1,Ha,!1,Ia,null],null)}function v(a){return null!=a&&!1!==a}function Ja(a){return null==a}function Ka(a){return a instanceof Array}function La(a){return null==a?!0:!1===a?!0:!1}function Ma(a){return null!=a}function x(a,b){return a[q(null==b?null:b)]?!0:a._?!0:!1}function Na(a){return null==a?null:a.constructor}
function y(a,b){var c=Na(b);return Error(["No protocol method ",a," defined for type ",v(v(c)?c.Wa:c)?c.Ma:q(b),": ",b].join(""))}function Oa(a){var b=a.Ma;return v(b)?b:z.j(a)}var Pa="undefined"!==typeof Symbol&&"function"===q(Symbol)?Symbol.iterator:"@@iterator";function Ra(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Sa(a){function b(d,e){d.push(e);return d}var c=[];return Ta?Ta(b,c,a):Ua.call(null,b,c,a)}function Va(){}function Wa(){}
function Xa(){}function Ya(a){if(null!=a&&null!=a.aa)a=a.aa(a);else{var b=Ya[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ICounted.-count",a);}return a}function Za(){}function $a(a){if(null!=a&&null!=a.ba)a=a.ba(a);else{var b=$a[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=$a._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IEmptyableCollection.-empty",a);}return a}function ab(){}
function bb(a,b){if(null!=a&&null!=a.ea)a=a.ea(a,b);else{var c=bb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=bb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("ICollection.-conj",a);}return a}function cb(){}
var eb=function(){function a(d,e,f){var g=db[q(null==d?null:d)];if(null!=g)return g.o?g.o(d,e,f):g.call(null,d,e,f);g=db._;if(null!=g)return g.o?g.o(d,e,f):g.call(null,d,e,f);throw y("IIndexed.-nth",d);}function b(d,e){var f=db[q(null==d?null:d)];if(null!=f)return f.m?f.m(d,e):f.call(null,d,e);f=db._;if(null!=f)return f.m?f.m(d,e):f.call(null,d,e);throw y("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.m=b;c.o=a;return c}(),db=function db(a){switch(arguments.length){case 2:return db.m(arguments[0],arguments[1]);case 3:return db.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};db.m=function(a,b){return null!=a&&null!=a.O?a.O(a,b):eb(a,b)};db.o=function(a,b,c){return null!=a&&null!=a.qa?a.qa(a,b,c):eb(a,b,c)};db.J=3;function fb(){}
function gb(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=gb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ISeq.-first",a);}return a}function hb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=hb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ISeq.-rest",a);}return a}function ib(){}function jb(){}
var mb=function(){function a(d,e,f){var g=kb[q(null==d?null:d)];if(null!=g)return g.o?g.o(d,e,f):g.call(null,d,e,f);g=kb._;if(null!=g)return g.o?g.o(d,e,f):g.call(null,d,e,f);throw y("ILookup.-lookup",d);}function b(d,e){var f=kb[q(null==d?null:d)];if(null!=f)return f.m?f.m(d,e):f.call(null,d,e);f=kb._;if(null!=f)return f.m?f.m(d,e):f.call(null,d,e);throw y("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.m=b;c.o=a;return c}(),kb=function kb(a){switch(arguments.length){case 2:return kb.m(arguments[0],arguments[1]);case 3:return kb.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};kb.m=function(a,b){return null!=a&&null!=a.ra?a.ra(a,b):mb(a,b)};kb.o=function(a,b,c){return null!=a&&null!=a.Z?a.Z(a,b,c):mb(a,b,c)};kb.J=3;function nb(){}
function ob(a,b){if(null!=a&&null!=a.mb)a=a.mb(a,b);else{var c=ob[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=ob._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("IAssociative.-contains-key?",a);}return a}function pb(a,b,c){if(null!=a&&null!=a.Va)a=a.Va(a,b,c);else{var d=pb[q(null==a?null:a)];if(null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else if(d=pb._,null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else throw y("IAssociative.-assoc",a);}return a}
function qb(a,b){if(null!=a&&null!=a.xb)a=a.xb(a,b);else{var c=qb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=qb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("IFind.-find",a);}return a}function sb(){}function tb(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=tb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=tb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("IMap.-dissoc",a);}return a}
function ub(a){if(null!=a&&null!=a.Ed)a=a.key;else{var b=ub[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IMapEntry.-key",a);}return a}function vb(a){if(null!=a&&null!=a.Fd)a=a.P;else{var b=vb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=vb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IMapEntry.-val",a);}return a}function wb(){}
function xb(a,b){if(null!=a&&null!=a.bd)a=a.bd(a,b);else{var c=xb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=xb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("ISet.-disjoin",a);}return a}function yb(a){if(null!=a&&null!=a.nb)a=a.nb(a);else{var b=yb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IStack.-peek",a);}return a}
function zb(a){if(null!=a&&null!=a.ob)a=a.ob(a);else{var b=zb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=zb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IStack.-pop",a);}return a}function Ab(){}function Bb(a,b,c){if(null!=a&&null!=a.pb)a=a.pb(a,b,c);else{var d=Bb[q(null==a?null:a)];if(null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else if(d=Bb._,null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else throw y("IVector.-assoc-n",a);}return a}
function B(a){if(null!=a&&null!=a.cb)a=a.cb(a);else{var b=B[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=B._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IDeref.-deref",a);}return a}function Cb(){}function Db(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=Db[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Db._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IMeta.-meta",a);}return a}
function Eb(a,b){if(null!=a&&null!=a.U)a=a.U(a,b);else{var c=Eb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=Eb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("IWithMeta.-with-meta",a);}return a}function Fb(){}
var Ib=function(){function a(d,e,f){var g=Gb[q(null==d?null:d)];if(null!=g)return g.o?g.o(d,e,f):g.call(null,d,e,f);g=Gb._;if(null!=g)return g.o?g.o(d,e,f):g.call(null,d,e,f);throw y("IReduce.-reduce",d);}function b(d,e){var f=Gb[q(null==d?null:d)];if(null!=f)return f.m?f.m(d,e):f.call(null,d,e);f=Gb._;if(null!=f)return f.m?f.m(d,e):f.call(null,d,e);throw y("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.m=b;c.o=a;return c}(),Gb=function Gb(a){switch(arguments.length){case 2:return Gb.m(arguments[0],arguments[1]);case 3:return Gb.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Gb.m=function(a,b){return null!=a&&null!=a.ka?a.ka(a,b):Ib(a,b)};Gb.o=function(a,b,c){return null!=a&&null!=a.la?a.la(a,b,c):Ib(a,b,c)};Gb.J=3;function Jb(){}
function Kb(a,b,c){if(null!=a&&null!=a.Kb)a=a.Kb(a,b,c);else{var d=Kb[q(null==a?null:a)];if(null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else throw y("IKVReduce.-kv-reduce",a);}return a}function Lb(a,b){if(null!=a&&null!=a.X)a=a.X(a,b);else{var c=Lb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=Lb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("IEquiv.-equiv",a);}return a}
function Mb(a){if(null!=a&&null!=a.Y)a=a.Y(a);else{var b=Mb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IHash.-hash",a);}return a}function Nb(){}function Ob(a){if(null!=a&&null!=a.$)a=a.$(a);else{var b=Ob[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ISeqable.-seq",a);}return a}function Pb(){}function Qb(){}function Rb(){}
function Sb(a,b){if(null!=a&&null!=a.cd)a=a.cd(a,b);else{var c=Sb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=Sb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("IWriter.-write",a);}return a}function Tb(){}function Ub(a,b,c){if(null!=a&&null!=a.V)a=a.V(a,b,c);else{var d=Ub[q(null==a?null:a)];if(null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else if(d=Ub._,null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else throw y("IPrintWithWriter.-pr-writer",a);}return a}
function Vb(a,b){var c=Wb;if(null!=a&&null!=a.dc)a.dc(a,b,c);else{var d=Vb[q(null==a?null:a)];if(null!=d)d.o?d.o(a,b,c):d.call(null,a,b,c);else if(d=Vb._,null!=d)d.o?d.o(a,b,c):d.call(null,a,b,c);else throw y("IWatchable.-add-watch",a);}}function Xb(a,b){if(null!=a&&null!=a.ec)a.ec(a,b);else{var c=Xb[q(null==a?null:a)];if(null!=c)c.m?c.m(a,b):c.call(null,a,b);else if(c=Xb._,null!=c)c.m?c.m(a,b):c.call(null,a,b);else throw y("IWatchable.-remove-watch",a);}}
function Yb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=Yb[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IEditableCollection.-as-transient",a);}return a}function Zb(a,b){if(null!=a&&null!=a.Ab)a=a.Ab(a,b);else{var c=Zb[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=Zb._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("ITransientCollection.-conj!",a);}return a}
function $b(a){if(null!=a&&null!=a.Ob)a=a.Ob(a);else{var b=$b[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=$b._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("ITransientCollection.-persistent!",a);}return a}function ac(a,b,c){if(null!=a&&null!=a.zb)a=a.zb(a,b,c);else{var d=ac[q(null==a?null:a)];if(null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else if(d=ac._,null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else throw y("ITransientAssociative.-assoc!",a);}return a}
function bc(a,b){if(null!=a&&null!=a.Gc)a=a.Gc(a,b);else{var c=bc[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=bc._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("ITransientMap.-dissoc!",a);}return a}function cc(a){if(null!=a&&null!=a.yc)a=a.yc(a);else{var b=cc[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=cc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IChunk.-drop-first",a);}return a}
function D(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=D[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-first",a);}return a}function E(a){if(null!=a&&null!=a.bb)a=a.bb(a);else{var b=E[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=E._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-rest",a);}return a}
function dc(a){if(null!=a&&null!=a.Lb)a=a.Lb(a);else{var b=dc[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=dc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("INamed.-name",a);}return a}function ec(a){if(null!=a&&null!=a.Mb)a=a.Mb(a);else{var b=ec[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ec._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("INamed.-namespace",a);}return a}
function gc(a,b){if(null!=a&&null!=a.La)a=a.La(a,b);else{var c=gc[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=gc._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("IReset.-reset!",a);}return a}
var ic=function(){function a(f,g,k,l,m){var n=hc[q(null==f?null:f)];if(null!=n)return n.M?n.M(f,g,k,l,m):n.call(null,f,g,k,l,m);n=hc._;if(null!=n)return n.M?n.M(f,g,k,l,m):n.call(null,f,g,k,l,m);throw y("ISwap.-swap!",f);}function b(f,g,k,l){var m=hc[q(null==f?null:f)];if(null!=m)return m.F?m.F(f,g,k,l):m.call(null,f,g,k,l);m=hc._;if(null!=m)return m.F?m.F(f,g,k,l):m.call(null,f,g,k,l);throw y("ISwap.-swap!",f);}function c(f,g,k){var l=hc[q(null==f?null:f)];if(null!=l)return l.o?l.o(f,g,k):l.call(null,
f,g,k);l=hc._;if(null!=l)return l.o?l.o(f,g,k):l.call(null,f,g,k);throw y("ISwap.-swap!",f);}function d(f,g){var k=hc[q(null==f?null:f)];if(null!=k)return k.m?k.m(f,g):k.call(null,f,g);k=hc._;if(null!=k)return k.m?k.m(f,g):k.call(null,f,g);throw y("ISwap.-swap!",f);}var e=null;e=function(f,g,k,l,m){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,k);case 4:return b.call(this,f,g,k,l);case 5:return a.call(this,f,g,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.m=d;e.o=c;e.F=b;e.M=a;return e}(),hc=function hc(a){switch(arguments.length){case 2:return hc.m(arguments[0],arguments[1]);case 3:return hc.o(arguments[0],arguments[1],arguments[2]);case 4:return hc.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return hc.M(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};hc.m=function(a,b){return null!=a&&null!=a.Cc?a.Cc(a,b):ic(a,b)};
hc.o=function(a,b,c){return null!=a&&null!=a.Dc?a.Dc(a,b,c):ic(a,b,c)};hc.F=function(a,b,c,d){return null!=a&&null!=a.Ec?a.Ec(a,b,c,d):ic(a,b,c,d)};hc.M=function(a,b,c,d,e){return null!=a&&null!=a.Fc?a.Fc(a,b,c,d,e):ic(a,b,c,d,e)};hc.J=5;function jc(){}function kc(a){if(null!=a&&null!=a.ua)a=a.ua(a);else{var b=kc[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IIterable.-iterator",a);}return a}
function lc(a){this.ke=a;this.B=1073741824;this.N=0}lc.prototype.cd=function(a,b){return this.ke.append(b)};function mc(a){var b=new ya;a.V(null,new lc(b),Da());return z.j(b)}var nc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function oc(a){a=nc(a|0,-862048943);return nc(a<<15|a>>>-15,461845907)}
function pc(a,b){a=(a|0)^(b|0);return nc(a<<13|a>>>-13,5)+-430675100|0}function qc(a,b){a=(a|0)^b;a=nc(a^a>>>16,-2048144789);a=nc(a^a>>>13,-1028477387);return a^a>>>16}function rc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=pc(c,oc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return qc(1===(a.length&1)?b^oc(a.charCodeAt(a.length-1)):b,nc(2,a.length))}var sc={},tc=0;
function vc(a){255<tc&&(sc={},tc=0);if(null==a)return 0;var b=sc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=nc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;sc[a]=b;tc+=1;a=b}return a}
function wc(a){if(null!=a&&(a.B&4194304||r===a.we))return a.Y(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=vc(a),a=0===a?a:qc(pc(0,oc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Mb(a)^0,a}function xc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function yc(a,b,c,d,e){this.Fb=a;this.name=b;this.ib=c;this.vb=d;this.Sa=e;this.B=2154168321;this.N=4096}h=yc.prototype;h.toString=function(){return this.ib};h.X=function(a,b){return b instanceof yc?this.ib===b.ib:!1};h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};
h.j=function(a){return G.m?G.m(a,this):G.call(null,a,this)};h.m=function(a,b){return G.o?G.o(a,this,b):G.call(null,a,this,b)};h.S=function(){return this.Sa};h.U=function(a,b){return new yc(this.Fb,this.name,this.ib,this.vb,b)};h.Y=function(){var a=this.vb;return null!=a?a:this.vb=a=xc(rc(this.name),vc(this.Fb))};h.Lb=function(){return this.name};h.Mb=function(){return this.Fb};h.V=function(a,b){return Sb(b,this.ib)};
var zc=function zc(a){switch(arguments.length){case 1:return zc.j(arguments[0]);case 2:return zc.m(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};zc.j=function(a){for(;;){if(a instanceof yc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?zc.m(null,a):zc.m(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.va;else throw Error("no conversion to symbol");}};
zc.m=function(a,b){var c=null!=a?[z.j(a),"/",z.j(b)].join(""):b;return new yc(a,b,c,null,null)};zc.J=2;function Ac(a){return null!=a?a.N&131072||r===a.xe?!0:a.N?!1:x(jc,a):x(jc,a)}function J(a){if(null==a)return null;if(null!=a&&(a.B&8388608||r===a.Id))return a.$(null);if(Ka(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Pa])return a=pa(a,Pa).call(a),Bc.j?Bc.j(a):Bc.call(null,a);if(x(Nb,a))return Ob(a);throw Error([z.j(a)," is not ISeqable"].join(""));}
function M(a){if(null==a)return null;if(null!=a&&(a.B&64||r===a.yb))return a.ha(null);a=J(a);return null==a?null:gb(a)}function Cc(a){return null!=a?null!=a&&(a.B&64||r===a.yb)?a.ja(null):(a=J(a))?a.ja(null):Dc:Dc}function N(a){return null==a?null:null!=a&&(a.B&128||r===a.Nb)?a.ga():J(Cc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return P.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};P.j=function(){return!0};P.m=function(a,b){return null==a?null==b:a===b||Lb(a,b)};P.A=function(a,b,c){for(;;)if(P.m(a,b))if(N(c))a=b,b=M(c),c=N(c);else return P.m(b,M(c));else return!1};
P.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};P.J=2;function Ec(a){this.s=a}Ec.prototype.next=function(){if(null!=this.s){var a=M(this.s);this.s=N(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Fc(a){return new Ec(J(a))}function Gc(a,b){this.value=a;this.Eb=b;this.sc=null;this.B=8388672;this.N=0}Gc.prototype.$=function(){return this};Gc.prototype.ha=function(){return this.value};
Gc.prototype.ja=function(){null==this.sc&&(this.sc=Bc.j?Bc.j(this.Eb):Bc.call(null,this.Eb));return this.sc};function Bc(a){var b=a.next();return v(b.done)?null:new Gc(b.value,a)}function Hc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=nc(31,c)+wc(M(a))|0,a=N(a);else return qc(pc(0,oc(c)),b)}var Ic=qc(pc(0,oc(1)),0);function Jc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+wc(M(a))|0,a=N(a);else return qc(pc(0,oc(c)),b)}var Kc=qc(pc(0,oc(0)),0);Xa["null"]=!0;Ya["null"]=function(){return 0};
Date.prototype.X=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Lb.number=function(a,b){return a===b};Va["function"]=!0;Cb["function"]=!0;Db["function"]=function(){return null};Mb._=function(a){return da(a)};function Lc(a){return a+1}function Mc(){this.P=!1;this.B=32768;this.N=0}Mc.prototype.cb=function(){return this.P};function Nc(a){return a instanceof Mc}function Oc(a){return B(a)}
function Pc(a,b){var c=a.aa(null);if(0===c)return b.D?b.D():b.call(null);for(var d=a.O(null,0),e=1;;)if(e<c){var f=a.O(null,e);d=b.m?b.m(d,f):b.call(null,d,f);if(Nc(d))return B(d);e+=1}else return d}function Qc(a,b,c){var d=a.aa(null),e=c;for(c=0;;)if(c<d){var f=a.O(null,c);e=b.m?b.m(e,f):b.call(null,e,f);if(Nc(e))return B(e);c+=1}else return e}
function Rc(a,b){var c=a.length;if(0===a.length)return b.D?b.D():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.m?b.m(d,f):b.call(null,d,f);if(Nc(d))return B(d);e+=1}else return d}function Sc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.m?b.m(e,f):b.call(null,e,f);if(Nc(e))return B(e);c+=1}else return e}function Tc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.m?b.m(c,f):b.call(null,c,f);if(Nc(c))return B(c);d+=1}else return c}
function Uc(a){return null!=a?a.B&2||r===a.wd?!0:a.B?!1:x(Xa,a):x(Xa,a)}function Vc(a){return null!=a?a.B&16||r===a.$c?!0:a.B?!1:x(cb,a):x(cb,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.m(Wc?Wc(a,c):Xc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.m(Wc?Wc(a,c):Xc.call(null,a,c),b))return c;--c}else return-1}function Yc(a,b){this.u=a;this.i=b}Yc.prototype.fa=function(){return this.i<this.u.length};Yc.prototype.next=function(){var a=this.u[this.i];this.i+=1;return a};function K(a,b,c){this.u=a;this.i=b;this.meta=c;this.B=166592766;this.N=139264}h=K.prototype;h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.O=function(a,b){a=b+this.i;if(0<=a&&a<this.u.length)return this.u[a];throw Error("Index out of bounds");};h.qa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.u.length?this.u[a]:c};
h.ua=function(){return new Yc(this.u,this.i)};h.S=function(){return this.meta};h.ga=function(){return this.i+1<this.u.length?new K(this.u,this.i+1,null):null};h.aa=function(){var a=this.u.length-this.i;return 0>a?0:a};h.Y=function(){return Hc(this)};h.X=function(a,b){return Zc.m?Zc.m(this,b):Zc.call(null,this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Tc(this.u,b,this.u[this.i],this.i+1)};h.la=function(a,b,c){return Tc(this.u,b,c,this.i)};h.ha=function(){return this.u[this.i]};
h.ja=function(){return this.i+1<this.u.length?new K(this.u,this.i+1,null):Dc};h.$=function(){return this.i<this.u.length?this:null};h.U=function(a,b){return b===this.meta?this:new K(this.u,this.i,b)};h.ea=function(a,b){return $c.m?$c.m(b,this):$c.call(null,b,this)};K.prototype[Pa]=function(){return Fc(this)};function T(a){return 0<a.length?new K(a,0,null):null}Lb._=function(a,b){return a===b};
var ad=function ad(a){switch(arguments.length){case 0:return ad.D();case 1:return ad.j(arguments[0]);case 2:return ad.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ad.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};ad.D=function(){return bd};ad.j=function(a){return a};ad.m=function(a,b){return null!=a?bb(a,b):new cd(null,b,null,1,null)};
ad.A=function(a,b,c){for(;;)if(v(c))a=ad.m(a,b),b=M(c),c=N(c);else return ad.m(a,b)};ad.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};ad.J=2;function R(a){if(null!=a)if(null!=a&&(a.B&2||r===a.wd))a=a.aa(null);else if(Ka(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.B&8388608||r===a.Id))a:{a=J(a);for(var b=0;;){if(Uc(a)){a=b+Ya(a);break a}a=N(a);b+=1}}else a=Ya(a);else a=0;return a}
function dd(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?M(a):c;if(Vc(a))return db(a,b,c);if(J(a))a=N(a),--b;else return c}}function Xc(a){switch(arguments.length){case 2:return Wc(arguments[0],arguments[1]);case 3:return U(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}
function Wc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.B&16||r===a.$c))return a.O(null,b);if(Ka(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.B&64||r===a.yb)||null!=a&&(a.B&16777216||r===a.Bc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=M(a);break a}throw Error("Index out of bounds");}if(Vc(a)){a=db(a,b);break a}if(J(a))a=N(a),--b;else throw Error("Index out of bounds");}return a}if(x(cb,a))return db(a,b);throw Error(["nth not supported on this type ",z.j(Oa(Na(a)))].join(""));}
function U(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.B&16||r===a.$c))return a.qa(null,b,c);if(Ka(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.B&64||r===a.yb)||null!=a&&(a.B&16777216||r===a.Bc))return 0>b?c:dd(a,b,c);if(x(cb,a))return db(a,b,c);throw Error(["nth not supported on this type ",z.j(Oa(Na(a)))].join(""));}
var G=function G(a){switch(arguments.length){case 2:return G.m(arguments[0],arguments[1]);case 3:return G.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};G.m=function(a,b){return null==a?null:null!=a&&(a.B&256||r===a.Cd)?a.ra(null,b):Ka(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:x(jb,a)?kb(a,b):null};
G.o=function(a,b,c){return null!=a?null!=a&&(a.B&256||r===a.Cd)?a.Z(null,b,c):Ka(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:x(jb,a)?kb(a,b,c):c:c};G.J=3;var W=function W(a){switch(arguments.length){case 3:return W.o(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return W.A(arguments[0],arguments[1],arguments[2],new K(c.slice(3),0,null))}};
W.o=function(a,b,c){return null!=a&&(a.B&512||r===a.vd)?a.Va(null,b,c):null!=a?pb(a,b,c):ed([b,c])};W.A=function(a,b,c,d){for(;;)if(a=W.o(a,b,c),v(d))b=M(d),c=M(N(d)),d=N(N(d));else return a};W.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);d=N(d);return this.A(b,a,c,d)};W.J=3;
var fd=function fd(a){switch(arguments.length){case 1:return fd.j(arguments[0]);case 2:return fd.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return fd.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};fd.j=function(a){return a};fd.m=function(a,b){return null==a?null:tb(a,b)};fd.A=function(a,b,c){for(;;){if(null==a)return null;a=fd.m(a,b);if(v(c))b=M(c),c=N(c);else return a}};
fd.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};fd.J=2;function gd(a){var b="function"===typeof a;return b?b:null!=a?r===a.ud?!0:a.Ic?!1:x(Va,a):x(Va,a)}function hd(a,b){this.H=a;this.meta=b;this.B=393217;this.N=0}h=hd.prototype;h.S=function(){return this.meta};h.U=function(a,b){return new hd(this.H,b)};h.ud=r;
h.call=function(a){switch(arguments.length-1){case 0:return this.D();case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);case 3:return this.o(arguments[1],arguments[2],arguments[3]);case 4:return this.F(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.M(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ea(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ga(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.zc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.D=function(){return this.H.D?this.H.D():this.H.call(null)};h.j=function(a){return this.H.j?this.H.j(a):this.H.call(null,a)};h.m=function(a,b){return this.H.m?this.H.m(a,b):this.H.call(null,a,b)};h.o=function(a,b,c){return this.H.o?this.H.o(a,b,c):this.H.call(null,a,b,c)};
h.F=function(a,b,c,d){return this.H.F?this.H.F(a,b,c,d):this.H.call(null,a,b,c,d)};h.M=function(a,b,c,d,e){return this.H.M?this.H.M(a,b,c,d,e):this.H.call(null,a,b,c,d,e)};h.ia=function(a,b,c,d,e,f){return this.H.ia?this.H.ia(a,b,c,d,e,f):this.H.call(null,a,b,c,d,e,f)};h.Ja=function(a,b,c,d,e,f,g){return this.H.Ja?this.H.Ja(a,b,c,d,e,f,g):this.H.call(null,a,b,c,d,e,f,g)};h.ta=function(a,b,c,d,e,f,g,k){return this.H.ta?this.H.ta(a,b,c,d,e,f,g,k):this.H.call(null,a,b,c,d,e,f,g,k)};
h.Ka=function(a,b,c,d,e,f,g,k,l){return this.H.Ka?this.H.Ka(a,b,c,d,e,f,g,k,l):this.H.call(null,a,b,c,d,e,f,g,k,l)};h.ya=function(a,b,c,d,e,f,g,k,l,m){return this.H.ya?this.H.ya(a,b,c,d,e,f,g,k,l,m):this.H.call(null,a,b,c,d,e,f,g,k,l,m)};h.za=function(a,b,c,d,e,f,g,k,l,m,n){return this.H.za?this.H.za(a,b,c,d,e,f,g,k,l,m,n):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n)};h.Aa=function(a,b,c,d,e,f,g,k,l,m,n,p){return this.H.Aa?this.H.Aa(a,b,c,d,e,f,g,k,l,m,n,p):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p)};
h.Ba=function(a,b,c,d,e,f,g,k,l,m,n,p,t){return this.H.Ba?this.H.Ba(a,b,c,d,e,f,g,k,l,m,n,p,t):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t)};h.Ca=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w){return this.H.Ca?this.H.Ca(a,b,c,d,e,f,g,k,l,m,n,p,t,w):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w)};h.Da=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A){return this.H.Da?this.H.Da(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A)};
h.Ea=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C){return this.H.Ea?this.H.Ea(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C)};h.Fa=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F){return this.H.Fa?this.H.Fa(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F)};h.Ga=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H){return this.H.Ga?this.H.Ga(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H)};
h.Ha=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O){return this.H.Ha?this.H.Ha(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O)};h.Ia=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V){return this.H.Ia?this.H.Ia(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V):this.H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V)};
h.zc=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka){return id.Bd?id.Bd(this.H,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka):id.call(null,this.H,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka)};function jd(a,b){return"function"===typeof a?new hd(a,b):null==a?null:Eb(a,b)}function kd(a){var b=null!=a;return(b?null!=a?a.B&131072||r===a.Gd||(a.B?0:x(Cb,a)):x(Cb,a):b)?Db(a):null}function ld(a){return null==a?null:yb(a)}
var md=function md(a){switch(arguments.length){case 1:return md.j(arguments[0]);case 2:return md.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return md.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};md.j=function(a){return a};md.m=function(a,b){return null==a?null:xb(a,b)};md.A=function(a,b,c){for(;;){if(null==a)return null;a=md.m(a,b);if(v(c))b=M(c),c=N(c);else return a}};
md.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};md.J=2;function nd(a){return null==a||La(J(a))}function od(a){return null==a?!1:null!=a?a.B&8||r===a.ue?!0:a.B?!1:x(ab,a):x(ab,a)}function pd(a){return null==a?!1:null!=a?a.B&4096||r===a.Jd?!0:a.B?!1:x(wb,a):x(wb,a)}function qd(a){return null!=a?a.B&16777216||r===a.Bc?!0:a.B?!1:x(Pb,a):x(Pb,a)}function rd(a){return null==a?!1:null!=a?a.B&1024||r===a.Dd?!0:a.B?!1:x(sb,a):x(sb,a)}
function sd(a){return null!=a?a.B&67108864||r===a.Be?!0:a.B?!1:x(Rb,a):x(Rb,a)}function td(a){return null!=a?a.B&16384||r===a.Ce?!0:a.B?!1:x(Ab,a):x(Ab,a)}function ud(a){return null!=a?a.N&512||r===a.te?!0:!1:!1}function vd(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var wd={};function xd(a){return null==a?!1:!1===a?!1:!0}function yd(a){var b=gd(a);return b?b:null!=a?a.B&1||r===a.ve?!0:a.B?!1:x(Wa,a):x(Wa,a)}
function zd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Ad(a,b){return null!=a&&(a.B&512||r===a.vd)?a.mb(null,b):x(nb,a)?ob(a,b):G.o(a,b,wd)===wd?!1:!0}function Bd(a,b){var c=J(b);return c?(b=M(c),c=N(c),Ta?Ta(a,b,c):Ua.call(null,a,b,c)):a.D?a.D():a.call(null)}function Cd(a,b,c){for(c=J(c);;)if(c){var d=M(c);b=a.m?a.m(b,d):a.call(null,b,d);if(Nc(b))return B(b);c=N(c)}else return b}
function Dd(a,b){a=kc(a);if(v(a.fa()))for(var c=a.next();;)if(a.fa()){var d=a.next();c=b.m?b.m(c,d):b.call(null,c,d);if(Nc(c))return B(c)}else return c;else return b.D?b.D():b.call(null)}function Ed(a,b,c){for(a=kc(a);;)if(a.fa()){var d=a.next();c=b.m?b.m(c,d):b.call(null,c,d);if(Nc(c))return B(c)}else return c}
function Ua(a){switch(arguments.length){case 2:return Fd(arguments[0],arguments[1]);case 3:return Ta(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function Fd(a,b){return null!=b&&(b.B&524288||r===b.Hd)?b.ka(null,a):Ka(b)?Rc(b,a):"string"===typeof b?Rc(b,a):x(Fb,b)?Gb(b,a):Ac(b)?Dd(b,a):Bd(a,b)}
function Ta(a,b,c){return null!=c&&(c.B&524288||r===c.Hd)?c.la(null,a,b):Ka(c)?Sc(c,a,b):"string"===typeof c?Sc(c,a,b):x(Fb,c)?Gb(c,a,b):Ac(c)?Ed(c,a,b):Cd(a,b,c)}function Gd(a,b,c){return null!=c?Kb(c,a,b):b}function Hd(a){return a}function Id(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ta(a,c,d);return a.j?a.j(c):a.call(null,c)}
var Jd=function Jd(a){switch(arguments.length){case 1:return Jd.j(arguments[0]);case 2:return Jd.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Jd.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};Jd.j=function(a){return a};Jd.m=function(a,b){return a>b?a:b};Jd.A=function(a,b,c){return Ta(Jd,a>b?a:b,c)};Jd.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};Jd.J=2;
function Kd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function Ld(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var z=function z(a){switch(arguments.length){case 0:return z.D();case 1:return z.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return z.A(arguments[0],new K(c.slice(1),0,null))}};z.D=function(){return""};z.j=function(a){return null==a?"":[a].join("")};
z.A=function(a,b){for(a=new ya(z.j(a));;)if(v(b))a=a.append(z.j(M(b))),b=N(b);else return a.toString()};z.K=function(a){var b=M(a);a=N(a);return this.A(b,a)};z.J=1;function Zc(a,b){if(qd(b))if(Uc(a)&&Uc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.m(M(a),M(b)))a=N(a),b=N(b);else{a=!1;break a}}else a=null;return xd(a)}function cd(a,b,c,d,e){this.meta=a;this.first=b;this.ab=c;this.count=d;this.G=e;this.B=65937646;this.N=8192}h=cd.prototype;
h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){return 1===this.count?null:this.ab};h.aa=function(){return this.count};h.nb=function(){return this.first};h.ob=function(){return this.ja(null)};
h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Eb(Dc,this.meta)};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return this.first};h.ja=function(){return 1===this.count?Dc:this.ab};h.$=function(){return this};h.U=function(a,b){return b===this.meta?this:new cd(b,this.first,this.ab,this.count,this.G)};h.ea=function(a,b){return new cd(this.meta,b,this,this.count+1,null)};
cd.prototype[Pa]=function(){return Fc(this)};function Md(a){this.meta=a;this.B=65937614;this.N=8192}h=Md.prototype;h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){return null};h.aa=function(){return 0};h.nb=function(){return null};h.ob=function(){throw Error("Can't pop empty list");};h.Y=function(){return Ic};
h.X=function(a,b){return(null!=b?b.B&33554432||r===b.ze||(b.B?0:x(Qb,b)):x(Qb,b))||qd(b)?null==J(b):!1};h.ba=function(){return this};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return null};h.ja=function(){return Dc};h.$=function(){return null};h.U=function(a,b){return b===this.meta?this:new Md(b)};h.ea=function(a,b){return new cd(this.meta,b,null,1,null)};var Dc=new Md(null);Md.prototype[Pa]=function(){return Fc(this)};
function Nd(a,b,c,d){this.meta=a;this.first=b;this.ab=c;this.G=d;this.B=65929452;this.N=8192}h=Nd.prototype;h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){return null==this.ab?null:J(this.ab)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};
h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return this.first};h.ja=function(){return null==this.ab?Dc:this.ab};h.$=function(){return this};h.U=function(a,b){return b===this.meta?this:new Nd(b,this.first,this.ab,this.G)};h.ea=function(a,b){return new Nd(null,b,this,null)};Nd.prototype[Pa]=function(){return Fc(this)};
function $c(a,b){return null==b?new cd(null,a,null,1,null):null!=b&&(b.B&64||r===b.yb)?new Nd(null,a,b,null):new Nd(null,a,J(b),null)}function I(a,b,c,d){this.Fb=a;this.name=b;this.va=c;this.vb=d;this.B=2153775105;this.N=4096}h=I.prototype;h.toString=function(){return[":",z.j(this.va)].join("")};h.X=function(a,b){return b instanceof I?this.va===b.va:!1};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return G.m(a,this)};h.m=function(a,b){return G.o(a,this,b)};h.Y=function(){var a=this.vb;return null!=a?a:this.vb=a=xc(rc(this.name),vc(this.Fb))+2654435769|0};h.Lb=function(){return this.name};h.Mb=function(){return this.Fb};
h.V=function(a,b){return Sb(b,[":",z.j(this.va)].join(""))};function Od(a){if(null!=a&&(a.N&4096||r===a.ad))return a.Mb(null);throw Error(["Doesn't support namespace: ",z.j(a)].join(""));}var Pd=function Pd(a){switch(arguments.length){case 1:return Pd.j(arguments[0]);case 2:return Pd.m(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};
Pd.j=function(a){if(a instanceof I)return a;if(a instanceof yc)return new I(Od(a),Qd.j?Qd.j(a):Qd.call(null,a),a.ib,null);if(P.m("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
Pd.m=function(a,b){a=a instanceof I?Qd.j?Qd.j(a):Qd.call(null,a):a instanceof yc?Qd.j?Qd.j(a):Qd.call(null,a):a;b=b instanceof I?Qd.j?Qd.j(b):Qd.call(null,b):b instanceof yc?Qd.j?Qd.j(b):Qd.call(null,b):b;return new I(a,b,[v(a)?[z.j(a),"/"].join(""):null,z.j(b)].join(""),null)};Pd.J=2;function Rd(a,b,c){this.meta=a;this.Qb=b;this.s=null;this.G=c;this.B=32374988;this.N=1}h=Rd.prototype;h.toString=function(){return mc(this)};
function Sd(a){null!=a.Qb&&(a.s=a.Qb.D?a.Qb.D():a.Qb.call(null),a.Qb=null);return a.s}h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){this.$(null);return null==this.s?null:N(this.s)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};
h.ba=function(){return Eb(Dc,this.meta)};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){this.$(null);return null==this.s?null:M(this.s)};h.ja=function(){this.$(null);return null!=this.s?Cc(this.s):Dc};h.$=function(){Sd(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Rd)a=Sd(a);else return this.s=a,J(this.s)};h.U=function(a,b){var c=this;return b===this.meta?c:new Rd(b,function(){return c.$(null)},this.G)};
h.ea=function(a,b){return $c(b,this)};Rd.prototype[Pa]=function(){return Fc(this)};function Td(a){this.tc=a;this.end=0;this.B=2;this.N=0}Td.prototype.add=function(a){this.tc[this.end]=a;return this.end+=1};Td.prototype.da=function(){var a=new Ud(this.tc,0,this.end);this.tc=null;return a};Td.prototype.aa=function(){return this.end};function Ud(a,b,c){this.u=a;this.oa=b;this.end=c;this.B=524306;this.N=0}h=Ud.prototype;h.aa=function(){return this.end-this.oa};
h.O=function(a,b){return this.u[this.oa+b]};h.qa=function(a,b,c){return 0<=b&&b<this.end-this.oa?this.u[this.oa+b]:c};h.yc=function(){if(this.oa===this.end)throw Error("-drop-first of empty chunk");return new Ud(this.u,this.oa+1,this.end)};h.ka=function(a,b){return Tc(this.u,b,this.u[this.oa],this.oa+1)};h.la=function(a,b,c){return Tc(this.u,b,c,this.oa)};function Vd(a,b,c,d){this.da=a;this.Qa=b;this.meta=c;this.G=d;this.B=31850732;this.N=1536}h=Vd.prototype;h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){return 1<Ya(this.da)?new Vd(cc(this.da),this.Qa,null,null):null==this.Qa?null:Ob(this.Qa)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};
h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ha=function(){return db(this.da,0)};h.ja=function(){return 1<Ya(this.da)?new Vd(cc(this.da),this.Qa,null,null):null==this.Qa?Dc:this.Qa};h.$=function(){return this};h.Jb=function(){return this.da};h.bb=function(){return null==this.Qa?Dc:this.Qa};h.U=function(a,b){return b===this.meta?this:new Vd(this.da,this.Qa,b,this.G)};h.ea=function(a,b){return $c(b,this)};h.cc=function(){return null==this.Qa?null:this.Qa};Vd.prototype[Pa]=function(){return Fc(this)};
function Wd(a,b){return 0===Ya(a)?b:new Vd(a,b,null,null)}function Xd(a,b){a.add(b)}function Yd(a,b){if(Uc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=N(b);else return c}
var Zd=function Zd(a){if(null==a)return null;var c=N(a);return null==c?J(M(a)):$c(M(a),Zd.j?Zd.j(c):Zd.call(null,c))},$d=function $d(a){switch(arguments.length){case 0:return $d.D();case 1:return $d.j(arguments[0]);case 2:return $d.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return $d.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};$d.D=function(){return new Rd(null,function(){return null},null)};
$d.j=function(a){return new Rd(null,function(){return a},null)};$d.m=function(a,b){return new Rd(null,function(){var c=J(a);return c?ud(c)?Wd(D(c),$d.m(E(c),b)):$c(M(c),$d.m(Cc(c),b)):b},null)};$d.A=function(a,b,c){return function g(e,f){return new Rd(null,function(){var k=J(e);return k?ud(k)?Wd(D(k),g(E(k),f)):$c(M(k),g(Cc(k),f)):v(f)?g(M(f),N(f)):null},null)}($d.m(a,b),c)};$d.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};$d.J=2;
var ae=function ae(a){switch(arguments.length){case 0:return ae.D();case 1:return ae.j(arguments[0]);case 2:return ae.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ae.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};ae.D=function(){return Yb(bd)};ae.j=function(a){return a};ae.m=function(a,b){return Zb(a,b)};ae.A=function(a,b,c){for(;;)if(a=Zb(a,b),v(c))b=M(c),c=N(c);else return a};
ae.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};ae.J=2;var be=function be(a){switch(arguments.length){case 3:return be.o(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return be.A(arguments[0],arguments[1],arguments[2],new K(c.slice(3),0,null))}};be.o=function(a,b,c){return ac(a,b,c)};be.A=function(a,b,c,d){for(;;)if(a=ac(a,b,c),v(d))b=M(d),c=M(N(d)),d=N(N(d));else return a};
be.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);d=N(d);return this.A(b,a,c,d)};be.J=3;
function ce(a,b,c){var d=J(c);if(0===b)return a.D?a.D():a.call(null);c=gb(d);var e=hb(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=gb(e);var f=hb(e);if(2===b)return a.m?a.m(c,d):a.call(null,c,d);e=gb(f);var g=hb(f);if(3===b)return a.o?a.o(c,d,e):a.call(null,c,d,e);f=gb(g);var k=hb(g);if(4===b)return a.F?a.F(c,d,e,f):a.call(null,c,d,e,f);g=gb(k);var l=hb(k);if(5===b)return a.M?a.M(c,d,e,f,g):a.call(null,c,d,e,f,g);k=gb(l);var m=hb(l);if(6===b)return a.ia?a.ia(c,d,e,f,g,k):a.call(null,c,d,e,f,g,k);
l=gb(m);var n=hb(m);if(7===b)return a.Ja?a.Ja(c,d,e,f,g,k,l):a.call(null,c,d,e,f,g,k,l);m=gb(n);var p=hb(n);if(8===b)return a.ta?a.ta(c,d,e,f,g,k,l,m):a.call(null,c,d,e,f,g,k,l,m);n=gb(p);var t=hb(p);if(9===b)return a.Ka?a.Ka(c,d,e,f,g,k,l,m,n):a.call(null,c,d,e,f,g,k,l,m,n);p=gb(t);var w=hb(t);if(10===b)return a.ya?a.ya(c,d,e,f,g,k,l,m,n,p):a.call(null,c,d,e,f,g,k,l,m,n,p);t=gb(w);var A=hb(w);if(11===b)return a.za?a.za(c,d,e,f,g,k,l,m,n,p,t):a.call(null,c,d,e,f,g,k,l,m,n,p,t);w=gb(A);var C=hb(A);
if(12===b)return a.Aa?a.Aa(c,d,e,f,g,k,l,m,n,p,t,w):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w);A=gb(C);var F=hb(C);if(13===b)return a.Ba?a.Ba(c,d,e,f,g,k,l,m,n,p,t,w,A):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A);C=gb(F);var H=hb(F);if(14===b)return a.Ca?a.Ca(c,d,e,f,g,k,l,m,n,p,t,w,A,C):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A,C);F=gb(H);var O=hb(H);if(15===b)return a.Da?a.Da(c,d,e,f,g,k,l,m,n,p,t,w,A,C,F):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F);H=gb(O);var V=hb(O);if(16===b)return a.Ea?a.Ea(c,d,e,f,g,k,l,
m,n,p,t,w,A,C,F,H):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H);O=gb(V);var ka=hb(V);if(17===b)return a.Fa?a.Fa(c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O);V=gb(ka);var la=hb(ka);if(18===b)return a.Ga?a.Ga(c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V);ka=gb(la);la=hb(la);if(19===b)return a.Ha?a.Ha(c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka);var Hb=gb(la);hb(la);if(20===b)return a.Ia?
a.Ia(c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka,Hb):a.call(null,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka,Hb);throw Error("Only up to 20 arguments supported on functions");}function de(a){return null!=a&&(a.B&128||r===a.Nb)?a.ga():J(Cc(a))}function ee(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):fe(a,b,gb(c),de(c))}function fe(a,b,c,d){return null==d?a.m?a.m(b,c):a.call(a,b,c):ge(a,b,c,gb(d),de(d))}function ge(a,b,c,d,e){return null==e?a.o?a.o(b,c,d):a.call(a,b,c,d):he(a,b,c,d,gb(e),de(e))}
function he(a,b,c,d,e,f){if(null==f)return a.F?a.F(b,c,d,e):a.call(a,b,c,d,e);var g=gb(f),k=N(f);if(null==k)return a.M?a.M(b,c,d,e,g):a.call(a,b,c,d,e,g);f=gb(k);var l=N(k);if(null==l)return a.ia?a.ia(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);k=gb(l);var m=N(l);if(null==m)return a.Ja?a.Ja(b,c,d,e,g,f,k):a.call(a,b,c,d,e,g,f,k);l=gb(m);var n=N(m);if(null==n)return a.ta?a.ta(b,c,d,e,g,f,k,l):a.call(a,b,c,d,e,g,f,k,l);m=gb(n);var p=N(n);if(null==p)return a.Ka?a.Ka(b,c,d,e,g,f,k,l,m):a.call(a,b,c,d,e,g,f,k,
l,m);n=gb(p);var t=N(p);if(null==t)return a.ya?a.ya(b,c,d,e,g,f,k,l,m,n):a.call(a,b,c,d,e,g,f,k,l,m,n);p=gb(t);var w=N(t);if(null==w)return a.za?a.za(b,c,d,e,g,f,k,l,m,n,p):a.call(a,b,c,d,e,g,f,k,l,m,n,p);t=gb(w);var A=N(w);if(null==A)return a.Aa?a.Aa(b,c,d,e,g,f,k,l,m,n,p,t):a.call(a,b,c,d,e,g,f,k,l,m,n,p,t);w=gb(A);var C=N(A);if(null==C)return a.Ba?a.Ba(b,c,d,e,g,f,k,l,m,n,p,t,w):a.call(a,b,c,d,e,g,f,k,l,m,n,p,t,w);A=gb(C);var F=N(C);if(null==F)return a.Ca?a.Ca(b,c,d,e,g,f,k,l,m,n,p,t,w,A):a.call(a,
b,c,d,e,g,f,k,l,m,n,p,t,w,A);C=gb(F);var H=N(F);if(null==H)return a.Da?a.Da(b,c,d,e,g,f,k,l,m,n,p,t,w,A,C):a.call(a,b,c,d,e,g,f,k,l,m,n,p,t,w,A,C);F=gb(H);var O=N(H);if(null==O)return a.Ea?a.Ea(b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F):a.call(a,b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F);H=gb(O);var V=N(O);if(null==V)return a.Fa?a.Fa(b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H):a.call(a,b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H);O=gb(V);var ka=N(V);if(null==ka)return a.Ga?a.Ga(b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H,O):a.call(a,b,c,d,e,g,f,
k,l,m,n,p,t,w,A,C,F,H,O);V=gb(ka);var la=N(ka);if(null==la)return a.Ha?a.Ha(b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H,O,V):a.call(a,b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H,O,V);ka=gb(la);la=N(la);if(null==la)return a.Ia?a.Ia(b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H,O,V,ka):a.call(a,b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H,O,V,ka);b=[b,c,d,e,g,f,k,l,m,n,p,t,w,A,C,F,H,O,V,ka];for(c=la;;)if(c)b.push(gb(c)),c=N(c);else break;return a.apply(a,b)}
function id(a){switch(arguments.length){case 2:return ie(arguments[0],arguments[1]);case 3:return je(arguments[0],arguments[1],arguments[2]);case 4:return ke(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return le(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return me(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],new K(b.slice(5),0,null))}}
function ie(a,b){if(a.K){var c=a.J,d=Yd(c+1,b);return d<=c?ce(a,d,b):a.K(b)}b=J(b);return null==b?a.D?a.D():a.call(a):ee(a,gb(b),de(b))}function je(a,b,c){if(a.K){b=$c(b,c);var d=a.J;c=Yd(d,c)+1;return c<=d?ce(a,c,b):a.K(b)}return ee(a,b,J(c))}function ke(a,b,c,d){return a.K?(b=$c(b,$c(c,d)),c=a.J,d=2+Yd(c-1,d),d<=c?ce(a,d,b):a.K(b)):fe(a,b,c,J(d))}function le(a,b,c,d,e){return a.K?(b=$c(b,$c(c,$c(d,e))),c=a.J,e=3+Yd(c-2,e),e<=c?ce(a,e,b):a.K(b)):ge(a,b,c,d,J(e))}
function me(a,b,c,d,e,f){return a.K?(f=Zd(f),b=$c(b,$c(c,$c(d,$c(e,f)))),c=a.J,f=4+Yd(c-3,f),f<=c?ce(a,f,b):a.K(b)):he(a,b,c,d,e,Zd(f))}function ne(a){return null!=a&&(a.B&64||r===a.yb)?ie(oe,a):a}function qe(a){return J(a)?a:null}
function re(){if("undefined"===typeof za||"undefined"===typeof Aa||"undefined"===typeof Ba)Ba=function(a){this.Wd=a;this.B=393216;this.N=0},Ba.prototype.U=function(a,b){return new Ba(b)},Ba.prototype.S=function(){return this.Wd},Ba.prototype.fa=function(){return!1},Ba.prototype.next=function(){return Error("No such element")},Ba.prototype.remove=function(){return Error("Unsupported operation")},Ba.Wa=!0,Ba.Ma="cljs.core/t_cljs$core18829",Ba.eb=function(a){return Sb(a,"cljs.core/t_cljs$core18829")};
return new Ba(X)}var se={},te={};function ue(a){this.Ib=se;this.kb=a}ue.prototype.fa=function(){this.Ib===se?(this.Ib=te,this.kb=J(this.kb)):this.Ib===this.kb&&(this.kb=N(this.Ib));return null!=this.kb};ue.prototype.next=function(){if(this.fa())return this.Ib=this.kb,M(this.kb);throw Error("No such element");};ue.prototype.remove=function(){return Error("Unsupported operation")};function ve(a,b){for(;;){if(null==J(b))return!0;var c=M(b);c=a.j?a.j(c):a.call(null,c);if(v(c))b=N(b);else return!1}}
function we(a,b){for(;;)if(b=J(b)){var c=M(b);c=a.j?a.j(c):a.call(null,c);if(v(c))return c;b=N(b)}else return null}
function xe(a){return function(){function b(g,k){return La(a.m?a.m(g,k):a.call(null,g,k))}function c(g){return La(a.j?a.j(g):a.call(null,g))}function d(){return La(a.D?a.D():a.call(null))}var e=null,f=function(){function g(l,m,n){var p=null;if(2<arguments.length){p=0;for(var t=Array(arguments.length-2);p<t.length;)t[p]=arguments[p+2],++p;p=new K(t,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return La(ke(a,l,m,n))}g.J=2;g.K=function(l){var m=M(l);l=N(l);var n=M(l);l=Cc(l);return k(m,n,l)};
g.A=k;return g}();e=function(g,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,g);case 2:return b.call(this,g,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new K(n,0,null)}return f.A(g,k,m)}throw Error("Invalid arity: "+arguments.length);};e.J=2;e.K=f.K;e.D=d;e.j=c;e.m=b;e.A=f.A;return e}()}
var ye=function ye(a){switch(arguments.length){case 1:return ye.j(arguments[0]);case 2:return ye.m(arguments[0],arguments[1]);case 3:return ye.o(arguments[0],arguments[1],arguments[2]);case 4:return ye.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ye.A(arguments[0],arguments[1],arguments[2],arguments[3],new K(c.slice(4),0,null))}};ye.j=function(a){return a};
ye.m=function(a,b){return function(){function c(l,m,n){return a.F?a.F(b,l,m,n):a.call(null,b,l,m,n)}function d(l,m){return a.o?a.o(b,l,m):a.call(null,b,l,m)}function e(l){return a.m?a.m(b,l):a.call(null,b,l)}function f(){return a.j?a.j(b):a.call(null,b)}var g=null,k=function(){function l(n,p,t,w){var A=null;if(3<arguments.length){A=0;for(var C=Array(arguments.length-3);A<C.length;)C[A]=arguments[A+3],++A;A=new K(C,0,null)}return m.call(this,n,p,t,A)}function m(n,p,t,w){return me(a,b,n,p,t,T([w]))}
l.J=3;l.K=function(n){var p=M(n);n=N(n);var t=M(n);n=N(n);var w=M(n);n=Cc(n);return m(p,t,w,n)};l.A=m;return l}();g=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var t=null;if(3<arguments.length){t=0;for(var w=Array(arguments.length-3);t<w.length;)w[t]=arguments[t+3],++t;t=new K(w,0,null)}return k.A(l,m,n,t)}throw Error("Invalid arity: "+arguments.length);};g.J=3;g.K=k.K;g.D=
f;g.j=e;g.m=d;g.o=c;g.A=k.A;return g}()};
ye.o=function(a,b,c){return function(){function d(m,n,p){return a.M?a.M(b,c,m,n,p):a.call(null,b,c,m,n,p)}function e(m,n){return a.F?a.F(b,c,m,n):a.call(null,b,c,m,n)}function f(m){return a.o?a.o(b,c,m):a.call(null,b,c,m)}function g(){return a.m?a.m(b,c):a.call(null,b,c)}var k=null,l=function(){function m(p,t,w,A){var C=null;if(3<arguments.length){C=0;for(var F=Array(arguments.length-3);C<F.length;)F[C]=arguments[C+3],++C;C=new K(F,0,null)}return n.call(this,p,t,w,C)}function n(p,t,w,A){return me(a,
b,c,p,t,T([w,A]))}m.J=3;m.K=function(p){var t=M(p);p=N(p);var w=M(p);p=N(p);var A=M(p);p=Cc(p);return n(t,w,A,p)};m.A=n;return m}();k=function(m,n,p,t){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m);case 2:return e.call(this,m,n);case 3:return d.call(this,m,n,p);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new K(A,0,null)}return l.A(m,n,p,w)}throw Error("Invalid arity: "+arguments.length);
};k.J=3;k.K=l.K;k.D=g;k.j=f;k.m=e;k.o=d;k.A=l.A;return k}()};
ye.F=function(a,b,c,d){return function(){function e(n,p,t){return a.ia?a.ia(b,c,d,n,p,t):a.call(null,b,c,d,n,p,t)}function f(n,p){return a.M?a.M(b,c,d,n,p):a.call(null,b,c,d,n,p)}function g(n){return a.F?a.F(b,c,d,n):a.call(null,b,c,d,n)}function k(){return a.o?a.o(b,c,d):a.call(null,b,c,d)}var l=null,m=function(){function n(t,w,A,C){var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+3],++F;F=new K(H,0,null)}return p.call(this,t,w,A,F)}function p(t,
w,A,C){return me(a,b,c,d,t,T([w,A,C]))}n.J=3;n.K=function(t){var w=M(t);t=N(t);var A=M(t);t=N(t);var C=M(t);t=Cc(t);return p(w,A,C,t)};n.A=p;return n}();l=function(n,p,t,w){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,n);case 2:return f.call(this,n,p);case 3:return e.call(this,n,p,t);default:var A=null;if(3<arguments.length){A=0;for(var C=Array(arguments.length-3);A<C.length;)C[A]=arguments[A+3],++A;A=new K(C,0,null)}return m.A(n,p,t,A)}throw Error("Invalid arity: "+
arguments.length);};l.J=3;l.K=m.K;l.D=k;l.j=g;l.m=f;l.o=e;l.A=m.A;return l}()};ye.A=function(a,b,c,d,e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new K(m,0,null)}return g.call(this,l)}function g(k){return le(a,b,c,d,$d.m(e,k))}f.J=0;f.K=function(k){k=J(k);return g(k)};f.A=g;return f}()};ye.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);var e=N(d);d=M(e);e=N(e);return this.A(b,a,c,d,e)};
ye.J=4;
function ze(){var a=Ae,b=Be;return function(){function c(k,l,m){k=null==k?b:k;return a.o?a.o(k,l,m):a.call(null,k,l,m)}function d(k,l){k=null==k?b:k;return a.m?a.m(k,l):a.call(null,k,l)}function e(k){k=null==k?b:k;return a.j?a.j(k):a.call(null,k)}var f=null,g=function(){function k(m,n,p,t){var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new K(A,0,null)}return l.call(this,m,n,p,w)}function l(m,n,p,t){return le(a,null==m?b:m,n,p,t)}k.J=
3;k.K=function(m){var n=M(m);m=N(m);var p=M(m);m=N(m);var t=M(m);m=Cc(m);return l(n,p,t,m)};k.A=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var t=Array(arguments.length-3);p<t.length;)t[p]=arguments[p+3],++p;p=new K(t,0,null)}return g.A(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.J=3;f.K=g.K;f.j=e;f.m=d;f.o=c;f.A=g.A;return f}()}
function Ce(a,b){return function f(d,e){return new Rd(null,function(){var g=J(e);if(g){if(ud(g)){for(var k=D(g),l=R(k),m=new Td(Array(l)),n=0;;)if(n<l)Xd(m,function(){var p=d+n,t=db(k,n);return a.m?a.m(p,t):a.call(null,p,t)}()),n+=1;else break;return Wd(m.da(),f(d+l,E(g)))}return $c(function(){var p=M(g);return a.m?a.m(d,p):a.call(null,d,p)}(),f(d+1,Cc(g)))}return null},null)}(0,b)}
function De(a,b){return new Rd(null,function(){var c=J(b);if(c){if(ud(c)){for(var d=D(c),e=R(d),f=new Td(Array(e)),g=0;;)if(g<e){var k=function(){var l=db(d,g);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);g+=1}else break;return Wd(f.da(),De(a,E(c)))}e=function(){var l=M(c);return a.j?a.j(l):a.call(null,l)}();return null==e?De(a,Cc(c)):$c(e,De(a,Cc(c)))}return null},null)}function Fe(a){this.state=a;this.pa=this.Tc=this.meta=null;this.N=16386;this.B=6455296}h=Fe.prototype;
h.X=function(a,b){return this===b};h.cb=function(){return this.state};h.S=function(){return this.meta};h.Hc=function(a,b){for(var c=J(this.pa),d=null,e=0,f=0;;)if(f<e){var g=d.O(null,f),k=U(g,0,null);g=U(g,1,null);g.F?g.F(k,this,a,b):g.call(null,k,this,a,b);f+=1}else if(c=J(c))ud(c)?(d=D(c),c=E(c),k=d,e=R(d),d=k):(d=M(c),k=U(d,0,null),g=U(d,1,null),g.F?g.F(k,this,a,b):g.call(null,k,this,a,b),c=N(c),d=null,e=0),f=0;else break};h.dc=function(a,b,c){this.pa=W.o(this.pa,b,c);return this};
h.ec=function(a,b){return this.pa=fd.m(this.pa,b)};h.Y=function(){return da(this)};function Ge(a){return new Fe(a)}function He(a,b){if(a instanceof Fe){var c=a.Tc;if(null!=c&&!v(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.pa&&a.Hc(c,b);return b}return gc(a,b)}
var Ie=function Ie(a){switch(arguments.length){case 2:return Ie.m(arguments[0],arguments[1]);case 3:return Ie.o(arguments[0],arguments[1],arguments[2]);case 4:return Ie.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ie.A(arguments[0],arguments[1],arguments[2],arguments[3],new K(c.slice(4),0,null))}};
Ie.m=function(a,b){if(a instanceof Fe){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=He(a,b)}else a=hc(a,b);return a};Ie.o=function(a,b,c){if(a instanceof Fe){var d=a.state;b=b.m?b.m(d,c):b.call(null,d,c);a=He(a,b)}else a=hc(a,b,c);return a};Ie.F=function(a,b,c,d){if(a instanceof Fe){var e=a.state;b=b.o?b.o(e,c,d):b.call(null,e,c,d);a=He(a,b)}else a=hc(a,b,c,d);return a};Ie.A=function(a,b,c,d,e){return a instanceof Fe?He(a,le(b,a.state,c,d,e)):hc(a,b,c,d,e)};
Ie.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);var e=N(d);d=M(e);e=N(e);return this.A(b,a,c,d,e)};Ie.J=4;
var Je=function Je(a){switch(arguments.length){case 1:return Je.j(arguments[0]);case 2:return Je.m(arguments[0],arguments[1]);case 3:return Je.o(arguments[0],arguments[1],arguments[2]);case 4:return Je.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Je.A(arguments[0],arguments[1],arguments[2],arguments[3],new K(c.slice(4),0,null))}};
Je.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.m?b.m(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.D?b.D():b.call(null)}var f=null,g=function(){function k(m,n,p){var t=null;if(2<arguments.length){t=0;for(var w=Array(arguments.length-2);t<w.length;)w[t]=arguments[t+2],++t;t=new K(w,0,null)}return l.call(this,m,n,t)}function l(m,n,p){n=je(a,n,p);return b.m?b.m(m,n):b.call(null,m,n)}k.J=2;k.K=function(m){var n=
M(m);m=N(m);var p=M(m);m=Cc(m);return l(n,p,m)};k.A=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return g.A(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.J=2;f.K=g.K;f.D=e;f.j=d;f.m=c;f.A=g.A;return f}()}};
Je.m=function(a,b){return new Rd(null,function(){var c=J(b);if(c){if(ud(c)){for(var d=D(c),e=R(d),f=new Td(Array(e)),g=0;;)if(g<e)Xd(f,function(){var k=db(d,g);return a.j?a.j(k):a.call(null,k)}()),g+=1;else break;return Wd(f.da(),Je.m(a,E(c)))}return $c(function(){var k=M(c);return a.j?a.j(k):a.call(null,k)}(),Je.m(a,Cc(c)))}return null},null)};
Je.o=function(a,b,c){return new Rd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=M(d);var g=M(e);f=a.m?a.m(f,g):a.call(null,f,g);d=$c(f,Je.o(a,Cc(d),Cc(e)))}else d=null;return d},null)};Je.F=function(a,b,c,d){return new Rd(null,function(){var e=J(b),f=J(c),g=J(d);if(e&&f&&g){var k=M(e);var l=M(f),m=M(g);k=a.o?a.o(k,l,m):a.call(null,k,l,m);e=$c(k,Je.F(a,Cc(e),Cc(f),Cc(g)))}else e=null;return e},null)};
Je.A=function(a,b,c,d,e){return Je.m(function(f){return ie(a,f)},function k(g){return new Rd(null,function(){var l=Je.m(J,g);return ve(Hd,l)?$c(Je.m(M,l),k(Je.m(Cc,l))):null},null)}(ad.A(e,d,T([c,b]))))};Je.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);var e=N(d);d=M(e);e=N(e);return this.A(b,a,c,d,e)};Je.J=4;function Ke(a){return new Rd(null,function(){a:for(var b=2,c=a;;)if(c=J(c),0<b&&c)--b,c=Cc(c);else break a;return c},null)}
function Le(a){return Je.o(function(b){return b},a,Ke(a))}function Me(a,b,c,d){this.meta=a;this.count=b;this.P=c;this.next=d;this.G=null;this.B=32374988;this.N=1}h=Me.prototype;h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){return null==this.next?1<this.count?this.next=new Me(null,this.count-1,this.P,null):-1===this.count?this:null:this.next};
h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){if(-1===this.count)for(var c=b.m?b.m(this.P,this.P):b.call(null,this.P,this.P);;){if(Nc(c))return B(c);c=b.m?b.m(c,this.P):b.call(null,c,this.P)}else for(a=1,c=this.P;;)if(a<this.count){c=b.m?b.m(c,this.P):b.call(null,c,this.P);if(Nc(c))return B(c);a+=1}else return c};
h.la=function(a,b,c){if(-1===this.count)for(c=b.m?b.m(c,this.P):b.call(null,c,this.P);;){if(Nc(c))return B(c);c=b.m?b.m(c,this.P):b.call(null,c,this.P)}else for(a=0;;)if(a<this.count){c=b.m?b.m(c,this.P):b.call(null,c,this.P);if(Nc(c))return B(c);a+=1}else return c};h.ha=function(){return this.P};h.ja=function(){return null==this.next?1<this.count?this.next=new Me(null,this.count-1,this.P,null):-1===this.count?this:Dc:this.next};h.$=function(){return this};
h.U=function(a,b){return b===this.meta?this:new Me(b,this.count,this.P,this.next)};h.ea=function(a,b){return $c(b,this)};function Ne(a){return 0<a?new Me(null,a,null,null):Dc}
function Oe(a,b){return new Rd(null,function(){var c=J(b);if(c){if(ud(c)){for(var d=D(c),e=R(d),f=new Td(Array(e)),g=0;;)if(g<e){var k=db(d,g);k=a.j?a.j(k):a.call(null,k);v(k)&&(k=db(d,g),f.add(k));g+=1}else break;return Wd(f.da(),Oe(a,E(c)))}d=M(c);c=Cc(c);return v(a.j?a.j(d):a.call(null,d))?$c(d,Oe(a,c)):Oe(a,c)}return null},null)}function Pe(a,b){return Oe(xe(a),b)}
function Qe(a){return function d(c){return new Rd(null,function(){if(v(qd.j?qd.j(c):qd.call(null,c))){var e=T([J.j?J.j(c):J.call(null,c)]);e=ie($d,je(Je,d,e))}else e=null;return $c(c,e)},null)}(a)}function Re(a){return Oe(function(b){return!qd(b)},Cc(Qe(a)))}
var Ae=function Ae(a){switch(arguments.length){case 0:return Ae.D();case 1:return Ae.j(arguments[0]);case 2:return Ae.m(arguments[0],arguments[1]);case 3:return Ae.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Ae.D=function(){return bd};Ae.j=function(a){return a};Ae.m=function(a,b){return null!=a?null!=a&&(a.N&4||r===a.xd)?Eb($b(Ta(Zb,Yb(a),b)),kd(a)):Ta(bb,a,b):Ta(ad,a,b)};
Ae.o=function(a,b,c){return null!=a&&(a.N&4||r===a.xd)?Eb($b(Id(b,ae,Yb(a),c)),kd(a)):Id(b,ad,a,c)};Ae.J=3;
var Se=function Se(a,b,c){var e=J(b);b=M(e);var f=N(e);if(f){e=W.o;var g=G.m(a,b);c=Se.o?Se.o(g,f,c):Se.call(null,g,f,c);a=e.call(W,a,b,c)}else a=W.o(a,b,c);return a},Te=function Te(a){switch(arguments.length){case 3:return Te.o(arguments[0],arguments[1],arguments[2]);case 4:return Te.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Te.M(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Te.ia(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Te.A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new K(c.slice(6),0,null))}};Te.o=function(a,b,c){var d=J(b);b=M(d);if(d=N(d))a=W.o(a,b,Te.o(G.m(a,b),d,c));else{d=W.o;var e=G.m(a,b);c=c.j?c.j(e):c.call(null,e);a=d.call(W,a,b,c)}return a};
Te.F=function(a,b,c,d){var e=J(b);b=M(e);if(e=N(e))a=W.o(a,b,Te.F(G.m(a,b),e,c,d));else{e=W.o;var f=G.m(a,b);c=c.m?c.m(f,d):c.call(null,f,d);a=e.call(W,a,b,c)}return a};Te.M=function(a,b,c,d,e){var f=J(b);b=M(f);if(f=N(f))a=W.o(a,b,Te.M(G.m(a,b),f,c,d,e));else{f=W.o;var g=G.m(a,b);c=c.o?c.o(g,d,e):c.call(null,g,d,e);a=f.call(W,a,b,c)}return a};
Te.ia=function(a,b,c,d,e,f){var g=J(b);b=M(g);if(g=N(g))a=W.o(a,b,Te.ia(G.m(a,b),g,c,d,e,f));else{g=W.o;var k=G.m(a,b);c=c.F?c.F(k,d,e,f):c.call(null,k,d,e,f);a=g.call(W,a,b,c)}return a};Te.A=function(a,b,c,d,e,f,g){var k=J(b);b=M(k);return(k=N(k))?W.o(a,b,me(Te,G.m(a,b),k,c,d,T([e,f,g]))):W.o(a,b,me(c,G.m(a,b),d,e,f,T([g])))};Te.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);var e=N(d);d=M(e);var f=N(e);e=M(f);var g=N(f);f=M(g);g=N(g);return this.A(b,a,c,d,e,f,g)};Te.J=6;
var Ue=function Ue(a){switch(arguments.length){case 3:return Ue.o(arguments[0],arguments[1],arguments[2]);case 4:return Ue.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ue.M(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Ue.ia(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ue.A(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],new K(c.slice(6),0,null))}};Ue.o=function(a,b,c){var d=W.o,e=G.m(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)};Ue.F=function(a,b,c,d){var e=W.o,f=G.m(a,b);c=c.m?c.m(f,d):c.call(null,f,d);return e.call(W,a,b,c)};Ue.M=function(a,b,c,d,e){var f=W.o,g=G.m(a,b);c=c.o?c.o(g,d,e):c.call(null,g,d,e);return f.call(W,a,b,c)};Ue.ia=function(a,b,c,d,e,f){var g=W.o,k=G.m(a,b);c=c.F?c.F(k,d,e,f):c.call(null,k,d,e,f);return g.call(W,a,b,c)};
Ue.A=function(a,b,c,d,e,f,g){return W.o(a,b,me(c,G.m(a,b),d,e,f,T([g])))};Ue.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);var e=N(d);d=M(e);var f=N(e);e=M(f);var g=N(f);f=M(g);g=N(g);return this.A(b,a,c,d,e,f,g)};Ue.J=6;function Ve(a,b){this.W=a;this.u=b}function We(a){return new Ve(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function Xe(a){return new Ve(a.W,Ra(a.u))}function Ye(a){a=a.C;return 32>a?0:a-1>>>5<<5}function Ze(a,b,c){for(;;){if(0===b)return c;var d=We(a);d.u[0]=c;c=d;b-=5}}var $e=function $e(a,b,c,d){var f=Xe(c),g=a.C-1>>>b&31;5===b?f.u[g]=d:(c=c.u[g],null!=c?(b-=5,a=$e.F?$e.F(a,b,c,d):$e.call(null,a,b,c,d)):a=Ze(null,b-5,d),f.u[g]=a);return f};function af(a,b){throw Error(["No item ",z.j(a)," in vector of length ",z.j(b)].join(""));}
function bf(a,b){if(b>=Ye(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.u[b>>>a&31];a=d}else return c.u}function cf(a,b){return 0<=b&&b<a.C?bf(a,b):af(b,a.C)}
var df=function df(a,b,c,d,e){var g=Xe(c);if(0===b)g.u[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.u[k];a=df.M?df.M(a,b,c,d,e):df.call(null,a,b,c,d,e);g.u[k]=a}return g},ef=function ef(a,b,c){var e=a.C-2>>>b&31;if(5<b){b-=5;var f=c.u[e];a=ef.o?ef.o(a,b,f):ef.call(null,a,b,f);if(null==a&&0===e)return null;c=Xe(c);c.u[e]=a;return c}if(0===e)return null;c=Xe(c);c.u[e]=null;return c};function ff(a,b,c,d,e,f){this.i=a;this.base=b;this.u=c;this.v=d;this.start=e;this.end=f}
ff.prototype.fa=function(){return this.i<this.end};ff.prototype.next=function(){32===this.i-this.base&&(this.u=bf(this.v,this.i),this.base+=32);var a=this.u[this.i&31];this.i+=1;return a};function gf(a,b,c){return new ff(b,b-b%32,b<R(a)?bf(a,b):null,a,b,c)}function hf(a,b,c,d){return c<d?jf(a,b,Wc(a,c),c+1,d):b.D?b.D():b.call(null)}
function jf(a,b,c,d,e){var f=c;c=d;for(d=bf(a,d);;)if(c<e){var g=c&31;d=0===g?bf(a,c):d;g=d[g];f=b.m?b.m(f,g):b.call(null,f,g);if(Nc(f))return B(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.C=b;this.shift=c;this.root=d;this.tail=e;this.G=f;this.B=167666463;this.N=139268}h=Y.prototype;h.xb=function(a,b){return 0<=b&&b<this.C?new kf(b,bf(this,b)[b&31]):null};h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.ra=function(a,b){return this.Z(null,b,null)};h.Z=function(a,b,c){return"number"===typeof b?this.qa(null,b,c):c};
h.Kb=function(a,b,c){a=0;for(var d=c;;)if(a<this.C){var e=bf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,k=e[f];d=b.o?b.o(d,g,k):b.call(null,d,g,k);if(Nc(d)){e=d;break a}f+=1}else{e=d;break a}if(Nc(e))return B(e);a+=c;d=e}else return d};h.xc=r;h.O=function(a,b){return cf(this,b)[b&31]};h.qa=function(a,b,c){return 0<=b&&b<this.C?bf(this,b)[b&31]:c};
h.pb=function(a,b,c){if(0<=b&&b<this.C)return Ye(this)<=b?(a=Ra(this.tail),a[b&31]=c,new Y(this.meta,this.C,this.shift,this.root,a,null)):new Y(this.meta,this.C,this.shift,df(this,this.shift,this.root,b,c),this.tail,null);if(b===this.C)return this.ea(null,c);throw Error(["Index ",z.j(b)," out of bounds  [0,",z.j(this.C),"]"].join(""));};h.ua=function(){return gf(this,0,this.C)};h.S=function(){return this.meta};h.aa=function(){return this.C};h.nb=function(){return 0<this.C?this.O(null,this.C-1):null};
h.ob=function(){if(0===this.C)throw Error("Can't pop empty vector");if(1===this.C)return Eb(bd,this.meta);if(1<this.C-Ye(this))return new Y(this.meta,this.C-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=bf(this,this.C-2),b=ef(this,this.shift,this.root);b=null==b?Z:b;var c=this.C-1;return 5<this.shift&&null==b.u[1]?new Y(this.meta,c,this.shift-5,b.u[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};
h.X=function(a,b){if(b instanceof Y)if(this.C===R(b))for(a=this.ua(null),b=b.ua(null);;)if(a.fa()){var c=a.next(),d=b.next();if(!P.m(c,d))return!1}else return!0;else return!1;else return Zc(this,b)};h.wb=function(){return new lf(this.C,this.shift,mf.j?mf.j(this.root):mf.call(null,this.root),nf.j?nf.j(this.tail):nf.call(null,this.tail))};h.ba=function(){return Eb(bd,this.meta)};h.ka=function(a,b){return hf(this,b,0,this.C)};
h.la=function(a,b,c){a=0;for(var d=c;;)if(a<this.C){var e=bf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.m?b.m(d,g):b.call(null,d,g);if(Nc(d)){e=d;break a}f+=1}else{e=d;break a}if(Nc(e))return B(e);a+=c;d=e}else return d};h.Va=function(a,b,c){if("number"===typeof b)return this.pb(null,b,c);throw Error("Vector's key for assoc must be a number.");};h.mb=function(a,b){return zd(b)?0<=b&&b<this.C:!1};
h.$=function(){if(0===this.C)return null;if(32>=this.C)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.u[0];else{a=a.u;break a}}return of?of(this,a,0,0):pf.call(null,this,a,0,0)};h.U=function(a,b){return b===this.meta?this:new Y(b,this.C,this.shift,this.root,this.tail,this.G)};
h.ea=function(a,b){if(32>this.C-Ye(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.C+1,this.shift,this.root,c,null)}a=(c=this.C>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=We(null),c.u[0]=this.root,d=Ze(null,this.shift,new Ve(null,this.tail)),c.u[1]=d):c=$e(this,this.shift,this.root,new Ve(null,this.tail));return new Y(this.meta,this.C+1,a,c,[b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){if("number"===typeof a)return this.O(null,a);throw Error("Key must be integer");};
var Z=new Ve(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),bd=new Y(null,0,5,Z,[],Ic);function qf(a,b){var c=a.length;a=b?a:Ra(a);if(32>c)return new Y(null,c,5,Z,a,null);b=32;for(var d=(new Y(null,32,5,Z,a.slice(0,32),null)).wb(null);;)if(b<c){var e=b+1;d=ae.m(d,a[b]);b=e}else return $b(d)}Y.prototype[Pa]=function(){return Fc(this)};
function rf(a){return v(sf.j?sf.j(a):sf.call(null,a))?new Y(null,2,5,Z,[tf.j?tf.j(a):tf.call(null,a),uf.j?uf.j(a):uf.call(null,a)],null):td(a)?jd(a,null):Ka(a)?qf(a,!0):$b(Ta(Zb,Yb(bd),a))}var vf=function vf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return vf.A(0<c.length?new K(c.slice(0),0,null):null)};vf.A=function(a){return a instanceof K&&0===a.i?qf(a.u,!Ka(a.u)):rf(a)};vf.J=0;vf.K=function(a){return this.A(J(a))};
function wf(a,b,c,d,e){this.xa=a;this.node=b;this.i=c;this.oa=d;this.meta=e;this.G=null;this.B=32375020;this.N=1536}h=wf.prototype;h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){if(this.oa+1<this.node.length){var a=this.xa;var b=this.node,c=this.i,d=this.oa+1;a=of?of(a,b,c,d):pf.call(null,a,b,c,d);return null==a?null:a}return this.cc()};
h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return hf(this.xa,b,this.i+this.oa,R(this.xa))};h.la=function(a,b,c){return jf(this.xa,b,c,this.i+this.oa,R(this.xa))};h.ha=function(){return this.node[this.oa]};h.ja=function(){if(this.oa+1<this.node.length){var a=this.xa;var b=this.node,c=this.i,d=this.oa+1;a=of?of(a,b,c,d):pf.call(null,a,b,c,d);return null==a?Dc:a}return this.bb(null)};h.$=function(){return this};
h.Jb=function(){var a=this.node;return new Ud(a,this.oa,a.length)};h.bb=function(){var a=this.i+this.node.length;if(a<Ya(this.xa)){var b=this.xa,c=bf(this.xa,a);return of?of(b,c,a,0):pf.call(null,b,c,a,0)}return Dc};h.U=function(a,b){return b===this.meta?this:xf?xf(this.xa,this.node,this.i,this.oa,b):pf.call(null,this.xa,this.node,this.i,this.oa,b)};h.ea=function(a,b){return $c(b,this)};
h.cc=function(){var a=this.i+this.node.length;if(a<Ya(this.xa)){var b=this.xa,c=bf(this.xa,a);return of?of(b,c,a,0):pf.call(null,b,c,a,0)}return null};wf.prototype[Pa]=function(){return Fc(this)};
function pf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new wf(b,cf(b,c),c,d,null);case 4:return of(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return xf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function of(a,b,c,d){return new wf(a,b,c,d,null)}function xf(a,b,c,d,e){return new wf(a,b,c,d,e)}
function yf(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.G=e;this.B=167666463;this.N=139264}h=yf.prototype;h.xb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new kf(b,kb(this.v,a)):null};h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.ra=function(a,b){return this.Z(null,b,null)};h.Z=function(a,b,c){return"number"===typeof b?this.qa(null,b,c):c};
h.Kb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=db(this.v,a);c=b.o?b.o(c,e,f):b.call(null,c,e,f);if(Nc(c))return B(c);d+=1;a+=1}else return c};h.O=function(a,b){return 0>b||this.end<=this.start+b?af(b,this.end-this.start):db(this.v,this.start+b)};h.qa=function(a,b,c){return 0>b||this.end<=this.start+b?c:db(this.v,this.start+b,c)};
h.pb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",z.j(b)," out of bounds [0,",z.j(this.aa(null)),"]"].join(""));b=this.meta;c=W.o(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return zf.M?zf.M(b,c,d,a,null):zf.call(null,b,c,d,a,null)};h.ua=function(){return null!=this.v&&r===this.v.xc?gf(this.v,this.start,this.end):new ue(this)};h.S=function(){return this.meta};h.aa=function(){return this.end-this.start};
h.nb=function(){return this.start===this.end?null:db(this.v,this.end-1)};h.ob=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return zf.M?zf.M(a,b,c,d,null):zf.call(null,a,b,c,d,null)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Eb(bd,this.meta)};h.ka=function(a,b){return null!=this.v&&r===this.v.xc?hf(this.v,b,this.start,this.end):Pc(this,b)};
h.la=function(a,b,c){return null!=this.v&&r===this.v.xc?jf(this.v,b,c,this.start,this.end):Qc(this,b,c)};h.Va=function(a,b,c){if("number"===typeof b)return this.pb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};h.mb=function(a,b){return zd(b)?0<=b&&b<this.end-this.start:!1};h.$=function(){var a=this;return function d(c){return c===a.end?null:$c(db(a.v,c),new Rd(null,function(){return d(c+1)},null))}(a.start)};
h.U=function(a,b){return b===this.meta?this:zf.M?zf.M(b,this.v,this.start,this.end,this.G):zf.call(null,b,this.v,this.start,this.end,this.G)};h.ea=function(a,b){a=this.meta;b=Bb(this.v,this.end,b);var c=this.start,d=this.end+1;return zf.M?zf.M(a,b,c,d,null):zf.call(null,a,b,c,d,null)};h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};
h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return this.O(null,a)};h.m=function(a,b){return this.qa(null,a,b)};yf.prototype[Pa]=function(){return Fc(this)};function zf(a,b,c,d,e){for(;;)if(b instanceof yf)c=b.start+c,d=b.start+d,b=b.v;else{if(!td(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new yf(a,b,c,d,e)}}
var Af=function Af(a){switch(arguments.length){case 2:return Af.m(arguments[0],arguments[1]);case 3:return Af.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};Af.m=function(a,b){return Af.o(a,b,R(a))};Af.o=function(a,b,c){return zf(null,a,b|0,c|0,null)};Af.J=3;function Df(a,b){return a===b.W?b:new Ve(a,Ra(b.u))}function mf(a){return new Ve({},Ra(a.u))}
function nf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];vd(a,0,b,0,a.length);return b}var Ef=function Ef(a,b,c,d){c=Df(a.root.W,c);var f=a.C-1>>>b&31;if(5===b)a=d;else{var g=c.u[f];null!=g?(b-=5,a=Ef.F?Ef.F(a,b,g,d):Ef.call(null,a,b,g,d)):a=Ze(a.root.W,b-5,d)}c.u[f]=a;return c};function lf(a,b,c,d){this.C=a;this.shift=b;this.root=c;this.tail=d;this.N=88;this.B=275}h=lf.prototype;
h.Ab=function(a,b){if(this.root.W){if(32>this.C-Ye(this))this.tail[this.C&31]=b;else{a=new Ve(this.root.W,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.C>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Ze(this.root.W,this.shift,a),this.root=new Ve(this.root.W,b),this.shift=c):this.root=Ef(this,this.shift,this.root,a)}this.C+=1;return this}throw Error("conj! after persistent!");};h.Ob=function(){if(this.root.W){this.root.W=null;var a=this.C-Ye(this),b=Array(a);vd(this.tail,0,b,0,a);return new Y(null,this.C,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
h.zb=function(a,b,c){if("number"===typeof b)return Ff(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Ff(a,b,c){if(a.root.W){if(0<=b&&b<a.C){if(Ye(a)<=b)a.tail[b&31]=c;else{var d=function k(f,g){g=Df(a.root.W,g);if(0===f)g.u[b&31]=c;else{var l=b>>>f&31;f=k(f-5,g.u[l]);g.u[l]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.C)return a.Ab(null,c);throw Error(["Index ",z.j(b)," out of bounds for TransientVector of length",z.j(a.C)].join(""));}throw Error("assoc! after persistent!");}h.aa=function(){if(this.root.W)return this.C;throw Error("count after persistent!");};
h.O=function(a,b){if(this.root.W)return cf(this,b)[b&31];throw Error("nth after persistent!");};h.qa=function(a,b,c){return 0<=b&&b<this.C?this.O(null,b):c};h.ra=function(a,b){return this.Z(null,b,null)};h.Z=function(a,b,c){if(this.root.W)return"number"===typeof b?this.qa(null,b,c):c;throw Error("lookup after persistent!");};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return this.ra(null,a)};h.m=function(a,b){return this.Z(null,a,b)};function Gf(a,b){this.Cb=a;this.Yb=b}Gf.prototype.fa=function(){var a=null!=this.Cb&&J(this.Cb);return a?a:(a=null!=this.Yb)?this.Yb.fa():a};
Gf.prototype.next=function(){if(null!=this.Cb){var a=M(this.Cb);this.Cb=N(this.Cb);return a}if(null!=this.Yb&&this.Yb.fa())return this.Yb.next();throw Error("No such element");};Gf.prototype.remove=function(){return Error("Unsupported operation")};function Hf(a,b,c,d){this.meta=a;this.sa=b;this.wa=c;this.G=d;this.B=31850700;this.N=0}h=Hf.prototype;h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){var a=N(this.sa);return a?new Hf(this.meta,a,this.wa,null):null!=this.wa?new Hf(this.meta,this.wa,null,null):null};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};
h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Eb(Dc,this.meta)};h.ha=function(){return M(this.sa)};h.ja=function(){var a=N(this.sa);return a?new Hf(this.meta,a,this.wa,null):null==this.wa?this.ba(null):new Hf(this.meta,this.wa,null,null)};h.$=function(){return this};h.U=function(a,b){return b===this.meta?this:new Hf(b,this.sa,this.wa,this.G)};h.ea=function(a,b){return $c(b,this)};Hf.prototype[Pa]=function(){return Fc(this)};
function If(a,b,c,d,e){this.meta=a;this.count=b;this.sa=c;this.wa=d;this.G=e;this.N=139264;this.B=31858766}h=If.prototype;h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,this.count.j?this.count.j(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.ua=function(){return new Gf(this.sa,kc(this.wa))};h.S=function(){return this.meta};h.aa=function(){return this.count};h.nb=function(){return M(this.sa)};
h.ob=function(){if(v(this.sa)){var a=N(this.sa);return a?new If(this.meta,this.count-1,a,this.wa,null):new If(this.meta,this.count-1,J(this.wa),bd,null)}return this};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Eb(Jf,this.meta)};h.ha=function(){return M(this.sa)};h.ja=function(){return Cc(J(this))};h.$=function(){var a=J(this.wa),b=this.sa;return v(v(b)?b:a)?new Hf(null,this.sa,J(a),null):null};
h.U=function(a,b){return b===this.meta?this:new If(b,this.count,this.sa,this.wa,this.G)};h.ea=function(a,b){v(this.sa)?(a=this.wa,b=new If(this.meta,this.count+1,this.sa,ad.m(v(a)?a:bd,b),null)):b=new If(this.meta,this.count+1,ad.m(this.sa,b),bd,null);return b};var Jf=new If(null,0,null,bd,Ic);If.prototype[Pa]=function(){return Fc(this)};function Kf(){this.B=2097152;this.N=0}Kf.prototype.X=function(){return!1};var Lf=new Kf;
function Mf(a,b){return xd(rd(b)&&!sd(b)?R(a)===R(b)?(null!=a?a.B&1048576||r===a.ye||(a.B?0:x(Jb,a)):x(Jb,a))?Gd(function(c,d,e){return P.m(G.o(b,d,Lf),e)?!0:new Mc},!0,a):ve(function(c){return P.m(G.o(b,M(c),Lf),M(N(c)))},a):null:null)}function Nf(a){this.s=a}Nf.prototype.next=function(){if(null!=this.s){var a=M(this.s),b=U(a,0,null);a=U(a,1,null);this.s=N(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Of(a){this.s=a}
Of.prototype.next=function(){if(null!=this.s){var a=M(this.s);this.s=N(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Pf(a,b){if(b instanceof I)a:{var c=a.length;b=b.va;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].va){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof yc)a:for(c=a.length,b=b.ib,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof yc&&b===a[d].ib){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.m(b,a[d])){a=d;break a}d+=2}return a}function kf(a,b){this.key=a;this.P=b;this.G=null;this.B=166619935;this.N=0}h=kf.prototype;h.xb=function(a,b){switch(b){case 0:return new kf(0,this.key);case 1:return new kf(1,this.P);default:return null}};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.ra=function(a,b){return this.qa(null,b,null)};h.Z=function(a,b,c){return this.qa(null,b,c)};h.O=function(a,b){if(0===b)return this.key;if(1===b)return this.P;throw Error("Index out of bounds");};
h.qa=function(a,b,c){return 0===b?this.key:1===b?this.P:c};h.pb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.P],null)).pb(null,b,c)};h.S=function(){return null};h.aa=function(){return 2};h.Ed=function(){return this.key};h.Fd=function(){return this.P};h.nb=function(){return this.P};h.ob=function(){return new Y(null,1,5,Z,[this.key],null)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return null};
h.ka=function(a,b){return Pc(this,b)};h.la=function(a,b,c){return Qc(this,b,c)};h.Va=function(a,b,c){return W.o(new Y(null,2,5,Z,[this.key,this.P],null),b,c)};h.mb=function(a,b){return 0===b||1===b};h.$=function(){return new K([this.key,this.P],0,null)};h.U=function(a,b){return jd(new Y(null,2,5,Z,[this.key,this.P],null),b)};h.ea=function(a,b){return new Y(null,3,5,Z,[this.key,this.P,b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return this.O(null,a)};h.m=function(a,b){return this.qa(null,a,b)};function sf(a){return null!=a?a.B&2048||r===a.Ae?!0:!1:!1}function Qf(a,b,c){this.u=a;this.i=b;this.Sa=c;this.B=32374990;this.N=0}h=Qf.prototype;
h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.Sa};h.ga=function(){return this.i<this.u.length-2?new Qf(this.u,this.i+2,null):null};h.aa=function(){return(this.u.length-this.i)/2};h.Y=function(){return Hc(this)};
h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return new kf(this.u[this.i],this.u[this.i+1])};h.ja=function(){return this.i<this.u.length-2?new Qf(this.u,this.i+2,null):Dc};h.$=function(){return this};h.U=function(a,b){return b===this.Sa?this:new Qf(this.u,this.i,b)};h.ea=function(a,b){return $c(b,this)};Qf.prototype[Pa]=function(){return Fc(this)};
function Rf(a,b){this.u=a;this.i=0;this.C=b}Rf.prototype.fa=function(){return this.i<this.C};Rf.prototype.next=function(){var a=new kf(this.u[this.i],this.u[this.i+1]);this.i+=2;return a};function u(a,b,c,d){this.meta=a;this.C=b;this.u=c;this.G=d;this.B=16647951;this.N=139268}h=u.prototype;h.xb=function(a,b){a=Pf(this.u,b);return-1===a?null:new kf(this.u[a],this.u[a+1])};h.toString=function(){return mc(this)};h.keys=function(){return Fc(Sf.j?Sf.j(this):Sf.call(null,this))};h.entries=function(){return new Nf(J(J(this)))};
h.values=function(){return Fc(Tf.j?Tf.j(this):Tf.call(null,this))};h.has=function(a){return Ad(this,a)};h.get=function(a,b){return this.Z(null,a,b)};h.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),g=U(f,0,null);f=U(f,1,null);a.m?a.m(f,g):a.call(null,f,g);e+=1}else if(b=J(b))ud(b)?(c=D(b),b=E(b),g=c,d=R(c),c=g):(c=M(b),g=U(c,0,null),f=U(c,1,null),a.m?a.m(f,g):a.call(null,f,g),b=N(b),c=null,d=0),e=0;else return null};h.ra=function(a,b){return this.Z(null,b,null)};
h.Z=function(a,b,c){a=Pf(this.u,b);return-1===a?c:this.u[a+1]};h.Kb=function(a,b,c){a=this.u.length;for(var d=0;;)if(d<a){var e=this.u[d],f=this.u[d+1];c=b.o?b.o(c,e,f):b.call(null,c,e,f);if(Nc(c))return B(c);d+=2}else return c};h.ua=function(){return new Rf(this.u,2*this.C)};h.S=function(){return this.meta};h.aa=function(){return this.C};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Jc(this)};
h.X=function(a,b){if(rd(b)&&!sd(b))if(a=this.u.length,this.C===b.aa(null))for(var c=0;;)if(c<a){var d=b.Z(null,this.u[c],wd);if(d!==wd)if(P.m(this.u[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};h.wb=function(){return new Uf(this.u.length,Ra(this.u))};h.ba=function(){return Eb(X,this.meta)};h.ka=function(a,b){return Dd(this,b)};h.la=function(a,b,c){return Ed(this,b,c)};
h.Ac=function(a,b){if(0<=Pf(this.u,b)){a=this.u.length;var c=a-2;if(0===c)return this.ba(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new u(this.meta,this.C-1,c,null);P.m(b,this.u[d])?d+=2:(c[e]=this.u[d],c[e+1]=this.u[d+1],e+=2,d+=2)}}else return this};
h.Va=function(a,b,c){a=Pf(this.u,b);if(-1===a){if(this.C<Vf){a=this.u;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new u(this.meta,this.C+1,e,null)}return Eb(pb(Ae.m(Wf,this),b,c),this.meta)}if(c===this.u[a+1])return this;b=Ra(this.u);b[a+1]=c;return new u(this.meta,this.C,b,null)};h.mb=function(a,b){return-1!==Pf(this.u,b)};h.$=function(){var a=this.u;return 0<=a.length-2?new Qf(a,0,null):null};
h.U=function(a,b){return b===this.meta?this:new u(b,this.C,this.u,this.G)};h.ea=function(a,b){if(td(b))return this.Va(null,db(b,0),db(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=M(b);if(td(c))a=pb(a,db(c,0),db(c,1)),b=N(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return this.ra(null,a)};h.m=function(a,b){return this.Z(null,a,b)};var X=new u(null,0,[],Kc),Vf=8;
function ed(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Pf(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new u(null,b.length/2,b,null)}u.prototype[Pa]=function(){return Fc(this)};function Uf(a,b){this.qb={};this.Pa=a;this.u=b;this.B=259;this.N=56}h=Uf.prototype;h.aa=function(){if(this.qb)return Kd(this.Pa);throw Error("count after persistent!");};h.ra=function(a,b){return this.Z(null,b,null)};
h.Z=function(a,b,c){if(this.qb)return a=Pf(this.u,b),-1===a?c:this.u[a+1];throw Error("lookup after persistent!");};h.Ab=function(a,b){if(this.qb){if(sf(b))return this.zb(null,tf.j?tf.j(b):tf.call(null,b),uf.j?uf.j(b):uf.call(null,b));if(td(b))return this.zb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=M(a);if(v(c))a=N(a),b=ac(b,tf.j?tf.j(c):tf.call(null,c),uf.j?uf.j(c):uf.call(null,c));else return b}}else throw Error("conj! after persistent!");};
h.Ob=function(){if(this.qb)return this.qb=!1,new u(null,Kd(this.Pa),this.u,null);throw Error("persistent! called twice");};h.zb=function(a,b,c){if(this.qb){a=Pf(this.u,b);if(-1===a)return this.Pa+2<=2*Vf?(this.Pa+=2,this.u.push(b),this.u.push(c),this):be.o(Xf.m?Xf.m(this.Pa,this.u):Xf.call(null,this.Pa,this.u),b,c);c!==this.u[a+1]&&(this.u[a+1]=c);return this}throw Error("assoc! after persistent!");};
h.Gc=function(a,b){if(this.qb)return a=Pf(this.u,b),0<=a&&(this.u[a]=this.u[this.Pa-2],this.u[a+1]=this.u[this.Pa-1],a=this.u,a.pop(),a.pop(),this.Pa-=2),this;throw Error("dissoc! after persistent!");};h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};
h.j=function(a){return this.Z(null,a,null)};h.m=function(a,b){return this.Z(null,a,b)};function Xf(a,b){for(var c=Yb(Wf),d=0;;)if(d<a)c=be.o(c,b[d],b[d+1]),d+=2;else return c}function Yf(){this.P=!1}function Zf(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.va===b.va?!0:P.m(a,b)}function $f(a,b,c){a=Ra(a);a[b]=c;return a}function ag(a,b){var c=Array(a.length-2);vd(a,0,c,0,2*b);vd(a,2*(b+1),c,2*b,c.length-2*b);return c}function bg(a,b,c,d){a=a.Ya(b);a.u[c]=d;return a}
function cg(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.o?b.o(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.Wb(b,f):f;if(Nc(c))return c;e+=2;f=c}else return f}function dg(a){this.u=a;this.i=0;this.Ra=this.Xb=null}dg.prototype.advance=function(){for(var a=this.u.length;;)if(this.i<a){var b=this.u[this.i],c=this.u[this.i+1];null!=b?b=this.Xb=new kf(b,c):null!=c?(b=kc(c),b=b.fa()?this.Ra=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
dg.prototype.fa=function(){var a=null!=this.Xb;return a?a:(a=null!=this.Ra)?a:this.advance()};dg.prototype.next=function(){if(null!=this.Xb){var a=this.Xb;this.Xb=null;return a}if(null!=this.Ra)return a=this.Ra.next(),this.Ra.fa()||(this.Ra=null),a;if(this.advance())return this.next();throw Error("No such element");};dg.prototype.remove=function(){return Error("Unsupported operation")};function eg(a,b,c){this.W=a;this.T=b;this.u=c;this.N=131072;this.B=0}h=eg.prototype;
h.Ya=function(a){if(a===this.W)return this;var b=Ld(this.T),c=Array(0>b?4:2*(b+1));vd(this.u,0,c,0,2*b);return new eg(a,this.T,c)};h.Vb=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.T&f))return this;var g=Ld(this.T&f-1),k=this.u[2*g],l=this.u[2*g+1];return null==k?(b=l.Vb(a,b+5,c,d,e),b===l?this:null!=b?bg(this,a,2*g+1,b):this.T===f?null:fg(this,a,f,g)):Zf(d,k)?(e.P=!0,fg(this,a,f,g)):this};
function fg(a,b,c,d){if(a.T===c)return null;a=a.Ya(b);b=a.u;var e=b.length;a.T^=c;vd(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}h.Tb=function(){return gg?gg(this.u):hg.call(null,this.u)};h.Wb=function(a,b){return cg(this.u,a,b)};h.gb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.T&e))return d;var f=Ld(this.T&e-1);e=this.u[2*f];f=this.u[2*f+1];return null==e?f.gb(a+5,b,c,d):Zf(c,e)?f:d};
h.Oa=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=Ld(this.T&g-1);if(0===(this.T&g)){var l=Ld(this.T);if(2*l<this.u.length){a=this.Ya(a);b=a.u;f.P=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.T|=g;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=ig.Oa(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.T>>>d&1)?
d+=1:(k[d]=null!=this.u[e]?ig.Oa(a,b+5,wc(this.u[e]),this.u[e],this.u[e+1],f):this.u[e+1],e+=2,d+=1);else break;return new jg(a,l+1,k)}b=Array(2*(l+4));vd(this.u,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;vd(this.u,2*k,b,2*(k+1),2*(l-k));f.P=!0;a=this.Ya(a);a.u=b;a.T|=g;return a}l=this.u[2*k];g=this.u[2*k+1];if(null==l)return l=g.Oa(a,b+5,c,d,e,f),l===g?this:bg(this,a,2*k+1,l);if(Zf(d,l))return e===g?this:bg(this,a,2*k+1,e);f.P=!0;f=b+5;d=kg?kg(a,f,l,g,c,d,e):lg.call(null,a,f,l,g,c,d,e);e=2*k;k=2*k+1;a=this.Ya(a);
a.u[e]=null;a.u[k]=d;return a};
h.Na=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=Ld(this.T&f-1);if(0===(this.T&f)){var k=Ld(this.T);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=ig.Na(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.T>>>c&1)?c+=1:(g[c]=null!=this.u[d]?ig.Na(a+5,wc(this.u[d]),this.u[d],this.u[d+1],e):this.u[d+1],d+=2,c+=1);else break;return new jg(null,k+1,g)}a=Array(2*(k+1));vd(this.u,
0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;vd(this.u,2*g,a,2*(g+1),2*(k-g));e.P=!0;return new eg(null,this.T|f,a)}var l=this.u[2*g];f=this.u[2*g+1];if(null==l)return k=f.Na(a+5,b,c,d,e),k===f?this:new eg(null,this.T,$f(this.u,2*g+1,k));if(Zf(c,l))return d===f?this:new eg(null,this.T,$f(this.u,2*g+1,d));e.P=!0;e=this.T;k=this.u;a+=5;a=mg?mg(a,l,f,b,c,d):lg.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=Ra(k);d[c]=null;d[g]=a;return new eg(null,e,d)};
h.Sb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.T&e))return d;var f=Ld(this.T&e-1);e=this.u[2*f];f=this.u[2*f+1];return null==e?f.Sb(a+5,b,c,d):Zf(c,e)?new kf(e,f):d};h.Ub=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.T&d))return this;var e=Ld(this.T&d-1),f=this.u[2*e],g=this.u[2*e+1];return null==f?(a=g.Ub(a+5,b,c),a===g?this:null!=a?new eg(null,this.T,$f(this.u,2*e+1,a)):this.T===d?null:new eg(null,this.T^d,ag(this.u,e))):Zf(c,f)?new eg(null,this.T^d,ag(this.u,e)):this};h.ua=function(){return new dg(this.u)};
var ig=new eg(null,0,[]);function ng(a,b,c){var d=a.u,e=d.length;a=Array(2*(a.C-1));for(var f=0,g=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[g]=d[f],g+=2,k|=1<<f,f+=1):f+=1;else return new eg(b,k,a)}function og(a){this.u=a;this.i=0;this.Ra=null}og.prototype.fa=function(){for(var a=this.u.length;;){if(null!=this.Ra&&this.Ra.fa())return!0;if(this.i<a){var b=this.u[this.i];this.i+=1;null!=b&&(this.Ra=kc(b))}else return!1}};
og.prototype.next=function(){if(this.fa())return this.Ra.next();throw Error("No such element");};og.prototype.remove=function(){return Error("Unsupported operation")};function jg(a,b,c){this.W=a;this.C=b;this.u=c;this.N=131072;this.B=0}h=jg.prototype;h.Ya=function(a){return a===this.W?this:new jg(a,this.C,Ra(this.u))};
h.Vb=function(a,b,c,d,e){var f=c>>>b&31,g=this.u[f];if(null==g)return this;b=g.Vb(a,b+5,c,d,e);if(b===g)return this;if(null==b){if(8>=this.C)return ng(this,a,f);a=bg(this,a,f,b);--a.C;return a}return bg(this,a,f,b)};h.Tb=function(){return pg?pg(this.u):qg.call(null,this.u)};h.Wb=function(a,b){for(var c=this.u.length,d=0;;)if(d<c){var e=this.u[d];if(null!=e){b=e.Wb(a,b);if(Nc(b))return b;d+=1}else d+=1}else return b};h.gb=function(a,b,c,d){var e=this.u[b>>>a&31];return null!=e?e.gb(a+5,b,c,d):d};
h.Oa=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.u[g];if(null==k)return a=bg(this,a,g,ig.Oa(a,b+5,c,d,e,f)),a.C+=1,a;b=k.Oa(a,b+5,c,d,e,f);return b===k?this:bg(this,a,g,b)};h.Na=function(a,b,c,d,e){var f=b>>>a&31,g=this.u[f];if(null==g)return new jg(null,this.C+1,$f(this.u,f,ig.Na(a+5,b,c,d,e)));a=g.Na(a+5,b,c,d,e);return a===g?this:new jg(null,this.C,$f(this.u,f,a))};h.Sb=function(a,b,c,d){var e=this.u[b>>>a&31];return null!=e?e.Sb(a+5,b,c,d):d};
h.Ub=function(a,b,c){var d=b>>>a&31,e=this.u[d];return null!=e?(a=e.Ub(a+5,b,c),a===e?this:null==a?8>=this.C?ng(this,null,d):new jg(null,this.C-1,$f(this.u,d,a)):new jg(null,this.C,$f(this.u,d,a))):this};h.ua=function(){return new og(this.u)};function rg(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Zf(c,a[d]))return d;d+=2}else return-1}function sg(a,b,c,d){this.W=a;this.Xa=b;this.C=c;this.u=d;this.N=131072;this.B=0}h=sg.prototype;
h.Ya=function(a){if(a===this.W)return this;var b=Array(2*(this.C+1));vd(this.u,0,b,0,2*this.C);return new sg(a,this.Xa,this.C,b)};h.Vb=function(a,b,c,d,e){b=rg(this.u,this.C,d);if(-1===b)return this;e.P=!0;if(1===this.C)return null;a=this.Ya(a);e=a.u;e[b]=e[2*this.C-2];e[b+1]=e[2*this.C-1];e[2*this.C-1]=null;e[2*this.C-2]=null;--a.C;return a};h.Tb=function(){return gg?gg(this.u):hg.call(null,this.u)};h.Wb=function(a,b){return cg(this.u,a,b)};
h.gb=function(a,b,c,d){a=rg(this.u,this.C,c);return 0>a?d:Zf(c,this.u[a])?this.u[a+1]:d};
h.Oa=function(a,b,c,d,e,f){if(c===this.Xa){b=rg(this.u,this.C,d);if(-1===b){if(this.u.length>2*this.C)return b=2*this.C,c=2*this.C+1,a=this.Ya(a),a.u[b]=d,a.u[c]=e,f.P=!0,a.C+=1,a;c=this.u.length;b=Array(c+2);vd(this.u,0,b,0,c);b[c]=d;b[c+1]=e;f.P=!0;d=this.C+1;a===this.W?(this.u=b,this.C=d,a=this):a=new sg(this.W,this.Xa,d,b);return a}return this.u[b+1]===e?this:bg(this,a,b+1,e)}return(new eg(a,1<<(this.Xa>>>b&31),[null,this,null,null])).Oa(a,b,c,d,e,f)};
h.Na=function(a,b,c,d,e){return b===this.Xa?(a=rg(this.u,this.C,c),-1===a?(a=2*this.C,b=Array(a+2),vd(this.u,0,b,0,a),b[a]=c,b[a+1]=d,e.P=!0,new sg(null,this.Xa,this.C+1,b)):P.m(this.u[a+1],d)?this:new sg(null,this.Xa,this.C,$f(this.u,a+1,d))):(new eg(null,1<<(this.Xa>>>a&31),[null,this])).Na(a,b,c,d,e)};h.Sb=function(a,b,c,d){a=rg(this.u,this.C,c);return 0>a?d:Zf(c,this.u[a])?new kf(this.u[a],this.u[a+1]):d};
h.Ub=function(a,b,c){a=rg(this.u,this.C,c);return-1===a?this:1===this.C?null:new sg(null,this.Xa,this.C-1,ag(this.u,Kd(a)))};h.ua=function(){return new dg(this.u)};function lg(a){switch(arguments.length){case 6:return mg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return kg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}
function mg(a,b,c,d,e,f){var g=wc(b);if(g===d)return new sg(null,g,2,[b,c,e,f]);var k=new Yf;return ig.Na(a,g,b,c,k).Na(a,d,e,f,k)}function kg(a,b,c,d,e,f,g){var k=wc(c);if(k===e)return new sg(null,k,2,[c,d,f,g]);var l=new Yf;return ig.Oa(a,b,k,c,d,l).Oa(a,b,e,f,g,l)}function tg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.G=e;this.B=32374988;this.N=0}h=tg.prototype;h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return ug?ug(a,b,null):hg.call(null,a,b,null)}a=this.nodes;b=this.i;var c=N(this.s);return ug?ug(a,b,c):hg.call(null,a,b,c)};
h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return null==this.s?new kf(this.nodes[this.i],this.nodes[this.i+1]):M(this.s)};
h.ja=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return ug?ug(c,d,null):hg.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=N(a.s);return ug?ug(c,d,e):hg.call(null,c,d,e)}();return null!=b?b:Dc};h.$=function(){return this};h.U=function(a,b){return b===this.meta?this:new tg(b,this.nodes,this.i,this.s,this.G)};h.ea=function(a,b){return $c(b,this)};tg.prototype[Pa]=function(){return Fc(this)};
function hg(a){switch(arguments.length){case 1:return gg(arguments[0]);case 3:return ug(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function gg(a){return ug(a,0,null)}function ug(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new tg(null,a,b,null,null);var d=a[b+1];if(v(d)&&(d=d.Tb(),v(d)))return new tg(null,a,b+2,d,null);b+=2}else return null;else return new tg(null,a,b,c,null)}
function vg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.G=e;this.B=32374988;this.N=0}h=vg.prototype;h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.meta};h.ga=function(){var a=this.nodes,b=this.i,c=N(this.s);return wg?wg(a,b,c):qg.call(null,a,b,c)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};
h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return M(this.s)};h.ja=function(){var a=this.nodes;var b=this.i,c=N(this.s);a=wg?wg(a,b,c):qg.call(null,a,b,c);return null!=a?a:Dc};h.$=function(){return this};h.U=function(a,b){return b===this.meta?this:new vg(b,this.nodes,this.i,this.s,this.G)};h.ea=function(a,b){return $c(b,this)};vg.prototype[Pa]=function(){return Fc(this)};
function qg(a){switch(arguments.length){case 1:return pg(arguments[0]);case 3:return wg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}}function pg(a){return wg(a,0,null)}function wg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(v(d)&&(d=d.Tb(),v(d)))return new vg(null,a,b+1,d,null);b+=1}else return null;else return new vg(null,a,b,c,null)}function xg(a,b){this.na=a;this.rd=b;this.Qc=!1}
xg.prototype.fa=function(){return!this.Qc||this.rd.fa()};xg.prototype.next=function(){if(this.Qc)return this.rd.next();this.Qc=!0;return new kf(null,this.na)};xg.prototype.remove=function(){return Error("Unsupported operation")};function yg(a,b,c,d,e,f){this.meta=a;this.C=b;this.root=c;this.ma=d;this.na=e;this.G=f;this.B=16123663;this.N=139268}h=yg.prototype;h.xb=function(a,b){return null==b?this.ma?new kf(null,this.na):null:null==this.root?null:this.root.Sb(0,wc(b),b,null)};h.toString=function(){return mc(this)};
h.keys=function(){return Fc(Sf.j?Sf.j(this):Sf.call(null,this))};h.entries=function(){return new Nf(J(J(this)))};h.values=function(){return Fc(Tf.j?Tf.j(this):Tf.call(null,this))};h.has=function(a){return Ad(this,a)};h.get=function(a,b){return this.Z(null,a,b)};
h.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),g=U(f,0,null);f=U(f,1,null);a.m?a.m(f,g):a.call(null,f,g);e+=1}else if(b=J(b))ud(b)?(c=D(b),b=E(b),g=c,d=R(c),c=g):(c=M(b),g=U(c,0,null),f=U(c,1,null),a.m?a.m(f,g):a.call(null,f,g),b=N(b),c=null,d=0),e=0;else return null};h.ra=function(a,b){return this.Z(null,b,null)};h.Z=function(a,b,c){return null==b?this.ma?this.na:c:null==this.root?c:this.root.gb(0,wc(b),b,c)};
h.Kb=function(a,b,c){a=this.ma?b.o?b.o(c,null,this.na):b.call(null,c,null,this.na):c;Nc(a)?b=B(a):null!=this.root?(b=this.root.Wb(b,a),b=Nc(b)?Oc.j?Oc.j(b):Oc.call(null,b):b):b=a;return b};h.ua=function(){var a=this.root?kc(this.root):re();return this.ma?new xg(this.na,a):a};h.S=function(){return this.meta};h.aa=function(){return this.C};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Jc(this)};h.X=function(a,b){return Mf(this,b)};h.wb=function(){return new zg(this.root,this.C,this.ma,this.na)};
h.ba=function(){return Eb(Wf,this.meta)};h.Ac=function(a,b){if(null==b)return this.ma?new yg(this.meta,this.C-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Ub(0,wc(b),b);return a===this.root?this:new yg(this.meta,this.C-1,a,this.ma,this.na,null)};
h.Va=function(a,b,c){if(null==b)return this.ma&&c===this.na?this:new yg(this.meta,this.ma?this.C:this.C+1,this.root,!0,c,null);a=new Yf;b=(null==this.root?ig:this.root).Na(0,wc(b),b,c,a);return b===this.root?this:new yg(this.meta,a.P?this.C+1:this.C,b,this.ma,this.na,null)};h.mb=function(a,b){return null==b?this.ma:null==this.root?!1:this.root.gb(0,wc(b),b,wd)!==wd};h.$=function(){if(0<this.C){var a=null!=this.root?this.root.Tb():null;return this.ma?$c(new kf(null,this.na),a):a}return null};
h.U=function(a,b){return b===this.meta?this:new yg(b,this.C,this.root,this.ma,this.na,this.G)};h.ea=function(a,b){if(td(b))return this.Va(null,db(b,0),db(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=M(b);if(td(c))a=pb(a,db(c,0),db(c,1)),b=N(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return this.ra(null,a)};h.m=function(a,b){return this.Z(null,a,b)};var Wf=new yg(null,0,null,!1,null,Kc);yg.prototype[Pa]=function(){return Fc(this)};
function zg(a,b,c,d){this.W={};this.root=a;this.count=b;this.ma=c;this.na=d;this.B=259;this.N=56}function Ag(a,b,c){if(a.W){if(null==b)a.na!==c&&(a.na=c),a.ma||(a.count+=1,a.ma=!0);else{var d=new Yf;b=(null==a.root?ig:a.root).Oa(a.W,0,wc(b),b,c,d);b!==a.root&&(a.root=b);d.P&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}h=zg.prototype;h.aa=function(){if(this.W)return this.count;throw Error("count after persistent!");};
h.ra=function(a,b){return null==b?this.ma?this.na:null:null==this.root?null:this.root.gb(0,wc(b),b)};h.Z=function(a,b,c){return null==b?this.ma?this.na:c:null==this.root?c:this.root.gb(0,wc(b),b,c)};
h.Ab=function(a,b){a:if(this.W)if(sf(b))a=Ag(this,tf.j?tf.j(b):tf.call(null,b),uf.j?uf.j(b):uf.call(null,b));else if(td(b))a=Ag(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=M(a);if(v(c))a=N(a),b=Ag(b,tf.j?tf.j(c):tf.call(null,c),uf.j?uf.j(c):uf.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
h.Ob=function(){if(this.W){this.W=null;var a=new yg(null,this.count,this.root,this.ma,this.na,null)}else throw Error("persistent! called twice");return a};h.zb=function(a,b,c){return Ag(this,b,c)};h.Gc=function(a,b){if(this.W)null==b?this.ma&&(this.ma=!1,this.na=null,--this.count):null!=this.root&&(a=new Yf,b=this.root.Vb(this.W,0,wc(b),b,a),b!==this.root&&(this.root=b),a.P&&--this.count);else throw Error("dissoc! after persistent!");return this};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return this.ra(null,a)};h.m=function(a,b){return this.Z(null,a,b)};
var oe=function oe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return oe.A(0<c.length?new K(c.slice(0),0,null):null)};oe.A=function(a){a=J(a);for(var b=Yb(Wf);;)if(a){var c=N(a);if(null==c)throw Error(["No value supplied for key: ",z.j(M(a))].join(""));var d=N(c);b=be.o(b,M(a),M(c));a=d}else return $b(b)};oe.J=0;oe.K=function(a){return this.A(J(a))};function Bg(a,b){this.R=a;this.Sa=b;this.B=32374988;this.N=0}h=Bg.prototype;h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.Sa};h.ga=function(){var a=(null!=this.R?this.R.B&128||r===this.R.Nb||(this.R.B?0:x(ib,this.R)):x(ib,this.R))?this.R.ga():N(this.R);return null==a?null:new Bg(a,null)};h.Y=function(){return Hc(this)};
h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return this.R.ha(null).key};h.ja=function(){var a=(null!=this.R?this.R.B&128||r===this.R.Nb||(this.R.B?0:x(ib,this.R)):x(ib,this.R))?this.R.ga():N(this.R);return null!=a?new Bg(a,null):Dc};h.$=function(){return this};h.U=function(a,b){return b===this.Sa?this:new Bg(this.R,b)};h.ea=function(a,b){return $c(b,this)};Bg.prototype[Pa]=function(){return Fc(this)};
function Sf(a){return(a=J(a))?new Bg(a,null):null}function tf(a){return ub(a)}function Cg(a,b){this.R=a;this.Sa=b;this.B=32374988;this.N=0}h=Cg.prototype;h.toString=function(){return mc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.S=function(){return this.Sa};h.ga=function(){var a=(null!=this.R?this.R.B&128||r===this.R.Nb||(this.R.B?0:x(ib,this.R)):x(ib,this.R))?this.R.ga():N(this.R);return null==a?null:new Cg(a,null)};h.Y=function(){return Hc(this)};
h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Bd(b,this)};h.la=function(a,b,c){return Cd(b,c,this)};h.ha=function(){return this.R.ha(null).P};h.ja=function(){var a=(null!=this.R?this.R.B&128||r===this.R.Nb||(this.R.B?0:x(ib,this.R)):x(ib,this.R))?this.R.ga():N(this.R);return null!=a?new Cg(a,null):Dc};h.$=function(){return this};h.U=function(a,b){return b===this.Sa?this:new Cg(this.R,b)};h.ea=function(a,b){return $c(b,this)};Cg.prototype[Pa]=function(){return Fc(this)};
function Tf(a){return(a=J(a))?new Cg(a,null):null}function uf(a){return vb(a)}var Dg=function Dg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Dg.A(0<c.length?new K(c.slice(0),0,null):null)};Dg.A=function(a){return v(we(Hd,a))?Fd(function(b,c){return ad.m(v(b)?b:X,c)},a):null};Dg.J=0;Dg.K=function(a){return this.A(J(a))};function Eg(a){for(var b=X,c=J(Fg);;)if(c){var d=M(c),e=G.o(a,d,Gg);b=P.m(e,Gg)?b:W.o(b,d,e);c=N(c)}else return Eb(b,kd(a))}
function Hg(a){this.Eb=a}Hg.prototype.fa=function(){return this.Eb.fa()};Hg.prototype.next=function(){if(this.Eb.fa())return this.Eb.next().key;throw Error("No such element");};Hg.prototype.remove=function(){return Error("Unsupported operation")};function Ig(a,b,c){this.meta=a;this.Za=b;this.G=c;this.B=15077647;this.N=139268}h=Ig.prototype;h.toString=function(){return mc(this)};h.keys=function(){return Fc(J(this))};h.entries=function(){return new Of(J(J(this)))};h.values=function(){return Fc(J(this))};
h.has=function(a){return Ad(this,a)};h.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e),g=U(f,0,null);f=U(f,1,null);a.m?a.m(f,g):a.call(null,f,g);e+=1}else if(b=J(b))ud(b)?(c=D(b),b=E(b),g=c,d=R(c),c=g):(c=M(b),g=U(c,0,null),f=U(c,1,null),a.m?a.m(f,g):a.call(null,f,g),b=N(b),c=null,d=0),e=0;else return null};h.ra=function(a,b){return this.Z(null,b,null)};h.Z=function(a,b,c){a=qb(this.Za,b);return v(a)?ub(a):c};h.ua=function(){return new Hg(kc(this.Za))};h.S=function(){return this.meta};
h.aa=function(){return Ya(this.Za)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Jc(this)};h.X=function(a,b){if(a=pd(b))if(a=R(this)===R(b))try{return Gd(function(c,d){return(c=Ad(b,d))?c:new Mc},!0,this.Za)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};h.wb=function(){return new Jg(Yb(this.Za))};h.ba=function(){return Eb(Kg,this.meta)};h.bd=function(a,b){return new Ig(this.meta,tb(this.Za,b),null)};h.$=function(){return Sf(this.Za)};
h.U=function(a,b){return b===this.meta?this:new Ig(b,this.Za,this.G)};h.ea=function(a,b){return new Ig(this.meta,W.o(this.Za,b,null),null)};h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return this.ra(null,a)};h.m=function(a,b){return this.Z(null,a,b)};
var Kg=new Ig(null,X,Kc);Ig.prototype[Pa]=function(){return Fc(this)};function Jg(a){this.tb=a;this.N=136;this.B=259}h=Jg.prototype;h.Ab=function(a,b){this.tb=be.o(this.tb,b,null);return this};h.Ob=function(){return new Ig(null,$b(this.tb),null)};h.aa=function(){return R(this.tb)};h.ra=function(a,b){return this.Z(null,b,null)};h.Z=function(a,b,c){return kb(this.tb,b,wd)===wd?c:b};
h.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.j=function(a){return kb(this.tb,a,wd)===wd?null:a};h.m=function(a,b){return kb(this.tb,a,wd)===wd?b:a};
function Lg(a){if(pd(a))return jd(a,null);a=J(a);if(null==a)return Kg;if(a instanceof K&&0===a.i){a=a.u;for(var b=a.length,c=Yb(Kg),d=0;;)if(d<b)Zb(c,a[d]),d+=1;else break;return $b(c)}for(c=Yb(Kg);;)if(null!=a)b=N(a),c=Zb(c,gb(a)),a=b;else return $b(c)}function Qd(a){if(null!=a&&(a.N&4096||r===a.ad))return a.Lb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.j(a)].join(""));}
var Mg=function Mg(a){switch(arguments.length){case 2:return Mg.m(arguments[0],arguments[1]);case 3:return Mg.o(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Mg.A(arguments[0],arguments[1],arguments[2],new K(c.slice(3),0,null))}};Mg.m=function(a,b){return b};Mg.o=function(a,b,c){return(a.j?a.j(b):a.call(null,b))>(a.j?a.j(c):a.call(null,c))?b:c};
Mg.A=function(a,b,c,d){return Ta(function(e,f){return Mg.o(a,e,f)},Mg.o(a,b,c),d)};Mg.K=function(a){var b=M(a),c=N(a);a=M(c);var d=N(c);c=M(d);d=N(d);return this.A(b,a,c,d)};Mg.J=3;function Ng(a,b,c){this.start=a;this.step=b;this.count=c;this.B=82;this.N=0}h=Ng.prototype;h.aa=function(){return this.count};h.ha=function(){return this.start};h.O=function(a,b){return this.start+b*this.step};h.qa=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};
h.yc=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Ng(this.start+this.step,this.step,this.count-1)};function Og(a,b,c){this.i=a;this.end=b;this.step=c}Og.prototype.fa=function(){return 0<this.step?this.i<this.end:this.i>this.end};Og.prototype.next=function(){var a=this.i;this.i+=this.step;return a};function Pg(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.da=e;this.Ua=f;this.G=g;this.B=32375006;this.N=140800}h=Pg.prototype;h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();h.Rb=function(){if(null==this.da){var a=this.aa(null);32<a?(this.Ua=new Pg(null,this.start+32*this.step,this.end,this.step,null,null,null),this.da=new Ng(this.start,this.step,32)):this.da=new Ng(this.start,this.step,a)}};
h.O=function(a,b){if(0<=b&&b<this.aa(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};h.qa=function(a,b,c){return 0<=b&&b<this.aa(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};h.ua=function(){return new Og(this.start,this.end,this.step)};h.S=function(){return this.meta};
h.ga=function(){return 0<this.step?this.start+this.step<this.end?new Pg(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Pg(null,this.start+this.step,this.end,this.step,null,null,null):null};h.aa=function(){return Math.ceil((this.end-this.start)/this.step)};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Pc(this,b)};
h.la=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.m?b.m(c,a):b.call(null,c,a);if(Nc(c))return B(c);a+=this.step}else return c};h.ha=function(){return this.start};h.ja=function(){var a=this.ga();return null==a?Dc:a};h.$=function(){return this};h.Jb=function(){this.Rb();return this.da};h.bb=function(){this.Rb();return null==this.Ua?Dc:this.Ua};h.U=function(a,b){return b===this.meta?this:new Pg(b,this.start,this.end,this.step,this.da,this.Ua,this.G)};
h.ea=function(a,b){return $c(b,this)};h.cc=function(){return J(this.bb(null))};Pg.prototype[Pa]=function(){return Fc(this)};function Qg(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.da=e;this.Ua=f;this.G=g;this.N=140800;this.B=32374988}h=Qg.prototype;h.toString=function(){return mc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.m=function(b,c){return Q(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.m=function(c,d){return S(this,c,d)};return b}();
h.Rb=function(){if(null==this.da){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.da=new Ud(a,0,b);break a}}else{b=c;break a}}null==this.da&&(this.da=new Ud(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.Ua=new Qg(null,b,this.end,this.step,null,null,null)))}};
h.ua=function(){return new Og(this.start,this.end,this.step)};h.S=function(){return this.meta};h.ga=function(){return 0<this.step?this.start+this.step<this.end?new Qg(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Qg(null,this.start+this.step,this.end,this.step,null,null,null):null};h.Y=function(){var a=this.G;return null!=a?a:this.G=a=Hc(this)};h.X=function(a,b){return Zc(this,b)};h.ba=function(){return Dc};h.ka=function(a,b){return Bd(b,this)};
h.la=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.m?b.m(c,a):b.call(null,c,a);if(Nc(c))return B(c);a+=this.step}else return c};h.ha=function(){return this.start};h.ja=function(){var a=this.ga();return null==a?Dc:a};h.$=function(){return this};h.Jb=function(){this.Rb();return this.da};h.bb=function(){this.Rb();return null==this.Ua?Dc:this.Ua};h.U=function(a,b){return b===this.meta?this:new Qg(b,this.start,this.end,this.step,this.da,this.Ua,this.G)};
h.ea=function(a,b){return $c(b,this)};h.cc=function(){return J(this.bb(null))};Qg.prototype[Pa]=function(){return Fc(this)};function Rg(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.m(a[0],b)?1===a.length?a[0]:rf(a):null;throw new TypeError("re-matches must match against a string.");}
function Sg(a,b,c,d,e,f,g){var k=Ca;Ca=null==Ca?null:Ca-1;try{if(null!=Ca&&0>Ca)return Sb(a,"#");Sb(a,c);if(0===Ia.j(f))J(g)&&Sb(a,function(){var w=Tg.j(f);return v(w)?w:"..."}());else{if(J(g)){var l=M(g);b.o?b.o(l,a,f):b.call(null,l,a,f)}for(var m=N(g),n=Ia.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(Sb(a,d),Sb(a,function(){var w=Tg.j(f);return v(w)?w:"..."}()));break}else{Sb(a,d);var p=M(m);c=a;g=f;b.o?b.o(p,c,g):b.call(null,p,c,g);var t=N(m);c=n-1;m=t;n=c}}return Sb(a,e)}finally{Ca=k}}
function Ug(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);Sb(a,f);e+=1}else if(b=J(b))c=b,ud(c)?(b=D(c),d=E(c),c=b,f=R(b),b=d,d=f):(f=M(c),Sb(a,f),b=N(c),c=null,d=0),e=0;else return null}var Vg={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Wg(a){return['"',z.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return Vg[b]})),'"'].join("")}
function Xg(a,b){return(a=xd(G.m(a,Ga)))?(a=null!=b?b.B&131072||r===b.Gd?!0:!1:!1)?null!=kd(b):a:a}
function Yg(a,b,c){if(null==a)return Sb(b,"nil");if(Xg(c,a)){Sb(b,"^");var d=kd(a);Zg.o?Zg.o(d,b,c):Zg.call(null,d,b,c);Sb(b," ")}if(a.Wa)return a.eb(b);if(null!=a?a.B&2147483648||r===a.ca||(a.B?0:x(Tb,a)):x(Tb,a))return Ub(a,b,c);if(!0===a||!1===a)return Sb(b,z.j(a));if("number"===typeof a)return Sb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.j(a));if(null!=a&&a.constructor===Object)return Sb(b,"#js "),d=Je.m(function(f){return new kf(null!=Rg(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Pd.j(f):f,a[f])},oa(a)),$g.F?$g.F(d,Zg,b,c):$g.call(null,d,Zg,b,c);if(Ka(a))return Sg(b,Zg,"#js ["," ","]",c,a);if("string"===typeof a)return v(Fa.j(c))?Sb(b,Wg(a)):Sb(b,a);if("function"===typeof a){var e=a.name;c=v(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Ug(b,T(["#object[",c,v(!1)?[' "',z.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=z.j(f);;)if(f.length<g)f=["0",f].join("");else return f},Ug(b,T(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Ug(b,T(['#"',a.source,'"']));if("symbol"===q(a)||"undefined"!==typeof Symbol&&a instanceof Symbol)return Ug(b,T(["#object[",a.toString(),"]"]));if(v(function(){var f=null==a?null:a.constructor;return null==f?null:f.Ma}()))return Ug(b,T(["#object[",a.constructor.Ma.replace(RegExp("/","g"),"."),
"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=v(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Ug(b,T(["#object[",c,"]"])):Ug(b,T(["#object[",c," ",z.j(a),"]"]))}function Zg(a,b,c){var d=ah.j(c);return v(d)?(c=W.o(c,bh,Yg),d.o?d.o(a,b,c):d.call(null,a,b,c)):Yg(a,b,c)}
function ch(a){var b=Da();if(nd(a))b="";else{var c=z,d=c.j,e=new ya,f=new lc(e);Zg(M(a),f,b);a=J(N(a));for(var g=null,k=0,l=0;;)if(l<k){var m=g.O(null,l);Sb(f," ");Zg(m,f,b);l+=1}else if(a=J(a))g=a,ud(g)?(a=D(g),k=E(g),g=a,m=R(a),a=k,k=m):(m=M(g),Sb(f," "),Zg(m,f,b),a=N(g),g=null,k=0),l=0;else break;b=d.call(c,e)}return b}function dh(a){return a instanceof yc?zc.m(null,Qd(a)):Pd.m(null,Qd(a))}
function eh(a){if(v(!1)){var b=J(a),c=J(b),d=M(c);N(c);U(d,0,null);U(d,1,null);c=null==a?null:null!=a&&(a.B&4||r===a.yd)?a.ba(null):(null!=a?a.B&4||r===a.yd||(a.B?0:x(Za,a)):x(Za,a))?$a(a):null;for(a=null;;){d=a;b=J(b);a=M(b);var e=N(b),f=a;a=U(f,0,null);b=U(f,1,null);if(v(f))if(a instanceof I||a instanceof yc)if(v(d))if(P.m(d,Od(a)))c=W.o(c,dh(a),b),a=d,b=e;else return null;else if(d=Od(a),v(d))c=W.o(c,dh(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function fh(a,b,c,d,e){return Sg(d,function(f,g,k){var l=ub(f);c.o?c.o(l,g,k):c.call(null,l,g,k);Sb(g," ");f=vb(f);return c.o?c.o(f,g,k):c.call(null,f,g,k)},[z.j(a),"{"].join(""),", ","}",e,J(b))}function $g(a,b,c,d){var e=rd(a)?eh(a):null,f=U(e,0,null);e=U(e,1,null);return v(f)?fh(["#:",z.j(f)].join(""),e,b,c,d):fh(null,a,b,c,d)}K.prototype.ca=r;K.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Rd.prototype.ca=r;Rd.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};
kf.prototype.ca=r;kf.prototype.V=function(a,b,c){return Sg(b,Zg,"["," ","]",c,this)};tg.prototype.ca=r;tg.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Qf.prototype.ca=r;Qf.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Gc.prototype.ca=r;Gc.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};wf.prototype.ca=r;wf.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Nd.prototype.ca=r;
Nd.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Pg.prototype.ca=r;Pg.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};yg.prototype.ca=r;yg.prototype.V=function(a,b,c){return $g(this,Zg,b,c)};vg.prototype.ca=r;vg.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};yf.prototype.ca=r;yf.prototype.V=function(a,b,c){return Sg(b,Zg,"["," ","]",c,this)};Ig.prototype.ca=r;Ig.prototype.V=function(a,b,c){return Sg(b,Zg,"#{"," ","}",c,this)};Vd.prototype.ca=r;
Vd.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Fe.prototype.ca=r;Fe.prototype.V=function(a,b,c){Sb(b,"#object[cljs.core.Atom ");Zg(new u(null,1,[gh,this.state],null),b,c);return Sb(b,"]")};Cg.prototype.ca=r;Cg.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Me.prototype.ca=r;Me.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Y.prototype.ca=r;Y.prototype.V=function(a,b,c){return Sg(b,Zg,"["," ","]",c,this)};Hf.prototype.ca=r;
Hf.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Md.prototype.ca=r;Md.prototype.V=function(a,b){return Sb(b,"()")};If.prototype.ca=r;If.prototype.V=function(a,b,c){return Sg(b,Zg,"#queue ["," ","]",c,J(this))};u.prototype.ca=r;u.prototype.V=function(a,b,c){return $g(this,Zg,b,c)};Qg.prototype.ca=r;Qg.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};Bg.prototype.ca=r;Bg.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};cd.prototype.ca=r;
cd.prototype.V=function(a,b,c){return Sg(b,Zg,"("," ",")",c,this)};var hh=null;function ih(a){null==hh&&(hh=Ge(0));return zc.j([z.j(a),z.j(Ie.m(hh,Lc))].join(""))}function jh(){}function kh(a){if(null!=a&&null!=a.Ad)a=a.Ad(a);else{var b=kh[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kh._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IEncodeJS.-clj-\x3ejs",a);}return a}
function lh(a,b){return(null!=a?r===a.zd||(a.Ic?0:x(jh,a)):x(jh,a))?kh(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof yc?b.j?b.j(a):b.call(null,a):ch(T([a]))}var mh=function mh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return mh.A(arguments[0],1<c.length?new K(c.slice(1),0,null):null)};
mh.A=function(a,b){b=ne(b);var c=G.o(b,nh,Qd),d=function g(f){if(null==f)return null;if(null!=f?r===f.zd||(f.Ic?0:x(jh,f)):x(jh,f))return kh(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof yc)return z.j(f);if(rd(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.O(null,n),t=U(p,0,null);p=U(p,1,null);t=lh(t,d);p=g(p);k[t]=p;n+=1}else if(f=J(f))ud(f)?(m=D(f),f=E(f),l=m,m=R(m)):(m=M(f),l=U(m,0,null),m=U(m,1,null),l=lh(l,d),m=g(m),k[l]=m,f=N(f),l=null,m=0),n=0;else break;
return k}if(od(f)){k=[];f=J(Je.m(g,f));l=null;for(n=m=0;;)if(n<m)t=l.O(null,n),k.push(t),n+=1;else if(f=J(f))l=f,ud(l)?(f=D(l),n=E(l),l=f,m=R(f),f=n):(f=M(l),k.push(f),f=N(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};mh.J=1;mh.K=function(a){var b=M(a);a=N(a);return this.A(b,a)};var oh=null;function ph(){null==oh&&(oh=Ge(new u(null,3,[qh,X,rh,X,sh,X],null)));return oh}
function th(a,b,c){var d=P.m(b,c);if(d)return d;d=sh.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=Ad(d,c))&&(d=td(c)))if(d=td(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=th(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function uh(a){var b=B(ph());return qe(G.m(qh.j(b),a))}function vh(a,b,c,d){Ie.m(a,function(){return B(b)});Ie.m(c,function(){return B(d)})}
var wh=function wh(a,b,c){var e=function(){var f=B(c);return f.j?f.j(a):f.call(null,a)}();e=v(v(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(v(e))return e;e=function(){for(var f=uh(b);;)if(0<R(f)){var g=M(f);wh.o?wh.o(a,g,c):wh.call(null,a,g,c);f=Cc(f)}else return null}();if(v(e))return e;e=function(){for(var f=uh(a);;)if(0<R(f)){var g=M(f);wh.o?wh.o(g,b,c):wh.call(null,g,b,c);f=Cc(f)}else return null}();return v(e)?e:!1};function xh(a,b,c,d){c=wh(a,b,c);return v(c)?c:th(d,a,b)}
var yh=function yh(a,b,c,d,e,f,g,k){var m=Ta(function(p,t){var w=U(t,0,null);U(t,1,null);if(th(B(c),b,w)){p=null==p||xh(w,M(p),e,B(c))?t:p;if(!xh(M(p),w,e,B(c)))throw Error(["Multiple methods in multimethod '",z.j(a),"' match dispatch value: ",z.j(b)," -\x3e ",z.j(w)," and ",z.j(M(p)),", and neither is preferred"].join(""));return p}return p},null,B(d)),n=function(){var p;if(p=null==m)p=B(d),p=p.j?p.j(k):p.call(null,k);return v(p)?new Y(null,2,5,Z,[k,p],null):m}();if(v(n)){if(P.m(B(g),B(c)))return Ie.F(f,
W,b,M(N(n))),M(N(n));vh(f,d,g,c);return yh.ta?yh.ta(a,b,c,d,e,f,g,k):yh.call(null,a,b,c,d,e,f,g,k)}return null};function zh(a,b){throw Error(["No method in multimethod '",z.j(a),"' for dispatch value: ",z.j(b)].join(""));}function Ah(a,b,c,d,e,f,g){var k=Bh;this.name=a;this.I=b;this.Sd=k;this.kc=c;this.mc=d;this.ge=e;this.lc=f;this.bc=g;this.B=4194305;this.N=4352}h=Ah.prototype;
h.call=function(a){switch(arguments.length-1){case 0:return this.D();case 1:return this.j(arguments[1]);case 2:return this.m(arguments[1],arguments[2]);case 3:return this.o(arguments[1],arguments[2],arguments[3]);case 4:return this.F(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.M(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ja(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ea(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ga(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.zc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",z.j(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(Ra(b)))};h.D=function(){var a=this.I.D?this.I.D():this.I.call(null),b=Ch(this,a);v(b)||zh(this.name,a);return b.D?b.D():b.call(null)};h.j=function(a){var b=this.I.j?this.I.j(a):this.I.call(null,a),c=Ch(this,b);v(c)||zh(this.name,b);return c.j?c.j(a):c.call(null,a)};
h.m=function(a,b){var c=this.I.m?this.I.m(a,b):this.I.call(null,a,b),d=Ch(this,c);v(d)||zh(this.name,c);return d.m?d.m(a,b):d.call(null,a,b)};h.o=function(a,b,c){var d=this.I.o?this.I.o(a,b,c):this.I.call(null,a,b,c),e=Ch(this,d);v(e)||zh(this.name,d);return e.o?e.o(a,b,c):e.call(null,a,b,c)};h.F=function(a,b,c,d){var e=this.I.F?this.I.F(a,b,c,d):this.I.call(null,a,b,c,d),f=Ch(this,e);v(f)||zh(this.name,e);return f.F?f.F(a,b,c,d):f.call(null,a,b,c,d)};
h.M=function(a,b,c,d,e){var f=this.I.M?this.I.M(a,b,c,d,e):this.I.call(null,a,b,c,d,e),g=Ch(this,f);v(g)||zh(this.name,f);return g.M?g.M(a,b,c,d,e):g.call(null,a,b,c,d,e)};h.ia=function(a,b,c,d,e,f){var g=this.I.ia?this.I.ia(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f),k=Ch(this,g);v(k)||zh(this.name,g);return k.ia?k.ia(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
h.Ja=function(a,b,c,d,e,f,g){var k=this.I.Ja?this.I.Ja(a,b,c,d,e,f,g):this.I.call(null,a,b,c,d,e,f,g),l=Ch(this,k);v(l)||zh(this.name,k);return l.Ja?l.Ja(a,b,c,d,e,f,g):l.call(null,a,b,c,d,e,f,g)};h.ta=function(a,b,c,d,e,f,g,k){var l=this.I.ta?this.I.ta(a,b,c,d,e,f,g,k):this.I.call(null,a,b,c,d,e,f,g,k),m=Ch(this,l);v(m)||zh(this.name,l);return m.ta?m.ta(a,b,c,d,e,f,g,k):m.call(null,a,b,c,d,e,f,g,k)};
h.Ka=function(a,b,c,d,e,f,g,k,l){var m=this.I.Ka?this.I.Ka(a,b,c,d,e,f,g,k,l):this.I.call(null,a,b,c,d,e,f,g,k,l),n=Ch(this,m);v(n)||zh(this.name,m);return n.Ka?n.Ka(a,b,c,d,e,f,g,k,l):n.call(null,a,b,c,d,e,f,g,k,l)};h.ya=function(a,b,c,d,e,f,g,k,l,m){var n=this.I.ya?this.I.ya(a,b,c,d,e,f,g,k,l,m):this.I.call(null,a,b,c,d,e,f,g,k,l,m),p=Ch(this,n);v(p)||zh(this.name,n);return p.ya?p.ya(a,b,c,d,e,f,g,k,l,m):p.call(null,a,b,c,d,e,f,g,k,l,m)};
h.za=function(a,b,c,d,e,f,g,k,l,m,n){var p=this.I.za?this.I.za(a,b,c,d,e,f,g,k,l,m,n):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n),t=Ch(this,p);v(t)||zh(this.name,p);return t.za?t.za(a,b,c,d,e,f,g,k,l,m,n):t.call(null,a,b,c,d,e,f,g,k,l,m,n)};h.Aa=function(a,b,c,d,e,f,g,k,l,m,n,p){var t=this.I.Aa?this.I.Aa(a,b,c,d,e,f,g,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p),w=Ch(this,t);v(w)||zh(this.name,t);return w.Aa?w.Aa(a,b,c,d,e,f,g,k,l,m,n,p):w.call(null,a,b,c,d,e,f,g,k,l,m,n,p)};
h.Ba=function(a,b,c,d,e,f,g,k,l,m,n,p,t){var w=this.I.Ba?this.I.Ba(a,b,c,d,e,f,g,k,l,m,n,p,t):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t),A=Ch(this,w);v(A)||zh(this.name,w);return A.Ba?A.Ba(a,b,c,d,e,f,g,k,l,m,n,p,t):A.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t)};
h.Ca=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w){var A=this.I.Ca?this.I.Ca(a,b,c,d,e,f,g,k,l,m,n,p,t,w):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w),C=Ch(this,A);v(C)||zh(this.name,A);return C.Ca?C.Ca(a,b,c,d,e,f,g,k,l,m,n,p,t,w):C.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w)};
h.Da=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A){var C=this.I.Da?this.I.Da(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A),F=Ch(this,C);v(F)||zh(this.name,C);return F.Da?F.Da(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A):F.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A)};
h.Ea=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C){var F=this.I.Ea?this.I.Ea(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C),H=Ch(this,F);v(H)||zh(this.name,F);return H.Ea?H.Ea(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C):H.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C)};
h.Fa=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F){var H=this.I.Fa?this.I.Fa(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F),O=Ch(this,H);v(O)||zh(this.name,H);return O.Fa?O.Fa(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F):O.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F)};
h.Ga=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H){var O=this.I.Ga?this.I.Ga(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H),V=Ch(this,O);v(V)||zh(this.name,O);return V.Ga?V.Ga(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H):V.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H)};
h.Ha=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O){var V=this.I.Ha?this.I.Ha(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O),ka=Ch(this,V);v(ka)||zh(this.name,V);return ka.Ha?ka.Ha(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O):ka.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O)};
h.Ia=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V){var ka=this.I.Ia?this.I.Ia(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V):this.I.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V),la=Ch(this,ka);v(la)||zh(this.name,ka);return la.Ia?la.Ia(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V):la.call(null,a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V)};
h.zc=function(a,b,c,d,e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka){var la=me(this.I,a,b,c,d,T([e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka])),Hb=Ch(this,la);v(Hb)||zh(this.name,la);return me(Hb,a,b,c,d,T([e,f,g,k,l,m,n,p,t,w,A,C,F,H,O,V,ka]))};function Dh(a,b,c){Ie.F(a.mc,W,b,c);vh(a.lc,a.mc,a.bc,a.kc)}function Ch(a,b){P.m(B(a.bc),B(a.kc))||vh(a.lc,a.mc,a.bc,a.kc);var c=B(a.lc);c=c.j?c.j(b):c.call(null,b);return v(c)?c:yh(a.name,b,a.kc,a.mc,a.ge,a.lc,a.bc,a.Sd)}h.Lb=function(){return dc(this.name)};h.Mb=function(){return ec(this.name)};
h.Y=function(){return da(this)};function Eh(a,b){var c=Error(a);this.message=a;this.data=b;this.Yc=null;this.name=c.name;this.description=c.description;this.number=c.number;this.fileName=c.fileName;this.lineNumber=c.lineNumber;this.columnNumber=c.columnNumber;this.stack=c.stack;return this}Eh.prototype.__proto__=Error.prototype;Eh.prototype.ca=r;
Eh.prototype.V=function(a,b,c){Sb(b,"#error {:message ");Zg(this.message,b,c);v(this.data)&&(Sb(b,", :data "),Zg(this.data,b,c));v(this.Yc)&&(Sb(b,", :cause "),Zg(this.Yc,b,c));return Sb(b,"}")};Eh.prototype.toString=function(){return mc(this)};function Fh(a,b){return new Eh(a,b)};var Hh=new I(null,"idle","idle",-2007156861),gh=new I(null,"val","val",128701612),Ih=new I(null,"ms","ms",-1152709733),Jh=new I(null,"render","render",-1408033454),Kh=new I(null,"hemisphere-light","hemisphere-light",-1569111131),Mh=new I(null,"button","button",1456579943),Nh=new I(null,"perspective-camera","perspective-camera",1944836071),Oh=new I(null,"auto-run","auto-run",1958400437),Rh=new I(null,"log","log",-1595516004),Sh=new I(null,"footer","footer",1606445390),Th=new I(null,"on-dispose","on-dispose",
2105306360),Uh=new I(null,"reaction","reaction",490869788),Vh=new I(null,"data","data",-232669377),Xh=new I(null,"div.split-screen","div.split-screen",570832028),$h=new I(null,"icosahedron","icosahedron",-1698316329),bi=new I(null,"fsm-state","fsm-state",1656310533),ci=new I(null,"constructor","constructor",-1953928811),di=new I(null,"childContextTypes","childContextTypes",578717991),ei=new I(null,"circle","circle",1903212362),fi=new I(null,"\x3e","\x3e",-555517146),gi=new I(null,"div.main","div.main",
-117780813),rh=new I(null,"descendants","descendants",1824886031),hi=new I(null,"component-key","component-key",1189239034),ki=new I("app.events","initialize-db","app.events/initialize-db",-1317819610),ni=new I(null,"scene","scene",1523800415),oi=new I(null,"img","img",1442687358),pi=new I(null,"getInitialState","getInitialState",1541760916),qi=new I(null,"loaded?","loaded?",-1108015206),ah=new I(null,"alt-impl","alt-impl",670969595),sa=new I(null,"section#section-about.target","section#section-about.target",
490088779),Gg=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),wi=new I(null,"spot-light","spot-light",2068323183),xi=new I(null,"no-cache","no-cache",1588056370),zi=new I(null,"directional-light","directional-light",1424371138),Ai=new I(null,"rotation","rotation",-1728051644),Bi=new I(null,"forceReplace","forceReplace",-425526379),Ci=new I(null,"exception","exception",-335277064),Di=new I(null,"div#whitebox-container","div#whitebox-container",1694558925),Ei=new I(null,"finish-run",
"finish-run",753148477),Fi=new I(null,"section#section-team","section#section-team",-731918348),Gi=new I(null,"dispatch-later","dispatch-later",291951390),Ii=new I(null,"unwrap","unwrap",-1399175462),Ea=new I(null,"flush-on-newline","flush-on-newline",-151457939),Ki=new I(null,"after","after",594996914),Mi=new I(null,"reagent-render","reagent-render",-985383853),Ni=new I(null,"before","before",-1633692388),Pi=new I(null,"trigger","trigger",103466139),Si=new I(null,"function-components","function-components",
1492814963),Ti=new I(null,"point-light","point-light",669926690),Vi=new I(null,"hierarchy","hierarchy",-1053470341),Xi=new I(null,"seq","seq",-1817803783),Zi=new I(null,"a","a",-2123407586),$i=new I(null,"set","set",304602554),aj=new I(null,"add-event","add-event",938429088),bj=new I(null,"plane","plane",-223595224),dj=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),ej=new I(null,"p","p",151049309),ua=new I(null,"p#team-target.target","p#team-target.target",-347005680),fj=new I(null,
"scale","scale",-230427353),gj=new I(null,"contextType","contextType",1033066077),nj=new I(null,"scheduled","scheduled",553898551),oj=new I(null,"error","error",-978969032),sj=new I(null,"section#section-action","section#section-action",633720643),tj=new I(null,"event","event",301435442),vj=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),wj=new I(null,"effects","effects",-282369292),xj=new I(null,"do-fx","do-fx",1194163050),zj=new I(null,"position","position",-2011731912),
Aj=new I(null,"div","div",1057191632),bh=new I(null,"fallback-impl","fallback-impl",-1501286995),Cj=new I(null,"display-name","display-name",694513143),Gj=new I(null,"instance","instance",-2121349050),nh=new I(null,"keyword-fn","keyword-fn",-64566675),Ij=new I(null,"div.split-screen-left","div.split-screen-left",126683895),Jj=new I(null,"resume","resume",-118572261),Lj=new I(null,"debug","debug",-1608172596),Mj=new I(null,"component-will-unmount","component-will-unmount",-2058314698),Nj=new I(null,
"className","className",-1983287057),Oj=new I(null,"pause","pause",-2095325672),Rj=new I(null,"cone","cone",-1644572970),Sj=new I(null,"group","group",582596132),Tj=new I(null,"href","href",-793805698),Uj=new I(null,"unnamed","unnamed",-26044928),Vj=new I(null,"parse-tag","parse-tag",1427313738),Xj=new I(null,"db-handler","db-handler",579530098),ak=new I(null,"callback","callback",-705136228),Tg=new I(null,"more-marker","more-marker",-14717935),dk=new I(null,"span","span",1394872991),hk=new I(null,
"code","code",1586293142),jk=new I(null,"node","node",581201198),Ga=new I(null,"meta","meta",1499536964),lk=new I(null,"displayName","displayName",-809144601),nk=new I(null,"map","map",1371690461),ok=new I(null,"div.mt-2","div.mt-2",-701876875),sk=new I(null,"div.mt-8","div.mt-8",-1083568847),tk=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),uk=new I(null,"main","main",-2117802661),wk=new I(null,"header","header",119441134),xk=new I(null,"torus","torus",790837427),Qa=
new I(null,"div#action-target.target","div#action-target.target",475443010),zk=new I(null,"running","running",1554969103),Ak=new I(null,"class","class",-2030961996),Ck=new I(null,"children-keys","children-keys",-1531120807),Dk=new I(null,"br","br",934104792),Ek=new I(null,"title","title",636505583),Fk=new I(null,"dispatch","dispatch",1319337009),Gk=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Ik=new I(null,"dodecahedron","dodecahedron",-1629151490),Jk=new I(null,"section#section-criteria",
"section#section-criteria",-1148532965),Kk=new I(null,"stack","stack",-793405930),Lk=new I(null,"reagentRender","reagentRender",-358306383),Mk=new I(null,"name","name",1843675177),Nk=new I(null,"box","box",1530920394),Ok=new I(null,"ticks","ticks",-406190313),Qk=new I(null,"coeffects","coeffects",497912985),Rk=new I(null,"queue","queue",1455835879),Sk=new I(null,"warn","warn",-436710552),Tk=new I(null,"empty-list","empty-list",-1865196089),Vk=new I(null,"on-set","on-set",-140953470),lb=new I(null,
"div#sections.split-screen-right","div#sections.split-screen-right",1529854910),Wk=new I(null,"ring","ring",-974350330),Xk=new I(null,"context","context",-830191113),Yk=new I(null,"src","src",-1651076051),Zk=new I(null,"inject-global-interceptors","inject-global-interceptors",-2144129737),Bh=new I(null,"default","default",-1987822328),$k=new I(null,"cofx","cofx",2013202907),al=new I(null,"component-config","component-config",2000790546),bl=new I(null,"cylinder","cylinder",-1762349035),Ha=new I(null,
"dup","dup",556298533),rb=new I(null,"p#criteria-target.target","p#criteria-target.target",-978258057),dl=new I(null,"fn","fn",-1175266204),el=new I(null,"sequential","sequential",-1082983960),fl=new I(null,"fx","fx",-1237829572),Ia=new I(null,"print-length","print-length",1931866356),gl=new I(null,"dispatch-n","dispatch-n",-504469236),hl=new I(null,"trim-v","trim-v",-1274938640),il=new I(null,"paused","paused",-1710376127),kl=new I(null,"component-did-update","component-did-update",-1468549173),
ml=new I(null,"torus-knot","torus-knot",466642313),nl=new I(null,"div.header-left","div.header-left",137243899),ol=new I(null,"flush-dom","flush-dom",-933676816),rl=new I(null,"sup","sup",-2039492346),fc=new I(null,"div.container","div.container",72419955),tl=new I(null,"on-write","on-write",31519475),ul=new I(null,"key","key",-1516042587),vl=new I(null,"db","db",993250759),wl=new I(null,"global-interceptors","global-interceptors",-1995759472),yl=new I(null,"form","form",-1624062471),Al=new I(null,
"div.header-right","div.header-right",1949423476),qh=new I(null,"parents","parents",-2027538891),Bl=new I(null,"validator","validator",-1966190681),Dl=new I("re-frame.std-interceptors","not-found","re-frame.std-interceptors/not-found",-1614827865),El=new I(null,"orthographic-camera","orthographic-camera",-79663393),Fl=new I(null,"portal","portal",2002989957),Gl=new I(null,"yield","yield",177875009),Hl=new I(null,"deregister-event-handler","deregister-event-handler",-1096518994),Fa=new I(null,"readably",
"readably",1129599760),Il=new I(null,"contextTypes","contextTypes",-2023853910),Kl=new I(null,"receive-shadow","receive-shadow",-789712390),Ll=new I(null,"octahedron","octahedron",245466475),Ml=new I(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),Nl=new I(null,"id","id",-1388402092),Ol=new I(null,"cast-shadow","cast-shadow",-446090219),Pl=new I(null,"rect-area-light","rect-area-light",-1419656976),Ql=new I(null,"portal-path","portal-path",1722169330),Rl=new I(null,"sphere","sphere",
384337120),Tl=new I(null,"run-queue","run-queue",-1701798027),Ul=new I(null,"shape","shape",1190694006),Vl=new I(null,"original-event","original-event",2121330403),Wl=new I(null,"tetrahedron","tetrahedron",-902050819),Xl=new I(null,"keyword","keyword",811389747),Yl=new I(null,"ambient-light","ambient-light",1637901620),sh=new I(null,"ancestors","ancestors",-776045424),Zl=new I(null,"groupEnd","groupEnd",-337721382),$l=new I(null,"object","object",1474613949),am=new I(null,"atom","atom",-397043653);var bm={},cm={},dm=[];function em(a,b){var c=cm[a];if(void 0!==c)return c;try{dm.push(a);var d=bm[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};bm[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,em,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{dm.pop()}return d.exports}em.cache={};em.resolve=function(a){return a};var fm=em(3,{});function gm(a,b,c){var d=v(b.ignoreCase)?"gi":"g";d=v(b.multiline)?[d,"m"].join(""):d;return a.replace(new RegExp(b.source,v(b.unicode)?[d,"u"].join(""):d),c)}
function hm(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=Le(d);if(P.m(R(d),1))return d=M(d),a.j?a.j(d):a.call(null,d);d=rf(d);return a.j?a.j(d):a.call(null,d)}b.J=0;b.K=function(d){d=J(d);return c(d)};b.A=c;return b}()}
function im(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?gm(a,b,c):gm(a,b,hm(c));throw["Invalid match arg: ",z.j(b)].join("");}function jm(a){var b=new ya;for(a=J(a);;)if(null!=a)b.append(z.j(M(a))),a=N(a),null!=a&&b.append(" ");else return b.toString()}
function km(a){var b=/-/;a="/(?:)/"===z.j(b)?ad.m(rf($c("",Je.m(z,J(a)))),""):rf(z.j(a).split(b));if(1<R(a))a:for(;;)if(""===ld(a))a=null==a?null:zb(a);else break a;return a};var lm={};var mm={},nm="undefined"!==typeof window&&null!=window.document,om=new Ig(null,new u(null,2,["aria",null,"data",null],null),null);function pm(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function qm(a){if("string"===typeof a)return a;a=Qd(a);var b=km(a),c=J(b);b=M(c);c=N(c);return v(om.j?om.j(b):om.call(null,b))?a:je(z,b,Je.m(pm,c))}
function rm(a){var b=function(){var c=function(){var d=gd(a);if(d){d=a.displayName;if(v(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(v(c))return c;c=function(){var d=null!=a?a.N&4096||r===a.ad?!0:!1:!1;return d?Qd(a):d}();if(v(c))return c;c=kd(a);return rd(c)?Mk.j(c):null}();return v(b)?im(z.j(b),"$","."):null}function sm(a){return a instanceof I||a instanceof yc}
var tm=function tm(a){switch(arguments.length){case 0:return tm.D();case 1:return tm.j(arguments[0]);case 2:return tm.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return tm.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};tm.D=function(){return null};tm.j=function(a){return od(a)?(a=De(function(b){return v(b)?sm(b)?Qd(b):b:null},a),J(a)?jm(a):null):sm(a)?Qd(a):a};
tm.m=function(a,b){return v(a)?v(b)?[z.j(tm.j(a))," ",z.j(tm.j(b))].join(""):tm.j(a):tm.j(b)};tm.A=function(a,b,c){return Ta(tm,tm.m(a,b),c)};tm.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};tm.J=2;var um=!1;function vm(a){if(rd(a))try{var b=G.m(a,ul)}catch(c){b=null}else b=null;return b}
function wm(a){var b=ul.j(kd(a));if(v(b))return b;b=vm(U(a,1,null));if(v(b))return b;b=U(a,0,null);switch(b instanceof I?b.va:null){case "\x3e":case "f\x3e":return vm(U(a,2,null));case "r\x3e":return a=U(a,2,null),null==a?null:a.key;default:return null}};var xm=0;function ym(a){return setTimeout(a,16)}var zm=nm?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(v(b))return b;b=a.webkitRequestAnimationFrame;if(v(b))return b;b=a.mozRequestAnimationFrame;if(v(b))return b;b=a.msRequestAnimationFrame;return v(b)?b:ym}().bind(a)}():ym;function Am(a,b){return a.Kc-b.Kc}function Bm(){return null}function Cm(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.D?d.D():d.call(null);c+=1}else return null}
function Dm(a,b,c){b.push(c);return a.schedule()}function Em(){this.qc=!1}h=Em.prototype;h.flush_after_render=function(){var a=this.$b;if(null==a)return null;this.$b=null;return Cm(a)};h.queue_render=function(a){null==this.hc&&(this.hc=[]);return Dm(this,this.hc,a)};h.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.qc)return null;this.qc=!0;return zm.j?zm.j(a):zm.call(null,a)};h.flush_before_flush=function(){var a=this.ac;if(null==a)return null;this.ac=null;return Cm(a)};
h.flush_queues=function(){this.flush_before_flush();Bm();this.flush_render();return this.flush_after_render()};h.run_queues=function(){this.qc=!1;return this.flush_queues()};h.add_before_flush=function(a){null==this.ac&&(this.ac=[]);return Dm(this,this.ac,a)};h.add_after_render=function(a){null==this.$b&&(this.$b=[]);return Dm(this,this.$b,a)};
h.flush_render=function(){var a=this.hc;if(null==a)return null;this.hc=null;a:{a.sort(Am);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Fm=new Em;function Gm(a){if(v(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Fm.queue_render(a)};function Hm(a){if(null!=a&&null!=a.he)a=a.id;else{var b=Hm[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hm._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("Compiler.get-id",a);}return a}function Im(a,b,c){if(null!=a&&null!=a.od)a=a.od(a,b,c);else{var d=Im[q(null==a?null:a)];if(null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else if(d=Im._,null!=d)a=d.o?d.o(a,b,c):d.call(null,a,b,c);else throw y("Compiler.parse-tag",a);}return a}
function Jm(a,b){if(null!=a&&null!=a.md)a=a.md(a,b);else{var c=Jm[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=Jm._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("Compiler.as-element",a);}return a}function Km(a,b,c,d,e){if(null!=a&&null!=a.nd)a=a.nd(a,b,c,d,e);else{var f=Km[q(null==a?null:a)];if(null!=f)a=f.M?f.M(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Km._,null!=f)a=f.M?f.M(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw y("Compiler.make-element",a);}return a};function Lm(a,b){var c=je(Mg,a,b);return $c(c,Pe(function(d){return c===d},b))}var Mm=function Mm(a){switch(arguments.length){case 1:return Mm.j(arguments[0]);case 2:return Mm.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Mm.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};Mm.j=function(a){return a};
Mm.m=function(a,b){for(;;)if(R(b)<R(a)){var c=a;a=b;b=c}else return Ta(function(d,e){return function(f,g){return Ad(e,g)?f:md.m(f,g)}}(a,b),a,a)};Mm.A=function(a,b,c){a=Lm(function(d){return-R(d)},ad.A(c,b,T([a])));return Ta(Mm,M(a),Cc(a))};Mm.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};Mm.J=2;
var Nm=function Nm(a){switch(arguments.length){case 1:return Nm.j(arguments[0]);case 2:return Nm.m(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Nm.A(arguments[0],arguments[1],new K(c.slice(2),0,null))}};Nm.j=function(a){return a};Nm.m=function(a,b){return R(a)<R(b)?Ta(function(c,d){return Ad(b,d)?md.m(c,d):c},a,a):Ta(md,a,b)};Nm.A=function(a,b,c){return Ta(Nm,a,ad.m(c,b))};
Nm.K=function(a){var b=M(a),c=N(a);a=M(c);c=N(c);return this.A(b,a,c)};Nm.J=2;var Pm;function Qm(a,b){b.vc=null;a:{var c=Pm;Pm=b;try{var d=a.D?a.D():a.call(null);break a}finally{Pm=c}d=void 0}a=b.vc;b.fb=!1;a:{c=b.ub;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var g=f===e;if(g){c=g;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function Rm(a){var b=Pm;if(null!=b){var c=b.vc;null==c?b.vc=[a]:c.push(a)}}function Sm(a,b,c){a.pa=W.o(a.pa,b,c);return a.Vc=null}
function Tm(a,b){a.pa=fd.m(a.pa,b);return a.Vc=null}function Um(a,b,c){var d=a.Vc;d=null==d?a.Vc=Gd(function(l,m,n){l.push(m);l.push(n);return l},[],a.pa):d;for(var e=d.length,f=0;;)if(f<e){var g=d[f],k=d[f+1];k.F?k.F(g,a,b,c):k.call(null,g,a,b,c);f=2+f}else break}function Vm(a,b,c,d){Sb(a,["#object[reagent.ratom.",z.j(c)," "].join(""));a:{c=Pm;Pm=null;try{var e=d;break a}finally{Pm=c}e=void 0}Zg(e,a,b);return Sb(a,"]")}var Wm=null;
function Xm(a,b,c,d){this.state=a;this.meta=b;this.Tc=c;this.pa=d;this.B=2154201088;this.N=114690}h=Xm.prototype;h.V=function(a,b,c){return Vm(b,c,"RAtom",new u(null,1,[gh,this.cb(null)],null))};h.S=function(){return this.meta};h.Y=function(){return da(this)};h.X=function(a,b){return this===b};h.La=function(a,b){a=this.state;this.state=b;null!=this.pa&&Um(this,a,b);return b};h.Cc=function(a,b){return this.La(null,b.j?b.j(this.state):b.call(null,this.state))};
h.Dc=function(a,b,c){return this.La(null,b.m?b.m(this.state,c):b.call(null,this.state,c))};h.Ec=function(a,b,c,d){return this.La(null,b.o?b.o(this.state,c,d):b.call(null,this.state,c,d))};h.Fc=function(a,b,c,d,e){return this.La(null,le(b,this.state,c,d,e))};h.Hc=function(a,b){Um(this,a,b)};h.dc=function(a,b,c){return Sm(this,b,c)};h.ec=function(a,b){return Tm(this,b)};h.U=function(a,b){return new Xm(this.state,b,this.Tc,this.pa)};h.cb=function(){Rm(this);return this.state};
var Ym=function Ym(a){switch(arguments.length){case 1:return Ym.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ym.A(arguments[0],new K(c.slice(1),0,null))}};Ym.j=function(a){return new Xm(a,null,null,null)};Ym.A=function(a,b){var c=ne(b);b=G.m(c,Ga);c=G.m(c,Bl);return new Xm(a,b,c,null)};Ym.K=function(a){var b=M(a);a=N(a);return this.A(b,a)};Ym.J=1;
function Zm(a){if(null!=a&&null!=a.Pc)a=a.Pc(a);else{var b=Zm[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Zm._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("IDisposable.dispose!",a);}return a}function Wb(a,b,c,d){return a._handle_change(b,c,d)}function $m(a){this.f=a;this.state=null;this.fb=!0;this.kd=!1;this.wc=this.Ta=this.pa=this.ub=null;this.B=2153807872;this.N=114690}h=$m.prototype;h._peek_at=function(){var a=Pm;Pm=null;try{return this.cb(null)}finally{Pm=a}};
h._handle_change=function(a,b,c){return b===c||this.fb?null:null==this.Ta?(this.fb=!0,null==Wm&&(Wm=[],!1===Fm.qc&&Fm.schedule()),Wm.push(this)):!0===this.Ta?this._run(!1):this.Ta.j?this.Ta.j(this):this.Ta.call(null,this)};
h._update_watching=function(a){var b=Lg(a),c=Lg(this.ub);this.ub=a;a=J(Nm.m(b,c));for(var d=null,e=0,f=0;;)if(f<e){var g=d.O(null,f);Vb(g,this);f+=1}else if(a=J(a))d=a,ud(d)?(a=D(d),f=E(d),d=a,e=R(a),a=f):(a=M(d),Vb(a,this),a=N(d),d=null,e=0),f=0;else break;b=J(Nm.m(c,b));c=null;for(e=d=0;;)if(e<d)a=c.O(null,e),Xb(a,this),e+=1;else if(b=J(b))c=b,ud(c)?(b=D(c),d=E(c),c=b,a=R(b),b=d,d=a):(a=M(c),Xb(a,this),b=N(c),c=null,d=0),e=0;else return null};
h._queued_run=function(){return this.fb&&null!=this.ub?this._run(!0):null};h._try_capture=function(a){try{return this.wc=null,Qm(a,this)}catch(b){return this.wc=this.state=a=b,this.fb=!1}};h._run=function(a){var b=this.state;a=v(a)?this._try_capture(this.f):Qm(this.f,this);this.kd||(this.state=a,null==this.pa||P.m(b,a)||Um(this,b,a));return a};
h._set_opts=function(a){var b=ne(a);a=G.m(b,Oh);var c=G.m(b,Vk),d=G.m(b,Th);b=G.m(b,xi);null!=a&&(this.Ta=a);null!=c&&(this.ce=c);null!=d&&(this.ld=d);return null!=b?this.kd=b:null};h.V=function(a,b,c){return Vm(b,c,"Reaction",new u(null,1,[gh,this.cb(null)],null))};h.Y=function(){return da(this)};h.X=function(a,b){return this===b};
h.Pc=function(){var a=this.state,b=this.ub;this.Ta=this.state=this.ub=null;this.fb=!0;b=J(Lg(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);Xb(f,this);e+=1}else if(b=J(b))c=b,ud(c)?(b=D(c),e=E(c),c=b,d=R(b),b=e):(b=M(c),Xb(b,this),b=N(c),c=null,d=0),e=0;else break;null!=this.ld&&this.ld(a);a=this.Fe;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};h.La=function(a,b){a=this.state;this.state=b;this.ce(a,b);Um(this,a,b);return b};
h.Cc=function(a,b){a=this.La;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};h.Dc=function(a,b,c){a=this.La;var d=this._peek_at();b=b.m?b.m(d,c):b.call(null,d,c);return a.call(this,null,b)};h.Ec=function(a,b,c,d){a=this.La;var e=this._peek_at();b=b.o?b.o(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};h.Fc=function(a,b,c,d,e){return this.La(null,le(b,this._peek_at(),c,d,e))};h.Hc=function(a,b){Um(this,a,b)};h.dc=function(a,b,c){return Sm(this,b,c)};
h.ec=function(a,b){a=nd(this.pa);Tm(this,b);return!a&&nd(this.pa)&&null==this.Ta?this.Pc(null):null};h.cb=function(){var a=this.wc;if(null!=a)throw a;(a=null==Pm)&&(an.D?an.D():an.call(null));a&&null==this.Ta?this.fb&&(a=this.state,this.state=this.f.D?this.f.D():this.f.call(null),null==this.pa||P.m(a,this.state)||Um(this,a,this.state)):(Rm(this),this.fb&&this._run(!1));return this.state};
function an(){for(;;){var a=Wm;if(null==a)return null;Wm=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Bm=an;function bn(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];var e=ne(1<b.length?new K(b.slice(1),0,null):null);b=G.m(e,Oh);d=G.m(e,Vk);e=G.m(e,Th);c=new $m(c);c._set_opts(new u(null,3,[Oh,b,Vk,d,Th,e],null));return c}var cn=bn(null);
function dn(a,b,c,d,e){var f=cn,g=Qm(a,f);null!=f.ub&&(cn=bn(null),f._set_opts(e),f.f=a,f.Ta=function(){return d.j?d.j(b):d.call(null,b)},b[c]=f);return g};var en;function fn(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=oa(b),e=d.length,f=X,g=0;;)if(g<e){var k=d[g];f=W.o(f,Pd.j(k),pa(b,k));g+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function gn(a){var b;if(b=gd(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.hb);return b}
function hn(a,b){for(;;){var c=a.hb,d=!0===a.Kd?c.call(a,a):function(){var e=fn(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Wc(e,1));case 3:return c.call(a,Wc(e,1),Wc(e,2));case 4:return c.call(a,Wc(e,1),Wc(e,2),Wc(e,3));case 5:return c.call(a,Wc(e,1),Wc(e,2),Wc(e,3),Wc(e,4));default:return c.apply(a,Sa(e).slice(1))}}();if(td(d))return Jm(b,d);if(yd(d))a.hb=gn(d)?function(e,f,g,k,l){return function(){function m(p){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-
0);t<w.length;)w[t]=arguments[t+0],++t;t=new K(w,0,null)}return n.call(this,t)}function n(p){return Jm(f,je(vf,l,p))}m.J=0;m.K=function(p){p=J(p);return n(p)};m.A=n;return m}()}(a,b,c,null,d):d;else return d}}var jn=new u(null,1,[xi,!0],null);
function kn(a,b){switch(a instanceof I?a.va:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=U(f,1,null),c=rd(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.Md;d=null!=d?d:c.Md=Ym.j(null);return He(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,fn(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,fn(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,fn(this,c))};case "shouldComponentUpdate":return function(c){var d=um;if(v(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.m(d,e)}catch(g){return!1}}else return f?b.call(this,this,fn(this,this.props),fn(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,fn(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,fn(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,fn(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=pa(this,"cljsRatom");null!=c&&Zm(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var ln=new u(null,2,[Ml,null,dj,null],null),on=function(a){var b=Ge(X);return function(c){var d=G.m(B(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);Ie.F(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Qd(a);a=im(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=km(a);var b=J(a);a=M(b);b=N(b);return je(z,a,Je.m(pm,b))});function pn(a){return Gd(function(b,c,d){return W.o(b,Pd.j(on(c)),d)},X,a)}
function qn(a,b){var c=function(){var g=Lk.j(a);return v(g)?g:Jh.j(a)}(),d=null==Lk.j(a),e=function(){var g=lk.j(a);if(v(g))return g;g=rm(c);return v(g)?g:z.j(ih("reagent"))}(),f=Gd(function(g,k,l){var m=W.o,n=kn(k,l);return m.call(W,g,k,v(n)?n:l)},X,a);return W.A(f,lk,e,T([Gk,d,Lk,c,Jh,function(){var g=this,k=pa(g,"cljsRatom");g.cljsIsDirty=!1;return null==k?dn(function(){a:{var l=en;en=g;try{var m=hn(g,b);break a}finally{en=l}m=void 0}return m},g,"cljsRatom",Gm,jn):k._run(!1)}]))}
function rn(a){return Gd(function(b,c,d){c=Qd(c);b[c]=d;return b},{},a)}function sn(a,b){return qn(Dg.A(T([ln,pn(a)])),b)}var Fg=new Y(null,5,5,Z,[di,Il,gj,vj,tk],null);
function tn(a,b){function c(k,l,m){fm.Component.call(this,k,l,m);v(g)&&(g.m?g.m(this,k):g.call(null,this,k));v(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.Kc=xm+=1;return this}a=sn(a,b);b=rn(me(fd,a,lk,pi,ci,T([Jh,Lk,Fg])));var d=rn(Eg(a)),e=lk.j(a),f=pi.j(a),g=ci.j(a);ra(c.prototype,fm.Component.prototype,b);v(Jh.j(a))&&(c.prototype.render=Jh.j(a));v(Lk.j(a))&&(c.prototype.hb=Lk.j(a));v(Gk.j(a))&&(c.prototype.Kd=Gk.j(a));ra(c,fm.Component,d);v(e)&&(c.displayName=e,c.Ma=e,c.eb=function(k){return Sb(k,
e)});c.Wa=!0;return c.prototype.constructor=c}function un(a,b,c){a=Hm(a);return b[a]=c}
function vn(a,b){for(;;){var c=b.hb,d=b.argv,e=ie(c,d);if(td(e))return Jm(a,e);if(yd(e))b.hb=gn(e)?function(f,g,k,l,m,n){return function(){function p(w){var A=null;if(0<arguments.length){A=0;for(var C=Array(arguments.length-0);A<C.length;)C[A]=arguments[A+0],++A;A=new K(C,0,null)}return t.call(this,A)}function t(w){return Jm(f,je(vf,n,w))}p.J=0;p.K=function(w){w=J(w);return t(w)};p.A=t;return p}()}(a,b,c,null,d,e):e;else return e}}
function wn(a,b){var c=b.argv,d=b.hb;b=fm.useState(0);U(b,0,null);var e=U(b,1,null),f=fm.useRef();v(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(Lc):e.call(null,Lc)}};k.Kc=xm+=1;k.constructor=d;k.hb=d;return f.current=k}();var g=f.current;b=pa(g,"cljsRatom");fm.useEffect(function(){return function(){var k=pa(g,"cljsRatom");return null==k?null:Zm(k)}},[]);g.argv=c;g.cljsIsDirty=!1;return null==b?dn(function(){a:{var k=en;en=g;try{var l=vn(a,g);break a}finally{en=k}l=void 0}return l},
g,"cljsRatom",Gm,jn):b._run(!1)}function xn(a,b){a=a.argv;b=b.argv;var c=!1===um;if(c)try{return P.m(a,b)}catch(d){return!1}else return c}function yn(a,b){function c(e){return wn(a,e)}var d=pa(b,Hm(a));if(v(d))return d;c.displayName=rm(b);d=fm.memo(c,xn);un(a,b,d);return d};var zn=new Ig(null,new u(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function An(a,b,c,d){var e=ne(X);e=G.m(e,tl);if(a===document.activeElement&&Ad(zn,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!P.m(f,c))return Fm.add_after_render(function(){return Bn.j?Bn.j(d):Bn.call(null,d)});c=R(f)-a.selectionStart;c=R(b)-c;d.fc=b;a.value=b;gd(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.fc=b;a.value=b;return gd(e)?e.j?e.j(b):e.call(null,b):null}
function Bn(a){if(v(a.Jc)){a.dd=!1;var b=a.Ld,c=a.fc,d=a.Nc;return P.m(b,c)?null:An(d,b,c,a)}return null}function Cn(a,b,c){a.fc=c.target.value;v(a.dd)||(a.dd=!0,Fm.add_after_render(function(){return Bn(a)}));return b.j?b.j(c):b.call(null,c)}
function Dn(a){var b=en;if(v(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),v(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;v(b.Jc)||(b.Jc=!0,b.fc=c);v(b.pd)||(b.pd=gd(e)?function(f){b.Nc=f;return e.j?e.j(f):e.call(null,f)}:v(v(e)?e.hasOwnProperty("current"):e)?function(f){b.Nc=f;return e.current=f}:function(f){return b.Nc=f});b.Ld=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Cn(b,d,f)};a.ref=b.pd}}
var En=new u(null,4,[Cj,"ReagentInput",kl,Bn,Mj,function(a){return a.Jc=null},Mi,function(a,b,c,d,e){Dn(c);return Km(e,a,b,c,d)}],null);var Fn={},Gn,Hn=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,In={"class":"className","for":"htmlFor",charset:"charSet"};function Jn(a,b){return a.hasOwnProperty(b)?pa(a,b):null}function Kn(a,b,c){if(sm(b)){var d=Jn(In,Qd(b));null==d?(d=qm(b),b=Qd(b),b=In[b]=d):b=d}c=Ln.j?Ln.j(c):Ln.call(null,c);a[b]=c;return a}
function Ln(a){return"object"!==q(a)?a:sm(a)?Qd(a):rd(a)?Gd(Kn,{},a):od(a)?mh(a):yd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return ie(a,d)}b.J=0;b.K=function(d){d=J(d);return c(d)};b.A=c;return b}():mh(a)}var Mn={};function Nn(a,b,c){if(sm(b)){var d=Jn(Mn,Qd(b));null==d?(d=qm(b),b=Qd(b),b=Mn[b]=d):b=d}c=Ln(c);a[b]=c;return a}
function On(a){return"object"!==q(a)?a:sm(a)?Qd(a):rd(a)?Gd(Nn,{},a):od(a)?mh(a):yd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return ie(a,d)}b.J=0;b.K=function(d){d=J(d);return c(d)};b.A=c;return b}():mh(a)}
function Pn(a,b,c,d,e){switch(R(b)-e){case 0:return fm.createElement(c,d);case 1:return fm.createElement(c,d,Jm(a,U(b,e,null)));default:return fm.createElement.apply(null,Gd(function(f,g,k){g>=e&&f.push(Jm(a,k));return f},[c,d],b))}}function Qn(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Qd=d}function Rn(a,b,c){var d=pa(a,Hm(c));null==d?gn(a)?a=un(c,a,a):(d=kd(a),d=W.o(d,Mi,a),d=tn(d,c),a=un(c,a,d)):a=d;c={};c.argv=b;b=wm(b);null!=b&&(c.key=b);return fm.createElement(a,c)}
function Sn(a,b,c,d){var e={};e.hb=a;e.argv=Af.m(b,c);b=wm(b);null!=b&&(e.key=b);return fm.createElement(yn(d,a),e)}function Tn(a,b,c){var d;if(d=gd(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?Rn(a,b,c):Sn(a,b,1,c)}var Un={};function Vn(a,b){a=Jn(Un,b);if(null==a){var c=N(Rg(Hn,Qd(b)));a=U(c,0,null);var d=U(c,1,null);c=U(c,2,null);c=null==c?null:im(c,/\./," ");var e=a.indexOf("-");e=!P.m(-1,e);a=new Qn(a,d,c,e);return Un[b]=a}return a}
function Wn(a,b,c,d){var e=a.tag,f=U(b,c,null),g=null==f||rd(f),k=function(){var n=g?f:null;var p=Ak.j(n);p=v(p)?W.o(n,Ak,tm.j(p)):n;var t=a.id;n=a.className;t=null!=t&&null==Nl.j(p)?W.o(p,Nl,t):p;if(v(n)){var w=W.o,A=tm.m,C=Ak.j(p);p=v(C)?C:Nj.j(p);n=w.call(W,t,Ak,A.call(tm,n,p))}else n=t;n=v(a.Qd)?On(n):Ln(n);return v(n)?n:{}}();c+=g?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=vm(f);var m=function(){var n=d.ie;if(v(n))return n;n=tn(En,d);return d.ie=n}();return Jm(d,
jd(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Dg.A(T([v(l)?new u(null,1,[ul,l],null):null,kd(b)]))))}l=vm(kd(b));null!=l&&(k.key=l);return Km(d,b,e,k,c)}function Xn(a,b){return Sa(Je.m(function(c){return Jm(b,c)},a))}
function Yn(a,b,c){null==b&&console.error("vec-to-elem",ch(T([a])));var d=U(a,0,null);switch(d instanceof I?d.va:null){case "\x3e":return c=U(a,1,null),Wn(new Qn(c,null,null,null),a,2,b);case "r\x3e":c=U(a,1,null);d=U(a,2,null);d=v(d)?d:{};var e=vm(kd(a));null!=e&&(d.key=e);return Km(b,a,c,d,3);case "f\x3e":return Sn(U(a,1,null),a,2,b);case "\x3c\x3e":return d=U(a,1,null),c=null==d||rd(d),d=Ln(c?d:null),d=v(d)?d:{},c=1+(c?1:0),e=wm(a),null!=e&&(d.key=e),Km(b,a,fm.Fragment,d,c);default:if(sm(d)||"string"===
typeof d)a:for(;;)switch(c=U(a,0,null),d=Qd(c),e=d.indexOf("\x3e"),e){case -1:b=Wn(Im(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=jd(new Y(null,2,5,Z,[d.substring(0,e),W.o(jd(a,null),0,d.substring(e+1))],null),kd(a))}else b=c.o?c.o(d,a,b):c.call(null,d,a,b);return b}}
var Zn=function(a){var b=ih("G__"),c=v(Si.j(a))?Tn:Rn,d=G.o(a,Vj,Vn);if("undefined"===typeof lm||"undefined"===typeof mm||"undefined"===typeof Fn||"undefined"===typeof Gn)Gn=function(e,f,g,k,l){this.de=e;this.id=f;this.gd=g;this.nc=k;this.Xd=l;this.B=393216;this.N=0},Gn.prototype.U=function(e,f){return new Gn(this.de,this.id,this.gd,this.nc,f)},Gn.prototype.S=function(){return this.Xd},Gn.prototype.he=function(){return this.id},Gn.prototype.od=function(e,f,g){return this.nc.o?this.nc.o(this,f,g):
this.nc.call(null,this,f,g)},Gn.prototype.md=function(e,f){return"object"!==q(f)?f:td(f)?Yn(f,this,this.gd):(null==f?0:null!=f?f.B&64||r===f.yb||(f.B?0:x(fb,f)):x(fb,f))?Xn(f,this):sm(f)?Qd(f):(null!=f?f.B&2147483648||r===f.ca||(f.B?0:x(Tb,f)):x(Tb,f))?ch(T([f])):f},Gn.prototype.nd=function(e,f,g,k,l){return Pn(this,f,g,k,l)},Gn.Wa=!0,Gn.Ma="reagent.impl.template/t_reagent$impl$template20666",Gn.eb=function(e){return Sb(e,"reagent.impl.template/t_reagent$impl$template20666")};return new Gn(a,b,c,
d,X)}(X);function $n(a){return Fm.add_after_render(a)};var ao=em(12,{});var bo=Ge(X);function co(a,b,c){var d=um;um=!0;try{return ao.render(a.D?a.D():a.call(null),b,function(){var e=um;um=!1;try{return Ie.F(bo,W,b,a),Fm.flush_after_render(),null!=c?c.D?c.D():c.call(null):null}finally{um=e}})}finally{um=d}}
function eo(){var a=new Y(null,1,5,Z,[fo],null),b=document.getElementById("app");an();var c=gd(Zn)?new Y(null,2,5,Z,[Zn,Zn],null):new Y(null,2,5,Z,[Zn,ak.j(Zn)],null),d=U(c,0,null);c=U(c,1,null);return co(function(){return Jm(d,gd(a)?a.D?a.D():a.call(null):a)},b,c)};function go(){return xa("iPhone")&&!xa("iPod")&&!xa("iPad")};xa("Opera");xa("Trident")||xa("MSIE");xa("Edge");var ho=xa("Gecko")&&!(-1!=wa.toLowerCase().indexOf("webkit")&&!xa("Edge"))&&!(xa("Trident")||xa("MSIE"))&&!xa("Edge"),io=-1!=wa.toLowerCase().indexOf("webkit")&&!xa("Edge");io&&xa("Mobile");xa("Macintosh");xa("Windows");xa("Linux")||xa("CrOS");var uc=aa.navigator||null;uc&&(uc.appVersion||"").indexOf("X11");xa("Android");go();xa("iPad");xa("iPod");go()||xa("iPad")||xa("iPod");wa.toLowerCase().indexOf("kaios");try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};function ko(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};function lo(a,b,c){var d=a;b&&(d=ja(a,b));d=lo.re(d);"function"===typeof aa.setImmediate&&(c||lo.qe())?aa.setImmediate(d):(lo.sd||(lo.sd=lo.Ud()),lo.sd(d))}lo.qe=function(){return aa.Window&&aa.Window.prototype&&!xa("Edge")&&aa.Window.prototype.setImmediate==aa.setImmediate?!1:!0};
lo.Ud=function(){var a=aa.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!xa("Presto")&&(a=function(){var e=ko();e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=ja(function(l){if(("*"==k||l.origin==k)&&l.data==g)this.port1.onmessage()},this);f.addEventListener("message",
e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,k)}}});if("undefined"!==typeof a&&!xa("Trident")&&!xa("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Zc;c.Zc=null;e()}};return function(e){d.next={Zc:e};d=d.next;b.port2.postMessage(0)}}return function(e){aa.setTimeout(e,0)}};lo.re=function(a){return a};function mo(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1}mo.prototype.stopPropagation=function(){};mo.prototype.preventDefault=function(){this.defaultPrevented=!0};var no=function(){if(!aa.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{aa.addEventListener("test",ba,b),aa.removeEventListener("test",ba,b)}catch(c){}return a}();function oo(a,b){mo.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Pb=null;a&&this.init(a,b)}ma(oo,mo);var po={2:"touch",3:"pen",4:"mouse"};
oo.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(ho){a:{try{na(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=io||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=io||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:po[a.pointerType]||"";this.state=a.state;this.Pb=a;a.defaultPrevented&&oo.Rc.preventDefault.call(this)};oo.prototype.stopPropagation=function(){oo.Rc.stopPropagation.call(this);this.Pb.stopPropagation?this.Pb.stopPropagation():this.Pb.cancelBubble=!0};oo.prototype.preventDefault=function(){oo.Rc.preventDefault.call(this);var a=this.Pb;a.preventDefault?a.preventDefault():a.returnValue=!1};var qo=0;var ro="closure_listenable_"+(1E6*Math.random()|0);function so(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Mc=e;this.key=++qo;this.pc=this.uc=!1}function to(a){a.pc=!0;a.listener=null;a.proxy=null;a.src=null;a.Mc=null};function uo(a){this.src=a;this.listeners={};this.rc=0}uo.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.rc++);var g=vo(a,b,d,e);-1<g?(b=a[g],c||(b.uc=!1)):(b=new so(b,this.src,f,!!d,e),b.uc=c,a.push(b));return b};
uo.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=vo(e,b,c,d);return-1<b?(to(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.rc--),!0):!1};function wo(a,b){var c=b.type;if(c in a.listeners){var d=a.listeners[c],e=ta(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(to(b),0==a.listeners[c].length&&(delete a.listeners[c],a.rc--))}}
function vo(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.pc&&f.listener==b&&f.capture==!!c&&f.Mc==d)return e}return-1};var xo="closure_lm_"+(1E6*Math.random()|0),yo={},zo=0;function Ao(a,b,c,d,e){if(d&&d.once)Bo(a,b,c,d,e);else if(Array.isArray(b))for(var f=0;f<b.length;f++)Ao(a,b[f],c,d,e);else c=Co(c),a&&a[ro]?a.fd.add(String(b),c,!1,ca(d)?!!d.capture:!!d,e):Do(a,b,c,!1,d,e)}
function Do(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ca(e)?!!e.capture:!!e,k=Eo(a);k||(a[xo]=k=new uo(a));c=k.add(b,c,d,g,f);if(!c.proxy){d=Fo();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)no||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Go(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");zo++}}
function Fo(){function a(c){return b.call(a.src,a.listener,c)}const b=Ho;return a}function Bo(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Bo(a,b[f],c,d,e);else c=Co(c),a&&a[ro]?a.fd.add(String(b),c,!0,ca(d)?!!d.capture:!!d,e):Do(a,b,c,!0,d,e)}function Go(a){return a in yo?yo[a]:yo[a]="on"+a}
function Ho(a,b){if(a.pc)a=!0;else{b=new oo(b,this);var c=a.listener,d=a.Mc||a.src;if(a.uc&&"number"!==typeof a&&a&&!a.pc){var e=a.src;if(e&&e[ro])wo(e.fd,a);else{var f=a.type,g=a.proxy;e.removeEventListener?e.removeEventListener(f,g,a.capture):e.detachEvent?e.detachEvent(Go(f),g):e.addListener&&e.removeListener&&e.removeListener(g);zo--;(f=Eo(e))?(wo(f,a),0==f.rc&&(f.src=null,e[xo]=null)):to(a)}}a=c.call(d,b)}return a}function Eo(a){a=a[xo];return a instanceof uo?a:null}
var Io="__closure_events_fn_"+(1E9*Math.random()>>>0);function Co(a){if("function"===typeof a)return a;a[Io]||(a[Io]=function(b){return a.handleEvent(b)});return a[Io]};var Be=Ae.m(Jf,bd);function Jo(a,b){return setTimeout(a,b)};var Ko=Ym.j(X);var Lo=Ge(new u(null,6,[Rh,console.log.bind(console),Sk,console.warn.bind(console),oj,console.error.bind(console),Lj,console.debug.bind(console),Sj,v(console.group)?console.group.bind(console):console.log.bind(console),Zl,v(console.groupEnd)?console.groupEnd.bind(console):function(){return Dc}],null)),Mo=function Mo(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Mo.A(arguments[0],1<c.length?new K(c.slice(1),0,null):null)};
Mo.A=function(a,b){var c=B(Lo);a=a.j?a.j(c):a.call(null,c);return ie(a,b)};Mo.J=1;Mo.K=function(a){var b=M(a);a=N(a);return this.A(b,a)};var No=Ge(new u(null,2,[qi,!1,wl,Be],null));var pe=function(){return Ie.m(No,function(a){return W.o(a,qi,!0)})};try{Ao(self,"load",pe)}catch(a){};var Po=Ge(X);function Qo(a,b){return G.m(G.m(B(Po),a),b)}function Ro(a,b,c){Ie.F(Po,Se,new Y(null,2,5,Z,[a,b],null),c);return c}var So=function So(a){switch(arguments.length){case 0:return So.D();case 1:return So.j(arguments[0]);case 2:return So.m(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};So.D=function(){return He(Po,X)};So.j=function(a){return Ie.o(Po,fd,a)};
So.m=function(a,b){return v(Qo(a,b))?Ie.A(Po,Te,new Y(null,1,5,Z,[a],null),fd,T([b])):Mo.A(Sk,T(["re-frame: can't clear",z.j(a),"handler for",[z.j(b),". Handler not found."].join("")]))};So.J=2;var To=function To(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return To.A(0<c.length?new K(c.slice(0),0,null):null)};To.A=function(a){var b=ne(a);a=G.m(b,Nl);var c=G.m(b,Ni);b=G.m(b,Ki);return new u(null,3,[Nl,v(a)?a:Uj,Ni,c,Ki,b],null)};To.J=0;To.K=function(a){return this.A(J(a))};function Uo(a,b){return Ta(G,a,new Y(null,2,5,Z,[Qk,b],null))}function Vo(a,b,c){return Se(a,new Y(null,2,5,Z,[Qk,b],null),c)}
function Wo(a,b){for(var c=a;;){var d=Rk.j(c);if(nd(d))return c;a=ld(d);var e=Kk.j(c);c=W.A(c,Rk,null==d?null:zb(d),T([Kk,ad.m(e,a)]));a=G.m(a,b);c=v(a)?a.j?a.j(c):a.call(null,c):c}}function Xo(a,b){return Ue.F(a,Rk,ze(),b)};var Yo=null;function Zo(a){var b=td(a)?M(a):Mo.A(oj,T(["re-frame: expected a vector, but got:",a]));b=Qo(tj,b);if(v(b))if(v(Yo))Mo.A(oj,T(["re-frame: while handling",Yo,", dispatch-sync was called for",a,". You can't call dispatch-sync within an event handler."]));else{var c=Yo;Yo=a;try{var d=Xo(Vo(Vo(X,tj,a),Vl,a),b);var e=Wo(d,Ni);var f=Xo(fd.m(e,Rk),Kk.j(e));Wo(f,Ki)}finally{Yo=c}}};var $o=Ge(X);var ap=new u(null,2,[ol,function(a){function b(){return lo.j?lo.j(a):lo.call(null,a)}return $n.j?$n.j(b):$n.call(null,b)},Gl,lo],null);function bp(a){for(var b=R(a.queue);;){if(0===b)return cp(a,Ei,null);var c=we(ap,Sf(kd(ld(a.queue))));if(v(c))return cp(a,Oj,c);dp(a);--b}}function ep(a){function b(){return cp(a,Tl,null)}return lo.j?lo.j(b):lo.call(null,b)}
function cp(a,b,c){var d=function(){var f=new Y(null,2,5,Z,[a.jc,b],null);if(P.m(new Y(null,2,5,Z,[Hh,aj],null),f))return new Y(null,2,5,Z,[nj,function(){a.queue=ad.m(a.queue,c);return ep(a)}],null);if(P.m(new Y(null,2,5,Z,[zk,Ci],null),f))return new Y(null,2,5,Z,[Hh,function(){a.queue=Be;throw c;}],null);if(P.m(new Y(null,2,5,Z,[zk,Ei],null),f))return nd(a.queue)?new Y(null,1,5,Z,[Hh],null):new Y(null,2,5,Z,[nj,function(){return ep(a)}],null);if(P.m(new Y(null,2,5,Z,[zk,Oj],null),f))return new Y(null,
2,5,Z,[il,function(){return fp(a,c)}],null);if(P.m(new Y(null,2,5,Z,[il,Jj],null),f))return new Y(null,2,5,Z,[zk,function(){dp(a);return bp(a)}],null);if(P.m(new Y(null,2,5,Z,[nj,Tl],null),f))return new Y(null,2,5,Z,[zk,function(){return bp(a)}],null);if(P.m(new Y(null,2,5,Z,[il,aj],null),f))return new Y(null,2,5,Z,[il,function(){return a.queue=ad.m(a.queue,c)}],null);if(P.m(new Y(null,2,5,Z,[zk,aj],null),f))return new Y(null,2,5,Z,[zk,function(){return a.queue=ad.m(a.queue,c)}],null);if(P.m(new Y(null,
2,5,Z,[nj,aj],null),f))return new Y(null,2,5,Z,[nj,function(){return a.queue=ad.m(a.queue,c)}],null);throw Fh(["re-frame: router state transition not found. ",z.j(a.jc)," ",z.j(b)].join(""),new u(null,2,[bi,a.jc,Pi,b],null));}();var e=U(d,0,null);d=U(d,1,null);a.jc=e;return v(d)?d.D?d.D():d.call(null):null}function fp(a,b){function c(){return cp(a,Jj,null)}return b.j?b.j(c):b.call(null,c)}
function dp(a){var b=ld(a.queue);try{Zo(b);var c=a.queue;var d=null==c?null:zb(c);a.queue=d;gp(a,b)}catch(e){cp(a,Ci,e)}}function gp(a,b){for(var c=J(Tf(a.fe)),d=null,e=0,f=0;;)if(f<e){var g=d.O(null,f);g.m?g.m(b,a.queue):g.call(null,b,a.queue);f+=1}else if(c=J(c))d=c,ud(d)?(c=D(d),e=E(d),d=c,g=R(c),c=e,e=g):(g=M(d),g.m?g.m(b,a.queue):g.call(null,b,a.queue),c=N(d),d=null,e=0),f=0;else break}var hp=new function(a,b,c){this.jc=a;this.queue=b;this.fe=c}(Hh,Be,X);
function ip(a){if(null==a)throw new Eh('re-frame: you called "dispatch" without an event vector.',X);cp(hp,aj,a);return null};var jp=To.A(T([Nl,xj,Ki,function(a){var b=wj.j(a);a=fd.m(b,vl);b=vl.j(b);if(v(b)){var c=Qo(fl,vl);c.j?c.j(b):c.call(null,b)}c=J(a);for(var d=null,e=0,f=0;;)if(f<e){a=d.O(null,f);b=U(a,0,null);a=U(a,1,null);var g=Qo(fl,b);v(g)?(b=g,b.j?b.j(a):b.call(null,a)):Mo.A(Sk,T(["re-frame: no handler registered for effect:",b,". Ignoring."]));f+=1}else if(a=J(c))c=a,ud(c)?(b=D(c),c=E(c),a=b,b=R(b),d=a,e=b):(a=M(c),b=U(a,0,null),a=U(a,1,null),d=Qo(fl,b),v(d)?(b=d,b.j?b.j(a):b.call(null,a)):Mo.A(Sk,T(["re-frame: no handler registered for effect:",
b,". Ignoring."])),c=N(c),d=null,e=0),f=0;else return null}]));function kp(a){a=ne(a);var b=G.m(a,Ih),c=G.m(a,Fk);return nd(c)||"number"!==typeof b?Mo.A(oj,T(["re-frame: ignoring bad :dispatch-later value:",a])):Jo(function(){return ip(c)},b)}Ro(fl,Gi,function(a){if(rd(a))return kp(a);a=J(Pe(Ja,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d);kp(e);d+=1}else if(a=J(a))b=a,ud(b)?(a=D(b),c=E(b),b=a,e=R(a),a=c,c=e):(e=M(b),kp(e),a=N(b),b=null,c=0),d=0;else return null});
Ro(fl,fl,function(a){if(qd(a)){a=J(Pe(Ja,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d),f=U(e,0,null);e=U(e,1,null);P.m(vl,f)&&Mo.A(Sk,T(['re-frame: ":fx" effect should not contain a :db effect']));var g=Qo(fl,f);v(g)?(f=g,f.j?f.j(e):f.call(null,e)):Mo.A(Sk,T(['re-frame: in ":fx" effect found ',f," which has no associated handler. Ignoring."]));d+=1}else if(a=J(a))ud(a)?(e=D(a),a=E(a),f=e,e=R(e),b=f,c=e):(e=M(a),f=U(e,0,null),e=U(e,1,null),P.m(vl,f)&&Mo.A(Sk,T(['re-frame: ":fx" effect should not contain a :db effect'])),
b=Qo(fl,f),v(b)?(f=b,f.j?f.j(e):f.call(null,e)):Mo.A(Sk,T(['re-frame: in ":fx" effect found ',f," which has no associated handler. Ignoring."])),a=N(a),b=null,c=0),d=0;else return null}else return Mo.A(Sk,T(['re-frame: ":fx" effect expects a seq, but was given ',Na(a)]))});Ro(fl,Fk,function(a){return td(a)?ip(a):Mo.A(oj,T(["re-frame: ignoring bad :dispatch value. Expected a vector, but got:",a]))});
Ro(fl,gl,function(a){if(qd(a)){a=J(Pe(Ja,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d);ip(e);d+=1}else if(a=J(a))b=a,ud(b)?(a=D(b),c=E(b),b=a,e=R(a),a=c,c=e):(e=M(b),ip(e),a=N(b),b=null,c=0),d=0;else return null}else return Mo.A(oj,T(["re-frame: ignoring bad :dispatch-n value. Expected a collection, but got:",a]))});
Ro(fl,Hl,function(a){var b=ye.m(So,tj);if(qd(a)){a=J(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);b(f);e+=1}else if(a=J(a))c=a,ud(c)?(a=D(c),d=E(c),c=a,f=R(a),a=d,d=f):(f=M(c),b(f),a=N(c),c=null,d=0),e=0;else return null}else return b(a)});Ro(fl,vl,function(a){return B(Ko)!==a?He(Ko,a):null});Ro($k,vl,function(a){return W.o(a,vl,B(Ko))});var lp=function(a){return To.A(T([Nl,Qk,Ni,function(b){var c=Qo($k,a);return v(c)?Ue.o(b,Qk,c):Mo.A(oj,T(["No cofx handler registered for",a]))}]))}(vl);function mp(a,b){return P.m(a,b)?new Y(null,3,5,Z,[null,null,a],null):new Y(null,3,5,Z,[a,b,null],null)}function np(a){return J(a)?Ta(function(b,c){var d=U(c,0,null);c=U(c,1,null);return W.o(b,d,c)},rf(Ne(ie(Jd,Sf(a)))),a):null}function op(a,b,c){var d=G.m(a,c),e=G.m(b,c),f=pp(d,e),g=U(f,0,null),k=U(f,1,null);f=U(f,2,null);a=Ad(a,c);b=Ad(b,c);d=a&&b&&(null!=f||null==d&&null==e);return new Y(null,3,5,Z,[!a||null==g&&d?null:ed([c,g]),!b||null==k&&d?null:ed([c,k]),d?ed([c,f]):null],null)}
var qp=function qp(a){switch(arguments.length){case 2:return qp.m(arguments[0],arguments[1]);case 3:return qp.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};qp.m=function(a,b){var c=qp.o;var d=Sf(a);var e=Sf(b);d=R(d)<R(e)?Ta(ad,e,d):Ta(ad,d,e);return c.call(qp,a,b,d)};
qp.o=function(a,b,c){return Ta(function(d,e){for(e=d=Je.o(Dg,d,e);;)if(e=J(e))e=N(e);else break;return d},new Y(null,3,5,Z,[null,null,null],null),Je.m(ye.o(op,a,b),c))};qp.J=3;function rp(a,b){var c=Je.m,d=qp.o,e=td(a)?a:rf(a),f=td(b)?b:rf(b);a=R(a);b=R(b);b=a>b?a:b;return rf(c.call(Je,np,d.call(qp,e,f,0>=b?Dc:zd(0)&&zd(b)&&zd(1)?new Pg(null,0,b,1,null,null,null):new Qg(null,0,b,1,null,null,null))))}function sp(a,b){return new Y(null,3,5,Z,[qe(Nm.m(a,b)),qe(Nm.m(b,a)),qe(Mm.m(a,b))],null)}
function tp(a){if(null!=a&&null!=a.Pd)a=a.Pd(a);else{var b=tp[q(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=tp._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw y("EqualityPartition.equality-partition",a);}return a}function up(a,b){if(null!=a&&null!=a.Od)a=a.Od(a,b);else{var c=up[q(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else if(c=up._,null!=c)a=c.m?c.m(a,b):c.call(null,a,b);else throw y("Diff.diff-similar",a);}return a}tp["null"]=function(){return am};
tp.string=function(){return am};tp.number=function(){return am};tp.array=function(){return el};tp["function"]=function(){return am};tp["boolean"]=function(){return am};tp._=function(a){return(null!=a?a.B&1024||r===a.Dd||(a.B?0:x(sb,a)):x(sb,a))?nk:(null!=a?a.B&4096||r===a.Jd||(a.B?0:x(wb,a)):x(wb,a))?$i:(null!=a?a.B&16777216||r===a.Bc||(a.B?0:x(Pb,a)):x(Pb,a))?el:am};up["null"]=function(a,b){return mp(a,b)};up.string=function(a,b){return mp(a,b)};up.number=function(a,b){return mp(a,b)};
up.array=function(a,b){return rp(a,b)};up["function"]=function(a,b){return mp(a,b)};up["boolean"]=function(a,b){return mp(a,b)};up._=function(a,b){var c=function(){var d=tp(a);d=d instanceof I?d.va:null;switch(d){case "atom":return mp;case "set":return sp;case "sequential":return rp;case "map":return qp;default:throw Error(["No matching clause: ",z.j(d)].join(""));}}();return c.m?c.m(a,b):c.call(null,a,b)};
function pp(a,b){return P.m(a,b)?new Y(null,3,5,Z,[null,null,a],null):P.m(tp(a),tp(b))?up(a,b):mp(a,b)};To.A(T([Nl,Lj,Ni,function(a){Mo.A(Rh,T(["Handling re-frame event:",Uo(a,tj)]));return a},Ki,function(a){var b=Uo(a,tj),c=Uo(a,vl);a:{var d=wd;for(var e=a,f=J(new Y(null,2,5,Z,[wj,vl],null));;)if(null!=f){e=G.o(e,M(f),d);if(d===e){d=Dl;break a}f=N(f)}else{d=e;break a}}P.m(d,Dl)?Mo.A(Rh,T(["No app-db changes in:",b])):(d=pp(c,d),c=U(d,0,null),d=U(d,1,null),null!=c||null!=d?(Mo.A(Sj,T(["db clojure.data/diff for:",b])),Mo.A(Rh,T(["only before:",c])),Mo.A(Rh,T(["only after :",d])),Mo(Zl)):Mo.A(Rh,T(["No app-db changes resulted from:",
b])));return a}]));To.A(T([Nl,Ii,Ni,function(a){var b=Uo(a,tj);U(b,0,null);var c=U(b,1,null);if(P.m(2,R(b))&&rd(c))return Vo(a,tj,c);Mo.A(Sk,T(['re-frame: "unwrap" interceptor requires event to be a 2-vector of [event-id payload-map]. Got ',b]));return a},Ki,function(a){return Vo(a,tj,Uo(a,Vl))}]));
To.A(T([Nl,hl,Ni,function(a){if(td(Uo(a,tj)))return le(Te,a,new Y(null,2,5,Z,[Qk,tj],null),Af,T([1]));Mo.A(Sk,T(['re-frame: "trim-v" interceptor expected event to be a vector. Got a ',Na(Uo(a,tj))]));return a},Ki,function(a){return Vo(a,tj,Uo(a,Vl))}]));function vp(a){return To.A(T([Nl,Xj,Ni,function(b){var c=Qk.j(b),d=ne(c);c=G.m(d,vl);d=G.m(d,tj);c=a.m?a.m(c,d):a.call(null,c,d);return Se(b,new Y(null,2,5,Z,[wj,vl],null),c)}]))}
var wp=To.A(T([Nl,Zk,Ni,function(a){return Ue.o(a,Rk,function(b){return Ae.m(wl.j(B(No)),b)})}]));var xp=function xp(a){switch(arguments.length){case 2:return xp.m(arguments[0],arguments[1]);case 3:return xp.o(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.j(arguments.length)].join(""));}};xp.m=function(a,b){return xp.o(a,null,b)};xp.o=function(a,b,c){b=new Y(null,5,5,Z,[lp,jp,wp,b,vp(c)],null);return Ro(tj,a,Pe(Ja,Re(b)))};xp.J=3;xp.m(ki,X);var Cp={},Dp={},Ep=new Ig(null,new u(null,3,[Ai,null,fj,null,zj,null],null),null);function Gp(a,b,c,d,e,f,g,k){this.context=a;this.parent=b;this.depth=c;this.id=d;this.key=e;this.meta=f;this.data=g;this.reaction=this.render=null;this.children=k}Gp.prototype.terminal_QMARK_=function(){return P.m(0,this.children.size)};
Gp.prototype.for_each_child=function(a){for(var b=J(Bc(this.children.values())),c=null,d=0,e=0;;)if(e<d){var f=c.O(null,e);a.j?a.j(f):a.call(null,f);e+=1}else if(b=J(b))c=b,ud(c)?(b=D(c),d=E(c),c=b,f=R(b),b=d,d=f):(f=M(c),a.j?a.j(f):a.call(null,f),b=N(c),c=null,d=0),e=0;else return null};function Ip(a,b){return b.scene.enqueueForRender(b.node,a,b.forceReplace)}function Jp(a){a=Yb(a);return $b(Ta(function(b,c){return bc(b,c)},a,Ep))}
function Kp(a,b){return new u(null,8,[zj,zj.m(b,new Y(null,3,5,Z,[0,0,0],null)),Ai,Ai.m(b,new Y(null,3,5,Z,[0,0,0],null)),fj,fj.m(b,new Y(null,3,5,Z,[1,1,1],null)),Ol,Ol.m(b,!1),Kl,Kl.m(b,!1),Nl,Nl.j(b),hi,a,al,Jp(b)],null)}
var Lp=function(){var a=Ge(X),b=Ge(X),c=Ge(X),d=Ge(X),e=G.o(X,Vi,ph.D?ph.D():ph.call(null));return new Ah(zc.m("threeagent.impl.virtual-scene","-\x3enode"),function(f,g,k,l,m){g=J(m);f=M(g);g=N(g);return P.m(fi,f)?Fl:f instanceof I?Xl:gd(f)?dl:rd(f)?Xk:qd(f)?Xi:null==f&&null==g?Tk:null},e,a,b,c,d)}();Dh(Lp,Bh,function(a,b,c,d,e){return console.error("Invalid object form:",z.j(e))});Dh(Lp,Tk,function(){return null});
Dh(Lp,Fl,function(a,b,c,d,e){var f=J(e);M(f);f=N(f);M(f);f=N(f);var g=Oe(Ma,f);f=new Map;c=new Gp(b,c,v(c)?c.depth+1:0,null,d,kd(e),null,f);if("string"!==typeof d&&"number"!==typeof d)throw["^:key must be a string or number, found: ",z.j(d)].join("");d=J(Ce(vf,g));e=null;for(var k=g=0;;)if(k<g){var l=e.O(null,k),m=U(l,0,null);l=U(l,1,null);m=Lp.M(a,b,c,m,l);v(m)&&f.set(m.key,m);k+=1}else if(d=J(d))ud(d)?(g=D(d),d=E(d),e=g,g=R(g)):(g=M(d),e=U(g,0,null),g=U(g,1,null),e=Lp.M(a,b,c,e,g),v(e)&&f.set(e.key,
e),d=N(d),e=null,g=0),k=0;else break;return c});Dh(Lp,Xk,function(a,b,c,d,e){var f=J(e);e=M(f);f=N(f);return Lp.M(a,Dg.A(T([b,e])),c,d,f)});Dh(Lp,Xi,function(a,b,c,d,e){return Lp.M(a,b,c,d,jd(Ae.m(new Y(null,1,5,Z,[$l],null),e),kd(e)))});
Dh(Lp,Xl,function(a,b,c,d,e){var f=J(e),g=M(f);f=N(f);var k=M(f);e=kd(e);var l=ul.j(e);d=v(l)?l:d;l=rd(k)?k:X;k=Oe(Ma,rd(k)?Cc(f):f);f=new Map;g=Kp(g,l);c=new Gp(b,c,v(c)?c.depth+1:0,Nl.j(l),d,e,g,f);if("string"!==typeof d&&"number"!==typeof d)throw["^:key must be a string or number, found: ",z.j(d)].join("");g=J(Ce(vf,k));e=null;for(k=d=0;;)if(k<d){var m=e.O(null,k);l=U(m,0,null);m=U(m,1,null);l=Lp.M(a,b,c,l,m);v(l)&&f.set(l.key,l);k+=1}else if(g=J(g))ud(g)?(d=D(g),g=E(g),e=d,d=R(d)):(d=M(g),e=U(d,
0,null),d=U(d,1,null),e=Lp.M(a,b,c,e,d),v(e)&&f.set(e.key,e),g=N(g),e=null,d=0),k=0;else break;return c});function Mp(a,b){return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new K(g,0,null)}return d.call(this,f)}function d(e){return jd(new Y(null,2,5,Z,[$l,ie(b,e)],null),a)}c.J=0;c.K=function(e){e=J(e);return d(e)};c.A=d;return c}()}
Dh(Lp,dl,function(a,b,c,d,e){var f=function(){var C=ul.j(kd(e));return v(C)?C:d}(),g=J(e),k=M(g),l=N(g),m=kd(e),n=mh(new u(null,4,[ni,null,jk,null,Uh,null,Bi,!1],null));g=mh(new u(null,3,[ni,null,jk,null,Uh,null],null));var p=Mp(m,k),t=dn(function(){return ie(k,l)},n,"reaction",ye.m(Ip,p),new u(null,1,[xi,!0],null)),w=gd(t)?Mp(m,t):null,A=gd(t)?dn(function(){return ie(t,l)},g,"reaction",ye.m(Ip,w),new u(null,1,[xi,!0],null)):null;p=v(w)?w:p;b=Lp.M(a,b,c,f,jd(new Y(null,2,5,Z,[$l,v(A)?A:t],null),m));
v(w)&&(n.forceReplace=!0);b.ee=k;b.Rd=p;b.form=e;b.jd=e;b.Oc=[];c=n.reaction;v(c)&&(n.scene=a,n.node=b,b.Oc.push(c));n=g.reaction;v(n)&&(g.scene=a,g.node=b,b.Oc.push(n));return b});var Np=function(){var a=Ge(X),b=Ge(X),c=Ge(X),d=Ge(X),e=G.o(X,Vi,ph.D?ph.D():ph.call(null));return new Ah(zc.m("threeagent.impl.virtual-scene","-\x3enode-shallow"),function(f,g,k){g=J(k);f=M(g);g=N(g);return gd(f)?dl:P.m(fi,f)?Fl:f instanceof I?Xl:rd(f)?Xk:qd(f)?Xi:null==f&&null==g?Tk:null},e,a,b,c,d)}();Dh(Np,Tk,function(){return null});
Dh(Np,Xk,function(a,b,c){var d=J(c);c=M(d);d=N(d);return Np.o(a,Dg.A(T([b,c])),d)});Dh(Np,dl,function(a,b,c){return new u(null,5,[ul,a,Xk,b,Vh,Kp($l,X),yl,c,Ck,new Y(null,1,5,Z,[new Y(null,2,5,Z,[0,c],null)],null)],null)});Dh(Np,Xi,function(a,b,c){if(nd(c))return null;var d=kd(c);return Np.o(ul.m(d,a),b,jd(Ae.m(new Y(null,1,5,Z,[$l],null),c),d))});function Op(a){return null!=a&&J(a)}
Dh(Np,Fl,function(a,b,c){var d=J(c);M(d);var e=N(d);d=M(e);e=N(e);return new u(null,6,[ul,a,Xk,b,Vh,X,Ql,d,yl,c,Ck,Ce(function(f,g){var k=Z,l=ul.j(kd(g));return new Y(null,2,5,k,[v(l)?l:f,g],null)},Oe(Op,e))],null)});Dh(Np,Xl,function(a,b,c){var d=J(c),e=M(d),f=N(d),g=M(f);d=rd(g)?g:X;f=Oe(Op,rd(g)?Cc(f):f);return new u(null,5,[ul,a,Xk,b,Vh,Kp(e,d),yl,c,Ck,Ce(function(k,l){var m=Z,n=ul.j(kd(l));return new Y(null,2,5,m,[v(n)?n:k,l],null)},f)],null)});em(13,{});var iq={},jq,kq,lq,mq,nq;function qq(){}function uq(){}var Ee=new qq,Bf=new uq,Cf=new uq,Gh;if("undefined"===typeof Cp||"undefined"===typeof Dp||"undefined"===typeof iq||"undefined"===typeof jq)jq=function(a){this.Yd=a;this.B=393216;this.N=0},jq.prototype.U=function(a,b){return new jq(b)},jq.prototype.S=function(){return this.Yd},jq.Wa=!0,jq.Ma="threeagent.impl.entities/t_threeagent$impl$entities23229",jq.eb=function(a){return Sb(a,"threeagent.impl.entities/t_threeagent$impl$entities23229")};Gh=new jq(X);
var zq=new uq,Lh=new qq,Ph;if("undefined"===typeof Cp||"undefined"===typeof Dp||"undefined"===typeof iq||"undefined"===typeof kq)kq=function(a){this.Zd=a;this.B=393216;this.N=0},kq.prototype.U=function(a,b){return new kq(b)},kq.prototype.S=function(){return this.Zd},kq.Wa=!0,kq.Ma="threeagent.impl.entities/t_threeagent$impl$entities23297",kq.eb=function(a){return Sb(a,"threeagent.impl.entities/t_threeagent$impl$entities23297")};Ph=new kq(X);var Qh;
if("undefined"===typeof Cp||"undefined"===typeof Dp||"undefined"===typeof iq||"undefined"===typeof lq)lq=function(a){this.$d=a;this.B=393216;this.N=0},lq.prototype.U=function(a,b){return new lq(b)},lq.prototype.S=function(){return this.$d},lq.Wa=!0,lq.Ma="threeagent.impl.entities/t_threeagent$impl$entities23354",lq.eb=function(a){return Sb(a,"threeagent.impl.entities/t_threeagent$impl$entities23354")};Qh=new lq(X);
var Kq=new qq,Lq=new qq,Mq=new qq,Nq=new qq,Oq=new qq,Pq=new uq,Qq=new uq,Rq=new qq,Wh=new uq,Yh=new qq,Zh=new qq,ai=new qq,Bq=new qq,ii;if("undefined"===typeof Cp||"undefined"===typeof Dp||"undefined"===typeof iq||"undefined"===typeof mq)mq=function(a){this.ae=a;this.B=393216;this.N=0},mq.prototype.U=function(a,b){return new mq(b)},mq.prototype.S=function(){return this.ae},mq.Wa=!0,mq.Ma="threeagent.impl.entities/t_threeagent$impl$entities23644",mq.eb=function(a){return Sb(a,"threeagent.impl.entities/t_threeagent$impl$entities23644")};
ii=new mq(X);var Gq=new qq,Hq=new qq,ji;if("undefined"===typeof Cp||"undefined"===typeof Dp||"undefined"===typeof iq||"undefined"===typeof nq)nq=function(a){this.be=a;this.B=393216;this.N=0},nq.prototype.U=function(a,b){return new nq(b)},nq.prototype.S=function(){return this.be},nq.Wa=!0,nq.Ma="threeagent.impl.entities/t_threeagent$impl$entities23651",nq.eb=function(a){return Sb(a,"threeagent.impl.entities/t_threeagent$impl$entities23651")};ji=new nq(X);
a:for(var li=[Rl,Ti,zi,Sj,Kh,Wk,Gj,Nh,bj,ml,Nk,ei,Ll,wi,Pl,xk,Yl,bl,Ul,Rj,$h,$l,Wl,Ik,El],mi=[Ee,Bf,Cf,Gh,zq,Lh,Ph,Qh,Kq,Lq,Mq,Nq,Oq,Pq,Qq,Rq,Wh,Yh,Zh,ai,Bq,ii,Gq,Hq,ji],ri=li.length,si=0,ti=Yb(Wf);;)if(si<ri){if(mi.length<=si)throw Error(["No value supplied for key: ",z.j(li[si])].join(""));var ui=si+1,vi=ac(ti,li[si],mi[si]);si=ui;ti=vi}else{$b(ti);break a};var Br,yi=new u(null,1,[Ok,0],null);Br=Ym.j?Ym.j(yi):Ym.call(null,yi);P.m(0,Ok.j(B(Br)))&&window.setInterval(function(){return Ie.F(Br,Ue,Ok,Lc)},16);
function ds(){return new Y(null,4,5,Z,[Xh,new u(null,1,[Ak,new Y(null,4,5,Z,["flex","[\x26\x3e*]:flex-1","[\x26\x3ediv]:h-[100vh]","text-white"],null)],null),new Y(null,2,5,Z,[Ij,new u(null,1,[Ak,new Y(null,2,5,Z,["pl-8","pt-12"],null)],null)],null),new Y(null,6,5,Z,[lb,new u(null,1,[Ak,new Y(null,7,5,Z,"pl-8 pr-12 pt-12 overflow-y-scroll snap-y snap-mandatory pb-[50vh]".split(" "),null)],null),new Y(null,4,5,Z,[sa,new u(null,1,[Ak,new Y(null,6,5,Z,"flex flex-col gap-8 pt-20 text-right snap-start".split(" "),
null)],null),new Y(null,5,5,Z,[Aj,new u(null,1,[Ak,new Y(null,3,5,Z,["text-lg","w-1/2","self-end"],null)],null),new Y(null,2,5,Z,[ej,"We are gathering out-of-distribution thinkers and tinkerers to demystify what goes on inside neural networks."],null),new Y(null,1,5,Z,[Dk],null),new Y(null,2,5,Z,[ej,"Maybe you are one of them?"],null)],null),new Y(null,3,5,Z,[Aj,new u(null,1,[Ak,new Y(null,1,5,Z,["text-8xl"],null)],null),"Discover the world of neurons"],null)],null),new Y(null,4,5,Z,[Jk,new u(null,
1,[Ak,new Y(null,5,5,Z,["flex","flex-col","gap-8","pt-[50vh]","text-left"],null)],null),new Y(null,9,5,Z,[Aj,new u(null,1,[Ak,new Y(null,3,5,Z,["text-lg","w-1/2","self-start"],null)],null),new Y(null,3,5,Z,[rb,new u(null,1,[Ak,new Y(null,2,5,Z,["snap-start","pt-20"],null)],null),"If you're:"],null),new Y(null,1,5,Z,[ok],null),new Y(null,2,5,Z,[ej,"... ambitious,"],null),new Y(null,1,5,Z,[ok],null),new Y(null,2,5,Z,[ej,"... (pathologically) curious,"],null),new Y(null,1,5,Z,[ok],null),new Y(null,2,
5,Z,[ej,"... someone who gets riled up when they don't understand something,"],null)],null),new Y(null,3,5,Z,[Aj,new u(null,1,[Ak,new Y(null,1,5,Z,["text-8xl"],null)],null),"Then we're looking for you"],null)],null),new Y(null,5,5,Z,[Fi,new u(null,1,[Ak,new Y(null,6,5,Z,"flex flex-col gap-8 pt-[50vh] text-left text-lg".split(" "),null)],null),new Y(null,6,5,Z,[Aj,new u(null,1,[Ak,new Y(null,3,5,Z,["w-1/2","self-end","text-right"],null)],null),new Y(null,3,5,Z,[ua,new u(null,1,[Ak,new Y(null,2,5,Z,
["snap-start","pt-20"],null)],null),"We are a fledgling alignment shop in Southeast Asia (Manila)."],null),new Y(null,1,5,Z,[ok],null),new Y(null,2,5,Z,[ej,"Humanity's future is at risk if we don't figure out what's going on with machine learning models."],null),new Y(null,1,5,Z,[ok],null)],null),new Y(null,10,5,Z,[Aj,new u(null,1,[Ak,new Y(null,2,5,Z,["w-2/3","self-start"],null)],null),new Y(null,2,5,Z,[ej,"So we gathered:"],null),new Y(null,1,5,Z,[ok],null),new Y(null,4,5,Z,[ej,"... a ",new Y(null,
3,5,Z,[dk,new u(null,2,[Ek,"Brian Tan",Ak,new Y(null,2,5,Z,["hover:blur-sm","border"],null)],null),"\ud83d\udee1PALADIN\ud83d\udee1"],null)," who co-founded Effective Altruism Philippines,"],null),new Y(null,1,5,Z,[ok],null),new Y(null,4,5,Z,[ej,"... a ",new Y(null,3,5,Z,[dk,new u(null,2,[Ek,"Clark Urzo",Ak,new Y(null,2,5,Z,["hover:blur-sm","border"],null)],null),"\ud83d\udc7aMAVERICK\ud83d\udc7a"],null)," who honed his craft remotely under John Wentworth's SERI MATS program, and"],null),new Y(null,
1,5,Z,[ok],null),new Y(null,5,5,Z,[ej,"... a ",new Y(null,3,5,Z,[dk,new u(null,2,[Ek,"Kriz Tahimic",Ak,new Y(null,2,5,Z,["hover:blur-sm","border"],null)],null),"\ud83e\uddd9‍♂️WIZARD\ud83e\uddd9‍♂️"],null)," who has mastered the art of ",new Y(null,2,5,Z,[hk,"≪superposition≫"],null)],null),new Y(null,1,5,Z,[sk],null)],null),new Y(null,3,5,Z,[Aj,new u(null,1,[Ak,new Y(null,3,5,Z,["w-2/3","self-end","text-right"],null)],null),new Y(null,4,5,Z,[ej,"to guide to 2",new Y(null,2,5,Z,[rl,"4"],null)," scholars through the eight-week-long journey to master the Art of Divining Transformers, so that we may soon slay the mystery of giant, inscrutable matrices."],
null)],null)],null),new Y(null,4,5,Z,[sj,new u(null,1,[Ak,new Y(null,5,5,Z,["flex","flex-col","gap-8","pt-[50vh]","text-left"],null)],null),new Y(null,3,5,Z,[Qa,new u(null,1,[Ak,new Y(null,2,5,Z,["text-8xl","snap-start"],null)],null),"Waver no more. Heed the call."],null),new Y(null,3,5,Z,[Aj,new u(null,1,[Ak,new Y(null,3,5,Z,["text-8xl","mt-16","self-end"],null)],null),new Y(null,2,5,Z,[Mh,new Y(null,3,5,Z,[Zi,new u(null,2,[Tj,"https://forms.gle/Gq9haz6cUAUcBCXx7",Ak,new Y(null,1,5,Z,["z-50"],null)],
null),"Join us \x3e"],null)],null)],null)],null)],null)],null)}
function fo(){return new Y(null,5,5,Z,[gi,new u(null,1,[Ak,new Y(null,1,5,Z,["text-white"],null)],null),new Y(null,4,5,Z,[wk,new u(null,1,[Ak,new Y(null,10,5,Z,"top-0 sticky  flex justify-between px-8 py-12 [\x26\x3e*]:text-xl bg-black z-10".split(" "),null)],null),new Y(null,3,5,Z,[nl,new u(null,1,[Ak,new Y(null,2,5,Z,["flex-1","shrink-0"],null)],null),new Y(null,4,5,Z,[Zi,new u(null,2,[Tj,"/",Ak,new Y(null,4,5,Z,["flex","flex-nowrap","gap-4","hover:appearance-none"],null)],null),new Y(null,2,5,
Z,[oi,new u(null,2,[Yk,"img/whitebox-logo.png",Ak,new Y(null,2,5,Z,["w-8","h-auto"],null)],null)],null),new Y(null,2,5,Z,[ej,"Whitebox Research"],null)],null)],null),new Y(null,6,5,Z,[Al,new u(null,1,[Ak,new Y(null,5,5,Z,["flex-1","flex","justify-end","gap-16","[\x26\x3ebutton]:text-white"],null)],null),new Y(null,2,5,Z,[Mh,new Y(null,3,5,Z,[Zi,new u(null,1,[Tj,"#section-about"],null),"About"],null)],null),new Y(null,2,5,Z,[Mh,new Y(null,3,5,Z,[Zi,new u(null,1,[Tj,"#criteria-target"],null),"What we look for"],
null)],null),new Y(null,2,5,Z,[Mh,new Y(null,3,5,Z,[Zi,new u(null,1,[Tj,"#team-target"],null),"Who we are"],null)],null),new Y(null,2,5,Z,[Mh,new Y(null,3,5,Z,[Zi,new u(null,1,[Tj,"#action-target"],null),"Join us"],null)],null)],null)],null),new Y(null,4,5,Z,[uk,new u(null,1,[Ak,new Y(null,1,5,Z,["mt-8"],null)],null),new Y(null,3,5,Z,[fc,new u(null,1,[Ak,new Y(null,9,5,Z,"absolute top-0 bottom-0 w-1/2 flex flex-col justify-center items-center pl-8".split(" "),null)],null),new Y(null,3,5,Z,[Di,new u(null,
1,[Ak,new Y(null,3,5,Z,["w-fit","border","border-white"],null)],null),new Y(null,2,5,Z,[oi,new u(null,2,[Yk,"img/whitebox-image.png",Ak,new Y(null,3,5,Z,["opacity-90","w-[500px]","h-auto"],null)],null)],null)],null)],null),new Y(null,1,5,Z,[ds],null)],null),new Y(null,1,5,Z,[Sh],null)],null)};function Hi(){for(var a=J(B($o)),b=null,c=0,d=0;;)if(d<c){var e=b.O(null,d);U(e,0,null);e=U(e,1,null);Zm(e);d+=1}else if(a=J(a))ud(a)?(c=D(a),a=E(a),b=c,c=R(c)):(b=M(a),U(b,0,null),b=U(b,1,null),Zm(b),a=N(a),b=null,c=0),d=0;else break;v(qe(B($o)))&&Mo.A(Sk,T(["re-frame: The subscription cache isn't empty after being cleared"]));a=new Y(null,1,5,Z,[ki],null);Zo(a);gp(hp,a);return eo()}var Ji=["app","core","_main"],Li=aa;Ji[0]in Li||"undefined"==typeof Li.execScript||Li.execScript("var "+Ji[0]);
for(var Oi;Ji.length&&(Oi=Ji.shift());)Ji.length||void 0===Hi?Li=Li[Oi]&&Li[Oi]!==Object.prototype[Oi]?Li[Oi]:Li[Oi]={}:Li[Oi]=Hi;
}).call(this);